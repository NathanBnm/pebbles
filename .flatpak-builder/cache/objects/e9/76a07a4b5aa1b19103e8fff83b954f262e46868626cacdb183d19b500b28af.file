/* DateView.c generated by valac 0.48.14, the Vala compiler
 * generated from DateView.vala, do not modify */

/*-
 * Copyright (c) 2017-2020 Subhadeep Jasu <subhajasu@gmail.com>
 * Copyright (c) 2017-2020 Saunak Biswas  <saunakbis97@gmail.com>
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation; either
 * version 3 of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License 
 * along with this program. If not, see <https://www.gnu.org/licenses/>.
 *
 * Authored by: Subhadeep Jasu <subhajasu@gmail.com>
 *              Saunak Biswas  <saunakbis97@gmail.com>
 */

#include <gtk/gtk.h>
#include <glib-object.h>
#include <granite.h>
#include <glib.h>
#include <glib/gi18n-lib.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <gdk/gdk.h>

#define PEBBLES_TYPE_DATE_VIEW (pebbles_date_view_get_type ())
#define PEBBLES_DATE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_DATE_VIEW, PebblesDateView))
#define PEBBLES_DATE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_DATE_VIEW, PebblesDateViewClass))
#define PEBBLES_IS_DATE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_DATE_VIEW))
#define PEBBLES_IS_DATE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_DATE_VIEW))
#define PEBBLES_DATE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_DATE_VIEW, PebblesDateViewClass))

typedef struct _PebblesDateView PebblesDateView;
typedef struct _PebblesDateViewClass PebblesDateViewClass;
typedef struct _PebblesDateViewPrivate PebblesDateViewPrivate;

#define PEBBLES_TYPE_SETTINGS (pebbles_settings_get_type ())
#define PEBBLES_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_SETTINGS, PebblesSettings))
#define PEBBLES_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_SETTINGS, PebblesSettingsClass))
#define PEBBLES_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_SETTINGS))
#define PEBBLES_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_SETTINGS))
#define PEBBLES_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_SETTINGS, PebblesSettingsClass))

typedef struct _PebblesSettings PebblesSettings;
typedef struct _PebblesSettingsClass PebblesSettingsClass;

#define PEBBLES_TYPE_DATE_CALCULATOR (pebbles_date_calculator_get_type ())
#define PEBBLES_DATE_CALCULATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_DATE_CALCULATOR, PebblesDateCalculator))
#define PEBBLES_DATE_CALCULATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_DATE_CALCULATOR, PebblesDateCalculatorClass))
#define PEBBLES_IS_DATE_CALCULATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_DATE_CALCULATOR))
#define PEBBLES_IS_DATE_CALCULATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_DATE_CALCULATOR))
#define PEBBLES_DATE_CALCULATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_DATE_CALCULATOR, PebblesDateCalculatorClass))

typedef struct _PebblesDateCalculator PebblesDateCalculator;
typedef struct _PebblesDateCalculatorClass PebblesDateCalculatorClass;
enum  {
	PEBBLES_DATE_VIEW_0_PROPERTY,
	PEBBLES_DATE_VIEW_NUM_PROPERTIES
};
static GParamSpec* pebbles_date_view_properties[PEBBLES_DATE_VIEW_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
#define _pebbles_date_calculator_unref0(var) ((var == NULL) ? NULL : (var = (pebbles_date_calculator_unref (var), NULL)))

#define PEBBLES_TYPE_MAIN_WINDOW (pebbles_main_window_get_type ())
#define PEBBLES_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_MAIN_WINDOW, PebblesMainWindow))
#define PEBBLES_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_MAIN_WINDOW, PebblesMainWindowClass))
#define PEBBLES_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_MAIN_WINDOW))
#define PEBBLES_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_MAIN_WINDOW))
#define PEBBLES_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_MAIN_WINDOW, PebblesMainWindowClass))

typedef struct _PebblesMainWindow PebblesMainWindow;
typedef struct _PebblesMainWindowClass PebblesMainWindowClass;
typedef struct _PebblesMainWindowPrivate PebblesMainWindowPrivate;

#define PEBBLES_TYPE_HISTORY_MANAGER (pebbles_history_manager_get_type ())
#define PEBBLES_HISTORY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_HISTORY_MANAGER, PebblesHistoryManager))
#define PEBBLES_HISTORY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_HISTORY_MANAGER, PebblesHistoryManagerClass))
#define PEBBLES_IS_HISTORY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_HISTORY_MANAGER))
#define PEBBLES_IS_HISTORY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_HISTORY_MANAGER))
#define PEBBLES_HISTORY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_HISTORY_MANAGER, PebblesHistoryManagerClass))

typedef struct _PebblesHistoryManager PebblesHistoryManager;
typedef struct _PebblesHistoryManagerClass PebblesHistoryManagerClass;

#define PEBBLES_TYPE_BOTTOM_POPPER (pebbles_bottom_popper_get_type ())
#define PEBBLES_BOTTOM_POPPER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_BOTTOM_POPPER, PebblesBottomPopper))
#define PEBBLES_BOTTOM_POPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_BOTTOM_POPPER, PebblesBottomPopperClass))
#define PEBBLES_IS_BOTTOM_POPPER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_BOTTOM_POPPER))
#define PEBBLES_IS_BOTTOM_POPPER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_BOTTOM_POPPER))
#define PEBBLES_BOTTOM_POPPER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_BOTTOM_POPPER, PebblesBottomPopperClass))

typedef struct _PebblesBottomPopper PebblesBottomPopper;
typedef struct _PebblesBottomPopperClass PebblesBottomPopperClass;
typedef struct _Block2Data Block2Data;
#define _g_free0(var) (var = (g_free (var), NULL))

#define PEBBLES_TYPE_DATE_FORMATTED (pebbles_date_formatted_get_type ())
#define PEBBLES_DATE_FORMATTED(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), PEBBLES_TYPE_DATE_FORMATTED, PebblesDateFormatted))
#define PEBBLES_DATE_FORMATTED_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), PEBBLES_TYPE_DATE_FORMATTED, PebblesDateFormattedClass))
#define PEBBLES_IS_DATE_FORMATTED(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), PEBBLES_TYPE_DATE_FORMATTED))
#define PEBBLES_IS_DATE_FORMATTED_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), PEBBLES_TYPE_DATE_FORMATTED))
#define PEBBLES_DATE_FORMATTED_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), PEBBLES_TYPE_DATE_FORMATTED, PebblesDateFormattedClass))

typedef struct _PebblesDateFormatted PebblesDateFormatted;
typedef struct _PebblesDateFormattedClass PebblesDateFormattedClass;
typedef struct _PebblesDateFormattedPrivate PebblesDateFormattedPrivate;
#define _pebbles_date_formatted_unref0(var) ((var == NULL) ? NULL : (var = (pebbles_date_formatted_unref (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_time_zone_unref0(var) ((var == NULL) ? NULL : (var = (g_time_zone_unref (var), NULL)))

struct _PebblesDateView {
	GtkGrid parent_instance;
	PebblesDateViewPrivate * priv;
};

struct _PebblesDateViewClass {
	GtkGridClass parent_class;
};

struct _PebblesDateViewPrivate {
	GraniteWidgetsModeButton* date_mode;
	GtkGrid* date_difference_view;
	GraniteWidgetsDatePicker* datepicker_diff_from;
	GDateTime* datetime_diff_from;
	GraniteWidgetsDatePicker* datepicker_diff_to;
	GDateTime* datetime_diff_to;
	GtkLabel* date_diff_label;
	GtkLabel* days_diff_label;
	GtkGrid* date_add_view;
	GraniteWidgetsDatePicker* datepicker_add_sub;
	GtkLabel* week_day_label;
	GtkLabel* date_dmy_label;
	GtkLabel* add_label;
	GtkEntry* add_entry_day;
	GtkEntry* add_entry_month;
	GtkEntry* add_entry_year;
	GtkCalendar* main_calendar;
	GtkStack* date_mode_stack;
	GtkSwitch* diff_mode_switch;
	GtkSwitch* add_mode_switch;
	GtkGrid* date_diff_grid;
	GtkGrid* date_add_grid;
	PebblesSettings* settings;
	PebblesDateCalculator* date_calculator_object;
};

struct _PebblesMainWindow {
	GtkWindow parent_instance;
	PebblesMainWindowPrivate * priv;
	GtkStack* header_switcher;
	GtkSwitch* shift_switch;
	GtkSwitch* diff_mode_switch;
	GtkSwitch* add_mode_switch;
	GtkStack* date_mode_stack;
	GtkGrid* date_diff_grid;
	GtkGrid* date_add_grid;
	GtkSwitch* shift_switch_prog;
	GtkButton* update_button;
	PebblesHistoryManager* history_manager;
};

struct _PebblesMainWindowClass {
	GtkWindowClass parent_class;
};

struct _Block2Data {
	int _ref_count_;
	PebblesDateView* self;
	PebblesBottomPopper* day_popper;
	PebblesBottomPopper* month_popper;
	PebblesBottomPopper* year_popper;
	GtkStack* date_calc_holder;
};

struct _PebblesDateFormatted {
	GTypeInstance parent_instance;
	volatile int ref_count;
	PebblesDateFormattedPrivate * priv;
	gint day;
	gint week;
	gint month;
	gint year;
};

struct _PebblesDateFormattedClass {
	GTypeClass parent_class;
	void (*finalize) (PebblesDateFormatted *self);
};

static gint PebblesDateView_private_offset;
static gpointer pebbles_date_view_parent_class = NULL;

GType pebbles_date_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesDateView, g_object_unref)
GType pebbles_settings_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesSettings, g_object_unref)
gpointer pebbles_date_calculator_ref (gpointer instance);
void pebbles_date_calculator_unref (gpointer instance);
GParamSpec* pebbles_param_spec_date_calculator (const gchar* name,
                                                const gchar* nick,
                                                const gchar* blurb,
                                                GType object_type,
                                                GParamFlags flags);
void pebbles_value_set_date_calculator (GValue* value,
                                        gpointer v_object);
void pebbles_value_take_date_calculator (GValue* value,
                                         gpointer v_object);
gpointer pebbles_value_get_date_calculator (const GValue* value);
GType pebbles_date_calculator_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesDateCalculator, pebbles_date_calculator_unref)
GType pebbles_main_window_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesMainWindow, g_object_unref)
PebblesDateView* pebbles_date_view_new (PebblesMainWindow* window);
PebblesDateView* pebbles_date_view_construct (GType object_type,
                                              PebblesMainWindow* window);
PebblesSettings* pebbles_settings_get_default (void);
static void pebbles_date_view_build_ui (PebblesDateView* self);
gpointer pebbles_history_manager_ref (gpointer instance);
void pebbles_history_manager_unref (gpointer instance);
GParamSpec* pebbles_param_spec_history_manager (const gchar* name,
                                                const gchar* nick,
                                                const gchar* blurb,
                                                GType object_type,
                                                GParamFlags flags);
void pebbles_value_set_history_manager (GValue* value,
                                        gpointer v_object);
void pebbles_value_take_history_manager (GValue* value,
                                         gpointer v_object);
gpointer pebbles_value_get_history_manager (const GValue* value);
GType pebbles_history_manager_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesHistoryManager, pebbles_history_manager_unref)
static gboolean __lambda212_ (PebblesDateView* self,
                       gboolean event);
static void pebbles_date_view_do_calculations (PebblesDateView* self);
static gboolean ___lambda212__gtk_switch_state_set (GtkSwitch* _sender,
                                             gboolean state,
                                             gpointer self);
static gboolean __lambda213_ (PebblesDateView* self,
                       gboolean event);
static void pebbles_date_view_find_date (PebblesDateView* self,
                                  gboolean mode);
static gboolean ___lambda213__gtk_switch_state_set (GtkSwitch* _sender,
                                             gboolean state,
                                             gpointer self);
static void pebbles_date_view_load_date (PebblesDateView* self);
GType pebbles_bottom_popper_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesBottomPopper, g_object_unref)
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
const gchar* pebbles_settings_get_date_day_entry (PebblesSettings* self);
PebblesBottomPopper* pebbles_bottom_popper_new (GtkEntry* entry);
PebblesBottomPopper* pebbles_bottom_popper_construct (GType object_type,
                                                      GtkEntry* entry);
static void __lambda202_ (Block2Data* _data2_);
static void ___lambda202__gtk_entry_icon_release (GtkEntry* _sender,
                                           GtkEntryIconPosition icon_pos,
                                           GdkEvent* event,
                                           gpointer self);
static void __lambda203_ (PebblesDateView* self);
void pebbles_settings_set_date_day_entry (PebblesSettings* self,
                                          const gchar* value);
static void ___lambda203__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
const gchar* pebbles_settings_get_date_month_entry (PebblesSettings* self);
static void __lambda204_ (Block2Data* _data2_);
static void ___lambda204__gtk_entry_icon_release (GtkEntry* _sender,
                                           GtkEntryIconPosition icon_pos,
                                           GdkEvent* event,
                                           gpointer self);
static void __lambda205_ (PebblesDateView* self);
void pebbles_settings_set_date_month_entry (PebblesSettings* self,
                                            const gchar* value);
static void ___lambda205__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
const gchar* pebbles_settings_get_date_year_entry (PebblesSettings* self);
static void __lambda206_ (Block2Data* _data2_);
static void ___lambda206__gtk_entry_icon_release (GtkEntry* _sender,
                                           GtkEntryIconPosition icon_pos,
                                           GdkEvent* event,
                                           gpointer self);
static void __lambda207_ (PebblesDateView* self);
void pebbles_settings_set_date_year_entry (PebblesSettings* self,
                                           const gchar* value);
static void ___lambda207__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
static void __lambda208_ (Block2Data* _data2_);
static void ___lambda208__granite_widgets_mode_button_mode_changed (GraniteWidgetsModeButton* _sender,
                                                             GtkWidget* widget,
                                                             gpointer self);
PebblesDateCalculator* pebbles_date_calculator_new (void);
PebblesDateCalculator* pebbles_date_calculator_construct (GType object_type);
static void __lambda209_ (PebblesDateView* self);
void pebbles_settings_set_date_diff_from (PebblesSettings* self,
                                          const gchar* value);
static void ___lambda209__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
static void __lambda210_ (PebblesDateView* self);
void pebbles_settings_set_date_diff_to (PebblesSettings* self,
                                        const gchar* value);
static void ___lambda210__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
static void __lambda211_ (PebblesDateView* self);
void pebbles_settings_set_date_add_sub (PebblesSettings* self,
                                        const gchar* value);
static void ___lambda211__gtk_editable_changed (GtkEditable* _sender,
                                         gpointer self);
gchar* pebbles_date_calculator_date_difference (PebblesDateCalculator* self,
                                                GDateTime* start_date_time,
                                                GDateTime* end_date_time);
gpointer pebbles_date_formatted_ref (gpointer instance);
void pebbles_date_formatted_unref (gpointer instance);
GParamSpec* pebbles_param_spec_date_formatted (const gchar* name,
                                               const gchar* nick,
                                               const gchar* blurb,
                                               GType object_type,
                                               GParamFlags flags);
void pebbles_value_set_date_formatted (GValue* value,
                                       gpointer v_object);
void pebbles_value_take_date_formatted (GValue* value,
                                        gpointer v_object);
gpointer pebbles_value_get_date_formatted (const GValue* value);
GType pebbles_date_formatted_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (PebblesDateFormatted, pebbles_date_formatted_unref)
PebblesDateFormatted* pebbles_date_calculator_difference_formatter (PebblesDateCalculator* self,
                                                                    GDateTime* start_date_time,
                                                                    GDateTime* end_date_time);
static GDateTime* pebbles_date_view_get_date_from_string (PebblesDateView* self,
                                                   const gchar* date_string);
const gchar* pebbles_settings_get_date_diff_from (PebblesSettings* self);
const gchar* pebbles_settings_get_date_diff_to (PebblesSettings* self);
const gchar* pebbles_settings_get_date_add_sub (PebblesSettings* self);
static void pebbles_date_view_finalize (GObject * obj);
static GType pebbles_date_view_get_type_once (void);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);

static inline gpointer
pebbles_date_view_get_instance_private (PebblesDateView* self)
{
	return G_STRUCT_MEMBER_P (self, PebblesDateView_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 62 "../src/Views/DateView.vala"
	return self ? g_object_ref (self) : NULL;
#line 364 "DateView.c"
}

static gboolean
__lambda212_ (PebblesDateView* self,
              gboolean event)
{
	gboolean result = FALSE;
#line 68 "../src/Views/DateView.vala"
	pebbles_date_view_do_calculations (self);
#line 69 "../src/Views/DateView.vala"
	result = FALSE;
#line 69 "../src/Views/DateView.vala"
	return result;
#line 378 "DateView.c"
}

static gboolean
___lambda212__gtk_switch_state_set (GtkSwitch* _sender,
                                    gboolean state,
                                    gpointer self)
{
	gboolean result;
	result = __lambda212_ ((PebblesDateView*) self, state);
#line 67 "../src/Views/DateView.vala"
	return result;
#line 390 "DateView.c"
}

static gboolean
__lambda213_ (PebblesDateView* self,
              gboolean event)
{
	GtkSwitch* _tmp0_;
	gboolean result = FALSE;
#line 72 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->add_mode_switch;
#line 72 "../src/Views/DateView.vala"
	if (gtk_switch_get_active (_tmp0_)) {
#line 403 "DateView.c"
		GtkLabel* _tmp1_;
#line 73 "../src/Views/DateView.vala"
		_tmp1_ = self->priv->add_label;
#line 73 "../src/Views/DateView.vala"
		gtk_label_set_text (_tmp1_, _ ("Subtract"));
#line 74 "../src/Views/DateView.vala"
		pebbles_date_view_find_date (self, TRUE);
#line 411 "DateView.c"
	} else {
		GtkLabel* _tmp2_;
#line 77 "../src/Views/DateView.vala"
		_tmp2_ = self->priv->add_label;
#line 77 "../src/Views/DateView.vala"
		gtk_label_set_text (_tmp2_, _ ("Add"));
#line 78 "../src/Views/DateView.vala"
		pebbles_date_view_find_date (self, FALSE);
#line 420 "DateView.c"
	}
#line 80 "../src/Views/DateView.vala"
	result = FALSE;
#line 80 "../src/Views/DateView.vala"
	return result;
#line 426 "DateView.c"
}

static gboolean
___lambda213__gtk_switch_state_set (GtkSwitch* _sender,
                                    gboolean state,
                                    gpointer self)
{
	gboolean result;
	result = __lambda213_ ((PebblesDateView*) self, state);
#line 71 "../src/Views/DateView.vala"
	return result;
#line 438 "DateView.c"
}

PebblesDateView*
pebbles_date_view_construct (GType object_type,
                             PebblesMainWindow* window)
{
	PebblesDateView * self = NULL;
	PebblesSettings* _tmp0_;
	GtkSwitch* _tmp1_;
	GtkSwitch* _tmp2_;
	GtkSwitch* _tmp3_;
	GtkSwitch* _tmp4_;
	GtkStack* _tmp5_;
	GtkStack* _tmp6_;
	GtkGrid* _tmp7_;
	GtkGrid* _tmp8_;
	GtkGrid* _tmp9_;
	GtkGrid* _tmp10_;
	GtkSwitch* _tmp11_;
	GtkSwitch* _tmp12_;
#line 59 "../src/Views/DateView.vala"
	g_return_val_if_fail (window != NULL, NULL);
#line 59 "../src/Views/DateView.vala"
	self = (PebblesDateView*) g_object_new (object_type, NULL);
#line 60 "../src/Views/DateView.vala"
	_tmp0_ = pebbles_settings_get_default ();
#line 60 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->settings);
#line 60 "../src/Views/DateView.vala"
	self->priv->settings = _tmp0_;
#line 61 "../src/Views/DateView.vala"
	pebbles_date_view_build_ui (self);
#line 62 "../src/Views/DateView.vala"
	_tmp1_ = window->diff_mode_switch;
#line 62 "../src/Views/DateView.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 62 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->diff_mode_switch);
#line 62 "../src/Views/DateView.vala"
	self->priv->diff_mode_switch = _tmp2_;
#line 63 "../src/Views/DateView.vala"
	_tmp3_ = window->add_mode_switch;
#line 63 "../src/Views/DateView.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 63 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_mode_switch);
#line 63 "../src/Views/DateView.vala"
	self->priv->add_mode_switch = _tmp4_;
#line 64 "../src/Views/DateView.vala"
	_tmp5_ = window->date_mode_stack;
#line 64 "../src/Views/DateView.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 64 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_mode_stack);
#line 64 "../src/Views/DateView.vala"
	self->priv->date_mode_stack = _tmp6_;
#line 65 "../src/Views/DateView.vala"
	_tmp7_ = window->date_diff_grid;
#line 65 "../src/Views/DateView.vala"
	_tmp8_ = _g_object_ref0 (_tmp7_);
#line 65 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_diff_grid);
#line 65 "../src/Views/DateView.vala"
	self->priv->date_diff_grid = _tmp8_;
#line 66 "../src/Views/DateView.vala"
	_tmp9_ = window->date_add_grid;
#line 66 "../src/Views/DateView.vala"
	_tmp10_ = _g_object_ref0 (_tmp9_);
#line 66 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_add_grid);
#line 66 "../src/Views/DateView.vala"
	self->priv->date_add_grid = _tmp10_;
#line 67 "../src/Views/DateView.vala"
	_tmp11_ = self->priv->diff_mode_switch;
#line 67 "../src/Views/DateView.vala"
	g_signal_connect_object (_tmp11_, "state-set", (GCallback) ___lambda212__gtk_switch_state_set, self, 0);
#line 71 "../src/Views/DateView.vala"
	_tmp12_ = self->priv->add_mode_switch;
#line 71 "../src/Views/DateView.vala"
	g_signal_connect_object (_tmp12_, "state-set", (GCallback) ___lambda213__gtk_switch_state_set, self, 0);
#line 82 "../src/Views/DateView.vala"
	pebbles_date_view_load_date (self);
#line 59 "../src/Views/DateView.vala"
	return self;
#line 523 "DateView.c"
}

PebblesDateView*
pebbles_date_view_new (PebblesMainWindow* window)
{
#line 59 "../src/Views/DateView.vala"
	return pebbles_date_view_construct (PEBBLES_TYPE_DATE_VIEW, window);
#line 531 "DateView.c"
}

static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 85 "../src/Views/DateView.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 85 "../src/Views/DateView.vala"
	return _data2_;
#line 541 "DateView.c"
}

static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 85 "../src/Views/DateView.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 551 "DateView.c"
		PebblesDateView* self;
#line 85 "../src/Views/DateView.vala"
		self = _data2_->self;
#line 85 "../src/Views/DateView.vala"
		_g_object_unref0 (_data2_->date_calc_holder);
#line 85 "../src/Views/DateView.vala"
		_g_object_unref0 (_data2_->year_popper);
#line 85 "../src/Views/DateView.vala"
		_g_object_unref0 (_data2_->month_popper);
#line 85 "../src/Views/DateView.vala"
		_g_object_unref0 (_data2_->day_popper);
#line 85 "../src/Views/DateView.vala"
		_g_object_unref0 (self);
#line 85 "../src/Views/DateView.vala"
		g_slice_free (Block2Data, _data2_);
#line 567 "DateView.c"
	}
}

static void
__lambda202_ (Block2Data* _data2_)
{
	PebblesDateView* self;
#line 161 "../src/Views/DateView.vala"
	self = _data2_->self;
#line 162 "../src/Views/DateView.vala"
	gtk_widget_set_visible ((GtkWidget*) _data2_->day_popper, TRUE);
#line 579 "DateView.c"
}

static void
___lambda202__gtk_entry_icon_release (GtkEntry* _sender,
                                      GtkEntryIconPosition icon_pos,
                                      GdkEvent* event,
                                      gpointer self)
{
#line 161 "../src/Views/DateView.vala"
	__lambda202_ (self);
#line 590 "DateView.c"
}

static void
__lambda203_ (PebblesDateView* self)
{
	GtkSwitch* _tmp0_;
	PebblesSettings* _tmp1_;
	GtkEntry* _tmp2_;
	const gchar* _tmp3_;
#line 166 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->add_mode_switch;
#line 166 "../src/Views/DateView.vala"
	pebbles_date_view_find_date (self, gtk_switch_get_active (_tmp0_));
#line 167 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->settings;
#line 167 "../src/Views/DateView.vala"
	_tmp2_ = self->priv->add_entry_day;
#line 167 "../src/Views/DateView.vala"
	_tmp3_ = gtk_entry_get_text (_tmp2_);
#line 167 "../src/Views/DateView.vala"
	pebbles_settings_set_date_day_entry (_tmp1_, _tmp3_);
#line 612 "DateView.c"
}

static void
___lambda203__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 165 "../src/Views/DateView.vala"
	__lambda203_ ((PebblesDateView*) self);
#line 621 "DateView.c"
}

static void
__lambda204_ (Block2Data* _data2_)
{
	PebblesDateView* self;
#line 177 "../src/Views/DateView.vala"
	self = _data2_->self;
#line 178 "../src/Views/DateView.vala"
	gtk_widget_set_visible ((GtkWidget*) _data2_->month_popper, TRUE);
#line 632 "DateView.c"
}

static void
___lambda204__gtk_entry_icon_release (GtkEntry* _sender,
                                      GtkEntryIconPosition icon_pos,
                                      GdkEvent* event,
                                      gpointer self)
{
#line 177 "../src/Views/DateView.vala"
	__lambda204_ (self);
#line 643 "DateView.c"
}

static void
__lambda205_ (PebblesDateView* self)
{
	GtkSwitch* _tmp0_;
	PebblesSettings* _tmp1_;
	GtkEntry* _tmp2_;
	const gchar* _tmp3_;
#line 182 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->add_mode_switch;
#line 182 "../src/Views/DateView.vala"
	pebbles_date_view_find_date (self, gtk_switch_get_active (_tmp0_));
#line 183 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->settings;
#line 183 "../src/Views/DateView.vala"
	_tmp2_ = self->priv->add_entry_month;
#line 183 "../src/Views/DateView.vala"
	_tmp3_ = gtk_entry_get_text (_tmp2_);
#line 183 "../src/Views/DateView.vala"
	pebbles_settings_set_date_month_entry (_tmp1_, _tmp3_);
#line 665 "DateView.c"
}

static void
___lambda205__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 181 "../src/Views/DateView.vala"
	__lambda205_ ((PebblesDateView*) self);
#line 674 "DateView.c"
}

static void
__lambda206_ (Block2Data* _data2_)
{
	PebblesDateView* self;
#line 193 "../src/Views/DateView.vala"
	self = _data2_->self;
#line 194 "../src/Views/DateView.vala"
	gtk_widget_set_visible ((GtkWidget*) _data2_->year_popper, TRUE);
#line 685 "DateView.c"
}

static void
___lambda206__gtk_entry_icon_release (GtkEntry* _sender,
                                      GtkEntryIconPosition icon_pos,
                                      GdkEvent* event,
                                      gpointer self)
{
#line 193 "../src/Views/DateView.vala"
	__lambda206_ (self);
#line 696 "DateView.c"
}

static void
__lambda207_ (PebblesDateView* self)
{
	GtkSwitch* _tmp0_;
	PebblesSettings* _tmp1_;
	GtkEntry* _tmp2_;
	const gchar* _tmp3_;
#line 198 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->add_mode_switch;
#line 198 "../src/Views/DateView.vala"
	pebbles_date_view_find_date (self, gtk_switch_get_active (_tmp0_));
#line 199 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->settings;
#line 199 "../src/Views/DateView.vala"
	_tmp2_ = self->priv->add_entry_year;
#line 199 "../src/Views/DateView.vala"
	_tmp3_ = gtk_entry_get_text (_tmp2_);
#line 199 "../src/Views/DateView.vala"
	pebbles_settings_set_date_year_entry (_tmp1_, _tmp3_);
#line 718 "DateView.c"
}

static void
___lambda207__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 197 "../src/Views/DateView.vala"
	__lambda207_ ((PebblesDateView*) self);
#line 727 "DateView.c"
}

static void
__lambda208_ (Block2Data* _data2_)
{
	PebblesDateView* self;
	GraniteWidgetsModeButton* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
#line 261 "../src/Views/DateView.vala"
	self = _data2_->self;
#line 262 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->date_mode;
#line 262 "../src/Views/DateView.vala"
	_tmp1_ = granite_widgets_mode_button_get_selected (_tmp0_);
#line 262 "../src/Views/DateView.vala"
	_tmp2_ = _tmp1_;
#line 262 "../src/Views/DateView.vala"
	if (_tmp2_ == 0) {
#line 747 "DateView.c"
		GtkGrid* _tmp3_;
		GtkStack* _tmp4_;
		GtkGrid* _tmp5_;
#line 263 "../src/Views/DateView.vala"
		_tmp3_ = self->priv->date_difference_view;
#line 263 "../src/Views/DateView.vala"
		gtk_stack_set_visible_child (_data2_->date_calc_holder, (GtkWidget*) _tmp3_);
#line 264 "../src/Views/DateView.vala"
		_tmp4_ = self->priv->date_mode_stack;
#line 264 "../src/Views/DateView.vala"
		_tmp5_ = self->priv->date_diff_grid;
#line 264 "../src/Views/DateView.vala"
		gtk_stack_set_visible_child (_tmp4_, (GtkWidget*) _tmp5_);
#line 761 "DateView.c"
	} else {
		GraniteWidgetsModeButton* _tmp6_;
		gint _tmp7_;
		gint _tmp8_;
#line 266 "../src/Views/DateView.vala"
		_tmp6_ = self->priv->date_mode;
#line 266 "../src/Views/DateView.vala"
		_tmp7_ = granite_widgets_mode_button_get_selected (_tmp6_);
#line 266 "../src/Views/DateView.vala"
		_tmp8_ = _tmp7_;
#line 266 "../src/Views/DateView.vala"
		if (_tmp8_ == 1) {
#line 774 "DateView.c"
			GtkGrid* _tmp9_;
			GtkStack* _tmp10_;
			GtkGrid* _tmp11_;
#line 267 "../src/Views/DateView.vala"
			_tmp9_ = self->priv->date_add_view;
#line 267 "../src/Views/DateView.vala"
			gtk_stack_set_visible_child (_data2_->date_calc_holder, (GtkWidget*) _tmp9_);
#line 268 "../src/Views/DateView.vala"
			_tmp10_ = self->priv->date_mode_stack;
#line 268 "../src/Views/DateView.vala"
			_tmp11_ = self->priv->date_add_grid;
#line 268 "../src/Views/DateView.vala"
			gtk_stack_set_visible_child (_tmp10_, (GtkWidget*) _tmp11_);
#line 788 "DateView.c"
		}
	}
}

static void
___lambda208__granite_widgets_mode_button_mode_changed (GraniteWidgetsModeButton* _sender,
                                                        GtkWidget* widget,
                                                        gpointer self)
{
#line 261 "../src/Views/DateView.vala"
	__lambda208_ (self);
#line 800 "DateView.c"
}

static void
__lambda209_ (PebblesDateView* self)
{
	PebblesSettings* _tmp0_;
	GraniteWidgetsDatePicker* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
#line 276 "../src/Views/DateView.vala"
	pebbles_date_view_do_calculations (self);
#line 277 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->settings;
#line 277 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->datepicker_diff_from;
#line 277 "../src/Views/DateView.vala"
	_tmp2_ = granite_widgets_date_picker_get_date (_tmp1_);
#line 277 "../src/Views/DateView.vala"
	_tmp3_ = _tmp2_;
#line 277 "../src/Views/DateView.vala"
	_tmp4_ = g_date_time_format (_tmp3_, "%FT%T");
#line 277 "../src/Views/DateView.vala"
	_tmp5_ = _tmp4_;
#line 277 "../src/Views/DateView.vala"
	pebbles_settings_set_date_diff_from (_tmp0_, _tmp5_);
#line 277 "../src/Views/DateView.vala"
	_g_free0 (_tmp5_);
#line 830 "DateView.c"
}

static void
___lambda209__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 275 "../src/Views/DateView.vala"
	__lambda209_ ((PebblesDateView*) self);
#line 839 "DateView.c"
}

static void
__lambda210_ (PebblesDateView* self)
{
	PebblesSettings* _tmp0_;
	GraniteWidgetsDatePicker* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
#line 280 "../src/Views/DateView.vala"
	pebbles_date_view_do_calculations (self);
#line 281 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->settings;
#line 281 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->datepicker_diff_to;
#line 281 "../src/Views/DateView.vala"
	_tmp2_ = granite_widgets_date_picker_get_date (_tmp1_);
#line 281 "../src/Views/DateView.vala"
	_tmp3_ = _tmp2_;
#line 281 "../src/Views/DateView.vala"
	_tmp4_ = g_date_time_format (_tmp3_, "%FT%T");
#line 281 "../src/Views/DateView.vala"
	_tmp5_ = _tmp4_;
#line 281 "../src/Views/DateView.vala"
	pebbles_settings_set_date_diff_to (_tmp0_, _tmp5_);
#line 281 "../src/Views/DateView.vala"
	_g_free0 (_tmp5_);
#line 869 "DateView.c"
}

static void
___lambda210__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 279 "../src/Views/DateView.vala"
	__lambda210_ ((PebblesDateView*) self);
#line 878 "DateView.c"
}

static void
__lambda211_ (PebblesDateView* self)
{
	GtkSwitch* _tmp0_;
	PebblesSettings* _tmp1_;
	GraniteWidgetsDatePicker* _tmp2_;
	GDateTime* _tmp3_;
	GDateTime* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
#line 284 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->add_mode_switch;
#line 284 "../src/Views/DateView.vala"
	pebbles_date_view_find_date (self, gtk_switch_get_active (_tmp0_));
#line 285 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->settings;
#line 285 "../src/Views/DateView.vala"
	_tmp2_ = self->priv->datepicker_add_sub;
#line 285 "../src/Views/DateView.vala"
	_tmp3_ = granite_widgets_date_picker_get_date (_tmp2_);
#line 285 "../src/Views/DateView.vala"
	_tmp4_ = _tmp3_;
#line 285 "../src/Views/DateView.vala"
	_tmp5_ = g_date_time_format (_tmp4_, "%FT%T");
#line 285 "../src/Views/DateView.vala"
	_tmp6_ = _tmp5_;
#line 285 "../src/Views/DateView.vala"
	pebbles_settings_set_date_add_sub (_tmp1_, _tmp6_);
#line 285 "../src/Views/DateView.vala"
	_g_free0 (_tmp6_);
#line 911 "DateView.c"
}

static void
___lambda211__gtk_editable_changed (GtkEditable* _sender,
                                    gpointer self)
{
#line 283 "../src/Views/DateView.vala"
	__lambda211_ ((PebblesDateView*) self);
#line 920 "DateView.c"
}

static void
pebbles_date_view_build_ui (PebblesDateView* self)
{
	Block2Data* _data2_;
	GraniteWidgetsModeButton* _tmp0_;
	GraniteWidgetsModeButton* _tmp1_;
	GraniteWidgetsModeButton* _tmp2_;
	GraniteWidgetsModeButton* _tmp3_;
	GraniteWidgetsModeButton* _tmp4_;
	GtkGrid* _tmp5_;
	GtkLabel* from_label = NULL;
	GtkLabel* _tmp6_;
	GtkStyleContext* _tmp7_;
	GraniteWidgetsDatePicker* _tmp8_;
	GtkLabel* to_label = NULL;
	GtkLabel* _tmp9_;
	GtkStyleContext* _tmp10_;
	GraniteWidgetsDatePicker* _tmp11_;
	GtkGrid* _tmp12_;
	GtkGrid* _tmp13_;
	GraniteWidgetsDatePicker* _tmp14_;
	GtkGrid* _tmp15_;
	GtkGrid* _tmp16_;
	GraniteWidgetsDatePicker* _tmp17_;
	GtkLabel* diff_header = NULL;
	GtkLabel* _tmp18_;
	GtkStyleContext* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	GtkLabel* _tmp22_;
	GtkLabel* _tmp23_;
	GtkLabel* _tmp24_;
	GtkStyleContext* _tmp25_;
	GtkLabel* _tmp26_;
	GtkLabel* _tmp27_;
	GtkLabel* _tmp28_;
	GtkStyleContext* _tmp29_;
	GtkGrid* diff_grid = NULL;
	GtkGrid* _tmp30_;
	GtkLabel* _tmp31_;
	GtkLabel* _tmp32_;
	GtkSeparator* separator_diff = NULL;
	GtkSeparator* _tmp33_;
	GtkGrid* _tmp34_;
	GtkGrid* _tmp35_;
	GtkGrid* _tmp36_;
	GtkGrid* _tmp37_;
	GtkGrid* _tmp38_;
	GtkGrid* _tmp39_;
	GtkGrid* _tmp40_;
	GtkGrid* _tmp41_;
	GtkGrid* _tmp42_;
	GtkLabel* start_label = NULL;
	GtkLabel* _tmp43_;
	GtkStyleContext* _tmp44_;
	GtkLabel* _tmp45_;
	GtkLabel* _tmp46_;
	GtkLabel* _tmp47_;
	GtkStyleContext* _tmp48_;
	GtkGrid* date_input_grid = NULL;
	GtkGrid* _tmp49_;
	GtkEntry* _tmp50_;
	GtkEntry* _tmp51_;
	GtkEntry* _tmp52_;
	PebblesSettings* _tmp53_;
	const gchar* _tmp54_;
	const gchar* _tmp55_;
	GtkEntry* _tmp56_;
	GtkEntry* _tmp57_;
	GtkEntry* _tmp58_;
	GtkEntry* _tmp59_;
	PebblesBottomPopper* _tmp60_;
	GtkEntry* _tmp61_;
	GtkEntry* _tmp62_;
	GtkEntry* _tmp63_;
	GtkEntry* _tmp64_;
	GtkEntry* _tmp65_;
	GtkEntry* _tmp66_;
	PebblesSettings* _tmp67_;
	const gchar* _tmp68_;
	const gchar* _tmp69_;
	GtkEntry* _tmp70_;
	GtkEntry* _tmp71_;
	GtkEntry* _tmp72_;
	GtkEntry* _tmp73_;
	PebblesBottomPopper* _tmp74_;
	GtkEntry* _tmp75_;
	GtkEntry* _tmp76_;
	GtkEntry* _tmp77_;
	GtkEntry* _tmp78_;
	GtkEntry* _tmp79_;
	GtkEntry* _tmp80_;
	PebblesSettings* _tmp81_;
	const gchar* _tmp82_;
	const gchar* _tmp83_;
	GtkEntry* _tmp84_;
	GtkEntry* _tmp85_;
	GtkEntry* _tmp86_;
	GtkEntry* _tmp87_;
	PebblesBottomPopper* _tmp88_;
	GtkEntry* _tmp89_;
	GtkEntry* _tmp90_;
	GtkEntry* _tmp91_;
	GtkEntry* _tmp92_;
	GtkEntry* _tmp93_;
	GtkEntry* _tmp94_;
	GraniteWidgetsDatePicker* _tmp95_;
	GtkGrid* _tmp96_;
	GtkGrid* _tmp97_;
	GraniteWidgetsDatePicker* _tmp98_;
	GtkGrid* _tmp99_;
	GtkLabel* _tmp100_;
	GtkGrid* _tmp101_;
	GtkGrid* _tmp102_;
	GtkGrid* _tmp103_;
	GtkGrid* _tmp104_;
	GtkGrid* _tmp105_;
	GtkGrid* _tmp106_;
	GtkGrid* _tmp107_;
	GtkLabel* add_header = NULL;
	GtkLabel* _tmp108_;
	GtkStyleContext* _tmp109_;
	GtkLabel* _tmp110_;
	GtkLabel* _tmp111_;
	GtkLabel* _tmp112_;
	GtkLabel* _tmp113_;
	GtkStyleContext* _tmp114_;
	GtkLabel* _tmp115_;
	GtkLabel* _tmp116_;
	GtkLabel* _tmp117_;
	GtkStyleContext* _tmp118_;
	GtkGrid* add_grid = NULL;
	GtkGrid* _tmp119_;
	GtkLabel* _tmp120_;
	GtkLabel* _tmp121_;
	GtkCalendar* _tmp122_;
	GtkCalendar* _tmp123_;
	GtkCalendar* _tmp124_;
	GtkCalendar* _tmp125_;
	GtkCalendar* _tmp126_;
	GtkSeparator* separator_add = NULL;
	GtkSeparator* _tmp127_;
	GtkGrid* _tmp128_;
	GtkGrid* _tmp129_;
	GtkStack* _tmp130_;
	GtkGrid* _tmp131_;
	GtkGrid* _tmp132_;
	GraniteWidgetsModeButton* _tmp133_;
	GraniteWidgetsModeButton* _tmp134_;
	PebblesDateCalculator* _tmp135_;
	GraniteWidgetsDatePicker* _tmp136_;
	GraniteWidgetsDatePicker* _tmp137_;
	GraniteWidgetsDatePicker* _tmp138_;
	GraniteWidgetsModeButton* _tmp139_;
#line 85 "../src/Views/DateView.vala"
	g_return_if_fail (self != NULL);
#line 85 "../src/Views/DateView.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 85 "../src/Views/DateView.vala"
	_data2_->_ref_count_ = 1;
#line 85 "../src/Views/DateView.vala"
	_data2_->self = g_object_ref (self);
#line 87 "../src/Views/DateView.vala"
	_tmp0_ = granite_widgets_mode_button_new ();
#line 87 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp0_);
#line 87 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_mode);
#line 87 "../src/Views/DateView.vala"
	self->priv->date_mode = _tmp0_;
#line 88 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->date_mode;
#line 88 "../src/Views/DateView.vala"
	granite_widgets_mode_button_append_text (_tmp1_, _ ("Difference Between Dates"));
#line 89 "../src/Views/DateView.vala"
	_tmp2_ = self->priv->date_mode;
#line 89 "../src/Views/DateView.vala"
	granite_widgets_mode_button_append_text (_tmp2_, _ ("Add or Subtract Dates"));
#line 90 "../src/Views/DateView.vala"
	_tmp3_ = self->priv->date_mode;
#line 90 "../src/Views/DateView.vala"
	gtk_widget_set_margin_start ((GtkWidget*) _tmp3_, 100);
#line 91 "../src/Views/DateView.vala"
	_tmp4_ = self->priv->date_mode;
#line 91 "../src/Views/DateView.vala"
	gtk_widget_set_margin_end ((GtkWidget*) _tmp4_, 100);
#line 95 "../src/Views/DateView.vala"
	_tmp5_ = (GtkGrid*) gtk_grid_new ();
#line 95 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp5_);
#line 95 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_difference_view);
#line 95 "../src/Views/DateView.vala"
	self->priv->date_difference_view = _tmp5_;
#line 96 "../src/Views/DateView.vala"
	_tmp6_ = (GtkLabel*) gtk_label_new (_ ("From"));
#line 96 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp6_);
#line 96 "../src/Views/DateView.vala"
	from_label = _tmp6_;
#line 97 "../src/Views/DateView.vala"
	gtk_label_set_xalign (from_label, (gfloat) 0);
#line 98 "../src/Views/DateView.vala"
	_tmp7_ = gtk_widget_get_style_context ((GtkWidget*) from_label);
#line 98 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp7_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 99 "../src/Views/DateView.vala"
	_tmp8_ = granite_widgets_date_picker_new ();
#line 99 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp8_);
#line 99 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_diff_from);
#line 99 "../src/Views/DateView.vala"
	self->priv->datepicker_diff_from = _tmp8_;
#line 100 "../src/Views/DateView.vala"
	_tmp9_ = (GtkLabel*) gtk_label_new (_ ("To"));
#line 100 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp9_);
#line 100 "../src/Views/DateView.vala"
	to_label = _tmp9_;
#line 101 "../src/Views/DateView.vala"
	gtk_widget_set_margin_top ((GtkWidget*) to_label, 4);
#line 102 "../src/Views/DateView.vala"
	gtk_label_set_xalign (to_label, (gfloat) 0);
#line 103 "../src/Views/DateView.vala"
	_tmp10_ = gtk_widget_get_style_context ((GtkWidget*) to_label);
#line 103 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp10_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 104 "../src/Views/DateView.vala"
	_tmp11_ = granite_widgets_date_picker_new ();
#line 104 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp11_);
#line 104 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_diff_to);
#line 104 "../src/Views/DateView.vala"
	self->priv->datepicker_diff_to = _tmp11_;
#line 105 "../src/Views/DateView.vala"
	_tmp12_ = self->priv->date_difference_view;
#line 105 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp12_, (GtkWidget*) from_label, 0, 0, 1, 1);
#line 106 "../src/Views/DateView.vala"
	_tmp13_ = self->priv->date_difference_view;
#line 106 "../src/Views/DateView.vala"
	_tmp14_ = self->priv->datepicker_diff_from;
#line 106 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp13_, (GtkWidget*) _tmp14_, 0, 1, 1, 1);
#line 107 "../src/Views/DateView.vala"
	_tmp15_ = self->priv->date_difference_view;
#line 107 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp15_, (GtkWidget*) to_label, 0, 2, 1, 1);
#line 108 "../src/Views/DateView.vala"
	_tmp16_ = self->priv->date_difference_view;
#line 108 "../src/Views/DateView.vala"
	_tmp17_ = self->priv->datepicker_diff_to;
#line 108 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp16_, (GtkWidget*) _tmp17_, 0, 3, 1, 1);
#line 110 "../src/Views/DateView.vala"
	_tmp18_ = (GtkLabel*) gtk_label_new (_ ("Difference"));
#line 110 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp18_);
#line 110 "../src/Views/DateView.vala"
	diff_header = _tmp18_;
#line 111 "../src/Views/DateView.vala"
	gtk_label_set_xalign (diff_header, (gfloat) 0);
#line 112 "../src/Views/DateView.vala"
	_tmp19_ = gtk_widget_get_style_context ((GtkWidget*) diff_header);
#line 112 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp19_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 114 "../src/Views/DateView.vala"
	_tmp20_ = g_strconcat (_ ("Hey, it's the same date"), "\n", NULL);
#line 114 "../src/Views/DateView.vala"
	_tmp21_ = _tmp20_;
#line 114 "../src/Views/DateView.vala"
	_tmp22_ = (GtkLabel*) gtk_label_new (_tmp21_);
#line 114 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp22_);
#line 114 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_diff_label);
#line 114 "../src/Views/DateView.vala"
	self->priv->date_diff_label = _tmp22_;
#line 114 "../src/Views/DateView.vala"
	_g_free0 (_tmp21_);
#line 115 "../src/Views/DateView.vala"
	_tmp23_ = self->priv->date_diff_label;
#line 115 "../src/Views/DateView.vala"
	gtk_label_set_xalign (_tmp23_, (gfloat) 0);
#line 116 "../src/Views/DateView.vala"
	_tmp24_ = self->priv->date_diff_label;
#line 116 "../src/Views/DateView.vala"
	_tmp25_ = gtk_widget_get_style_context ((GtkWidget*) _tmp24_);
#line 116 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp25_, GRANITE_STYLE_CLASS_H2_LABEL);
#line 117 "../src/Views/DateView.vala"
	_tmp26_ = (GtkLabel*) gtk_label_new ("");
#line 117 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp26_);
#line 117 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->days_diff_label);
#line 117 "../src/Views/DateView.vala"
	self->priv->days_diff_label = _tmp26_;
#line 118 "../src/Views/DateView.vala"
	_tmp27_ = self->priv->days_diff_label;
#line 118 "../src/Views/DateView.vala"
	gtk_label_set_xalign (_tmp27_, (gfloat) 0);
#line 119 "../src/Views/DateView.vala"
	_tmp28_ = self->priv->days_diff_label;
#line 119 "../src/Views/DateView.vala"
	_tmp29_ = gtk_widget_get_style_context ((GtkWidget*) _tmp28_);
#line 119 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp29_, GRANITE_STYLE_CLASS_H3_LABEL);
#line 120 "../src/Views/DateView.vala"
	_tmp30_ = (GtkGrid*) gtk_grid_new ();
#line 120 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp30_);
#line 120 "../src/Views/DateView.vala"
	diff_grid = _tmp30_;
#line 121 "../src/Views/DateView.vala"
	gtk_grid_attach (diff_grid, (GtkWidget*) diff_header, 0, 0, 1, 1);
#line 122 "../src/Views/DateView.vala"
	_tmp31_ = self->priv->date_diff_label;
#line 122 "../src/Views/DateView.vala"
	gtk_grid_attach (diff_grid, (GtkWidget*) _tmp31_, 0, 1, 1, 1);
#line 123 "../src/Views/DateView.vala"
	_tmp32_ = self->priv->days_diff_label;
#line 123 "../src/Views/DateView.vala"
	gtk_grid_attach (diff_grid, (GtkWidget*) _tmp32_, 0, 2, 1, 1);
#line 124 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) diff_grid, "width-request", 370, NULL);
#line 127 "../src/Views/DateView.vala"
	_tmp33_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_VERTICAL);
#line 127 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp33_);
#line 127 "../src/Views/DateView.vala"
	separator_diff = _tmp33_;
#line 128 "../src/Views/DateView.vala"
	gtk_widget_set_margin_start ((GtkWidget*) separator_diff, 8);
#line 129 "../src/Views/DateView.vala"
	gtk_widget_set_margin_end ((GtkWidget*) separator_diff, 8);
#line 130 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) separator_diff, "height-request", 131, NULL);
#line 132 "../src/Views/DateView.vala"
	_tmp34_ = self->priv->date_difference_view;
#line 132 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp34_, (GtkWidget*) separator_diff, 1, 0, 1, 4);
#line 133 "../src/Views/DateView.vala"
	_tmp35_ = self->priv->date_difference_view;
#line 133 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp35_, (GtkWidget*) diff_grid, 2, 0, 1, 4);
#line 135 "../src/Views/DateView.vala"
	_tmp36_ = self->priv->date_difference_view;
#line 135 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) _tmp36_, "height-request", 200, NULL);
#line 136 "../src/Views/DateView.vala"
	_tmp37_ = self->priv->date_difference_view;
#line 136 "../src/Views/DateView.vala"
	gtk_widget_set_margin_start ((GtkWidget*) _tmp37_, 8);
#line 137 "../src/Views/DateView.vala"
	_tmp38_ = self->priv->date_difference_view;
#line 137 "../src/Views/DateView.vala"
	gtk_widget_set_margin_end ((GtkWidget*) _tmp38_, 8);
#line 138 "../src/Views/DateView.vala"
	_tmp39_ = self->priv->date_difference_view;
#line 138 "../src/Views/DateView.vala"
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp39_, 8);
#line 139 "../src/Views/DateView.vala"
	_tmp40_ = self->priv->date_difference_view;
#line 139 "../src/Views/DateView.vala"
	gtk_grid_set_column_spacing (_tmp40_, 8);
#line 140 "../src/Views/DateView.vala"
	_tmp41_ = self->priv->date_difference_view;
#line 140 "../src/Views/DateView.vala"
	gtk_grid_set_row_spacing (_tmp41_, 4);
#line 144 "../src/Views/DateView.vala"
	_tmp42_ = (GtkGrid*) gtk_grid_new ();
#line 144 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp42_);
#line 144 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_add_view);
#line 144 "../src/Views/DateView.vala"
	self->priv->date_add_view = _tmp42_;
#line 145 "../src/Views/DateView.vala"
	_tmp43_ = (GtkLabel*) gtk_label_new (_ ("Starting from"));
#line 145 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp43_);
#line 145 "../src/Views/DateView.vala"
	start_label = _tmp43_;
#line 146 "../src/Views/DateView.vala"
	gtk_label_set_xalign (start_label, (gfloat) 0);
#line 147 "../src/Views/DateView.vala"
	_tmp44_ = gtk_widget_get_style_context ((GtkWidget*) start_label);
#line 147 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp44_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 148 "../src/Views/DateView.vala"
	_tmp45_ = (GtkLabel*) gtk_label_new (_ ("Add"));
#line 148 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp45_);
#line 148 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_label);
#line 148 "../src/Views/DateView.vala"
	self->priv->add_label = _tmp45_;
#line 149 "../src/Views/DateView.vala"
	_tmp46_ = self->priv->add_label;
#line 149 "../src/Views/DateView.vala"
	gtk_label_set_xalign (_tmp46_, (gfloat) 0);
#line 150 "../src/Views/DateView.vala"
	_tmp47_ = self->priv->add_label;
#line 150 "../src/Views/DateView.vala"
	_tmp48_ = gtk_widget_get_style_context ((GtkWidget*) _tmp47_);
#line 150 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp48_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 152 "../src/Views/DateView.vala"
	_tmp49_ = (GtkGrid*) gtk_grid_new ();
#line 152 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp49_);
#line 152 "../src/Views/DateView.vala"
	date_input_grid = _tmp49_;
#line 154 "../src/Views/DateView.vala"
	_tmp50_ = (GtkEntry*) gtk_entry_new ();
#line 154 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp50_);
#line 154 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_day);
#line 154 "../src/Views/DateView.vala"
	self->priv->add_entry_day = _tmp50_;
#line 155 "../src/Views/DateView.vala"
	_tmp51_ = self->priv->add_entry_day;
#line 155 "../src/Views/DateView.vala"
	gtk_entry_set_placeholder_text (_tmp51_, _ ("Day"));
#line 156 "../src/Views/DateView.vala"
	_tmp52_ = self->priv->add_entry_day;
#line 156 "../src/Views/DateView.vala"
	_tmp53_ = self->priv->settings;
#line 156 "../src/Views/DateView.vala"
	_tmp54_ = pebbles_settings_get_date_day_entry (_tmp53_);
#line 156 "../src/Views/DateView.vala"
	_tmp55_ = _tmp54_;
#line 156 "../src/Views/DateView.vala"
	gtk_entry_set_text (_tmp52_, _tmp55_);
#line 157 "../src/Views/DateView.vala"
	_tmp56_ = self->priv->add_entry_day;
#line 157 "../src/Views/DateView.vala"
	gtk_entry_set_max_length (_tmp56_, 3);
#line 158 "../src/Views/DateView.vala"
	_tmp57_ = self->priv->add_entry_day;
#line 158 "../src/Views/DateView.vala"
	gtk_entry_set_width_chars (_tmp57_, 6);
#line 159 "../src/Views/DateView.vala"
	_tmp58_ = self->priv->add_entry_day;
#line 159 "../src/Views/DateView.vala"
	gtk_entry_set_icon_from_icon_name (_tmp58_, GTK_ENTRY_ICON_SECONDARY, "view-more-symbolic");
#line 160 "../src/Views/DateView.vala"
	_tmp59_ = self->priv->add_entry_day;
#line 160 "../src/Views/DateView.vala"
	_tmp60_ = pebbles_bottom_popper_new (_tmp59_);
#line 160 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp60_);
#line 160 "../src/Views/DateView.vala"
	_data2_->day_popper = _tmp60_;
#line 161 "../src/Views/DateView.vala"
	_tmp61_ = self->priv->add_entry_day;
#line 161 "../src/Views/DateView.vala"
	g_signal_connect_data (_tmp61_, "icon-release", (GCallback) ___lambda202__gtk_entry_icon_release, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 164 "../src/Views/DateView.vala"
	_tmp62_ = self->priv->add_entry_day;
#line 164 "../src/Views/DateView.vala"
	gtk_entry_set_input_purpose (_tmp62_, GTK_INPUT_PURPOSE_NUMBER);
#line 165 "../src/Views/DateView.vala"
	_tmp63_ = self->priv->add_entry_day;
#line 165 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp63_, "changed", (GCallback) ___lambda203__gtk_editable_changed, self, 0);
#line 170 "../src/Views/DateView.vala"
	_tmp64_ = (GtkEntry*) gtk_entry_new ();
#line 170 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp64_);
#line 170 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_month);
#line 170 "../src/Views/DateView.vala"
	self->priv->add_entry_month = _tmp64_;
#line 171 "../src/Views/DateView.vala"
	_tmp65_ = self->priv->add_entry_month;
#line 171 "../src/Views/DateView.vala"
	gtk_entry_set_placeholder_text (_tmp65_, _ ("Month"));
#line 172 "../src/Views/DateView.vala"
	_tmp66_ = self->priv->add_entry_month;
#line 172 "../src/Views/DateView.vala"
	_tmp67_ = self->priv->settings;
#line 172 "../src/Views/DateView.vala"
	_tmp68_ = pebbles_settings_get_date_month_entry (_tmp67_);
#line 172 "../src/Views/DateView.vala"
	_tmp69_ = _tmp68_;
#line 172 "../src/Views/DateView.vala"
	gtk_entry_set_text (_tmp66_, _tmp69_);
#line 173 "../src/Views/DateView.vala"
	_tmp70_ = self->priv->add_entry_month;
#line 173 "../src/Views/DateView.vala"
	gtk_entry_set_max_length (_tmp70_, 3);
#line 174 "../src/Views/DateView.vala"
	_tmp71_ = self->priv->add_entry_month;
#line 174 "../src/Views/DateView.vala"
	gtk_entry_set_width_chars (_tmp71_, 6);
#line 175 "../src/Views/DateView.vala"
	_tmp72_ = self->priv->add_entry_month;
#line 175 "../src/Views/DateView.vala"
	gtk_entry_set_icon_from_icon_name (_tmp72_, GTK_ENTRY_ICON_SECONDARY, "view-more-symbolic");
#line 176 "../src/Views/DateView.vala"
	_tmp73_ = self->priv->add_entry_month;
#line 176 "../src/Views/DateView.vala"
	_tmp74_ = pebbles_bottom_popper_new (_tmp73_);
#line 176 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp74_);
#line 176 "../src/Views/DateView.vala"
	_data2_->month_popper = _tmp74_;
#line 177 "../src/Views/DateView.vala"
	_tmp75_ = self->priv->add_entry_month;
#line 177 "../src/Views/DateView.vala"
	g_signal_connect_data (_tmp75_, "icon-release", (GCallback) ___lambda204__gtk_entry_icon_release, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 180 "../src/Views/DateView.vala"
	_tmp76_ = self->priv->add_entry_month;
#line 180 "../src/Views/DateView.vala"
	gtk_entry_set_input_purpose (_tmp76_, GTK_INPUT_PURPOSE_NUMBER);
#line 181 "../src/Views/DateView.vala"
	_tmp77_ = self->priv->add_entry_month;
#line 181 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp77_, "changed", (GCallback) ___lambda205__gtk_editable_changed, self, 0);
#line 186 "../src/Views/DateView.vala"
	_tmp78_ = (GtkEntry*) gtk_entry_new ();
#line 186 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp78_);
#line 186 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_year);
#line 186 "../src/Views/DateView.vala"
	self->priv->add_entry_year = _tmp78_;
#line 187 "../src/Views/DateView.vala"
	_tmp79_ = self->priv->add_entry_year;
#line 187 "../src/Views/DateView.vala"
	gtk_entry_set_placeholder_text (_tmp79_, _ ("Year"));
#line 188 "../src/Views/DateView.vala"
	_tmp80_ = self->priv->add_entry_year;
#line 188 "../src/Views/DateView.vala"
	_tmp81_ = self->priv->settings;
#line 188 "../src/Views/DateView.vala"
	_tmp82_ = pebbles_settings_get_date_year_entry (_tmp81_);
#line 188 "../src/Views/DateView.vala"
	_tmp83_ = _tmp82_;
#line 188 "../src/Views/DateView.vala"
	gtk_entry_set_text (_tmp80_, _tmp83_);
#line 189 "../src/Views/DateView.vala"
	_tmp84_ = self->priv->add_entry_year;
#line 189 "../src/Views/DateView.vala"
	gtk_entry_set_max_length (_tmp84_, 3);
#line 190 "../src/Views/DateView.vala"
	_tmp85_ = self->priv->add_entry_year;
#line 190 "../src/Views/DateView.vala"
	gtk_entry_set_width_chars (_tmp85_, 6);
#line 191 "../src/Views/DateView.vala"
	_tmp86_ = self->priv->add_entry_year;
#line 191 "../src/Views/DateView.vala"
	gtk_entry_set_icon_from_icon_name (_tmp86_, GTK_ENTRY_ICON_SECONDARY, "view-more-symbolic");
#line 192 "../src/Views/DateView.vala"
	_tmp87_ = self->priv->add_entry_year;
#line 192 "../src/Views/DateView.vala"
	_tmp88_ = pebbles_bottom_popper_new (_tmp87_);
#line 192 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp88_);
#line 192 "../src/Views/DateView.vala"
	_data2_->year_popper = _tmp88_;
#line 193 "../src/Views/DateView.vala"
	_tmp89_ = self->priv->add_entry_year;
#line 193 "../src/Views/DateView.vala"
	g_signal_connect_data (_tmp89_, "icon-release", (GCallback) ___lambda206__gtk_entry_icon_release, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 196 "../src/Views/DateView.vala"
	_tmp90_ = self->priv->add_entry_year;
#line 196 "../src/Views/DateView.vala"
	gtk_entry_set_input_purpose (_tmp90_, GTK_INPUT_PURPOSE_NUMBER);
#line 197 "../src/Views/DateView.vala"
	_tmp91_ = self->priv->add_entry_year;
#line 197 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp91_, "changed", (GCallback) ___lambda207__gtk_editable_changed, self, 0);
#line 201 "../src/Views/DateView.vala"
	_tmp92_ = self->priv->add_entry_day;
#line 201 "../src/Views/DateView.vala"
	gtk_grid_attach (date_input_grid, (GtkWidget*) _tmp92_, 0, 0, 1, 1);
#line 202 "../src/Views/DateView.vala"
	_tmp93_ = self->priv->add_entry_month;
#line 202 "../src/Views/DateView.vala"
	gtk_grid_attach (date_input_grid, (GtkWidget*) _tmp93_, 1, 0, 1, 1);
#line 203 "../src/Views/DateView.vala"
	_tmp94_ = self->priv->add_entry_year;
#line 203 "../src/Views/DateView.vala"
	gtk_grid_attach (date_input_grid, (GtkWidget*) _tmp94_, 2, 0, 1, 1);
#line 204 "../src/Views/DateView.vala"
	gtk_grid_set_column_spacing (date_input_grid, 4);
#line 206 "../src/Views/DateView.vala"
	_tmp95_ = granite_widgets_date_picker_new ();
#line 206 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp95_);
#line 206 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_add_sub);
#line 206 "../src/Views/DateView.vala"
	self->priv->datepicker_add_sub = _tmp95_;
#line 207 "../src/Views/DateView.vala"
	_tmp96_ = self->priv->date_add_view;
#line 207 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp96_, (GtkWidget*) start_label, 0, 0, 1, 1);
#line 208 "../src/Views/DateView.vala"
	_tmp97_ = self->priv->date_add_view;
#line 208 "../src/Views/DateView.vala"
	_tmp98_ = self->priv->datepicker_add_sub;
#line 208 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp97_, (GtkWidget*) _tmp98_, 0, 1, 1, 1);
#line 209 "../src/Views/DateView.vala"
	_tmp99_ = self->priv->date_add_view;
#line 209 "../src/Views/DateView.vala"
	_tmp100_ = self->priv->add_label;
#line 209 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp99_, (GtkWidget*) _tmp100_, 0, 2, 1, 1);
#line 210 "../src/Views/DateView.vala"
	_tmp101_ = self->priv->date_add_view;
#line 210 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp101_, (GtkWidget*) date_input_grid, 0, 3, 1, 1);
#line 213 "../src/Views/DateView.vala"
	_tmp102_ = self->priv->date_add_view;
#line 213 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) _tmp102_, "height-request", 200, NULL);
#line 214 "../src/Views/DateView.vala"
	_tmp103_ = self->priv->date_add_view;
#line 214 "../src/Views/DateView.vala"
	gtk_widget_set_margin_start ((GtkWidget*) _tmp103_, 8);
#line 215 "../src/Views/DateView.vala"
	_tmp104_ = self->priv->date_add_view;
#line 215 "../src/Views/DateView.vala"
	gtk_widget_set_margin_end ((GtkWidget*) _tmp104_, 8);
#line 216 "../src/Views/DateView.vala"
	_tmp105_ = self->priv->date_add_view;
#line 216 "../src/Views/DateView.vala"
	gtk_widget_set_margin_bottom ((GtkWidget*) _tmp105_, 8);
#line 217 "../src/Views/DateView.vala"
	_tmp106_ = self->priv->date_add_view;
#line 217 "../src/Views/DateView.vala"
	gtk_grid_set_column_spacing (_tmp106_, 8);
#line 218 "../src/Views/DateView.vala"
	_tmp107_ = self->priv->date_add_view;
#line 218 "../src/Views/DateView.vala"
	gtk_grid_set_row_spacing (_tmp107_, 4);
#line 220 "../src/Views/DateView.vala"
	_tmp108_ = (GtkLabel*) gtk_label_new (_ ("The Date will be"));
#line 220 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp108_);
#line 220 "../src/Views/DateView.vala"
	add_header = _tmp108_;
#line 221 "../src/Views/DateView.vala"
	gtk_label_set_xalign (add_header, (gfloat) 0);
#line 222 "../src/Views/DateView.vala"
	gtk_widget_set_valign ((GtkWidget*) add_header, GTK_ALIGN_START);
#line 223 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) add_header, "width-request", 160, NULL);
#line 224 "../src/Views/DateView.vala"
	_tmp109_ = gtk_widget_get_style_context ((GtkWidget*) add_header);
#line 224 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp109_, GRANITE_STYLE_CLASS_H4_LABEL);
#line 226 "../src/Views/DateView.vala"
	_tmp110_ = (GtkLabel*) gtk_label_new (_ ("Set a duration"));
#line 226 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp110_);
#line 226 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->week_day_label);
#line 226 "../src/Views/DateView.vala"
	self->priv->week_day_label = _tmp110_;
#line 228 "../src/Views/DateView.vala"
	_tmp111_ = self->priv->week_day_label;
#line 228 "../src/Views/DateView.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp111_, GTK_ALIGN_END);
#line 229 "../src/Views/DateView.vala"
	_tmp112_ = self->priv->week_day_label;
#line 229 "../src/Views/DateView.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp112_, GTK_ALIGN_START);
#line 230 "../src/Views/DateView.vala"
	_tmp113_ = self->priv->week_day_label;
#line 230 "../src/Views/DateView.vala"
	_tmp114_ = gtk_widget_get_style_context ((GtkWidget*) _tmp113_);
#line 230 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp114_, GRANITE_STYLE_CLASS_H2_LABEL);
#line 231 "../src/Views/DateView.vala"
	_tmp115_ = (GtkLabel*) gtk_label_new (_ ("Days, months or year"));
#line 231 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp115_);
#line 231 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_dmy_label);
#line 231 "../src/Views/DateView.vala"
	self->priv->date_dmy_label = _tmp115_;
#line 233 "../src/Views/DateView.vala"
	_tmp116_ = self->priv->date_dmy_label;
#line 233 "../src/Views/DateView.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp116_, GTK_ALIGN_START);
#line 234 "../src/Views/DateView.vala"
	_tmp117_ = self->priv->date_dmy_label;
#line 234 "../src/Views/DateView.vala"
	_tmp118_ = gtk_widget_get_style_context ((GtkWidget*) _tmp117_);
#line 234 "../src/Views/DateView.vala"
	gtk_style_context_add_class (_tmp118_, GRANITE_STYLE_CLASS_H3_LABEL);
#line 235 "../src/Views/DateView.vala"
	_tmp119_ = (GtkGrid*) gtk_grid_new ();
#line 235 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp119_);
#line 235 "../src/Views/DateView.vala"
	add_grid = _tmp119_;
#line 236 "../src/Views/DateView.vala"
	gtk_grid_attach (add_grid, (GtkWidget*) add_header, 0, 0, 1, 1);
#line 237 "../src/Views/DateView.vala"
	_tmp120_ = self->priv->week_day_label;
#line 237 "../src/Views/DateView.vala"
	gtk_grid_attach (add_grid, (GtkWidget*) _tmp120_, 0, 1, 1, 1);
#line 238 "../src/Views/DateView.vala"
	_tmp121_ = self->priv->date_dmy_label;
#line 238 "../src/Views/DateView.vala"
	gtk_grid_attach (add_grid, (GtkWidget*) _tmp121_, 0, 2, 1, 1);
#line 239 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) add_grid, "width-request", 370, NULL);
#line 241 "../src/Views/DateView.vala"
	_tmp122_ = (GtkCalendar*) gtk_calendar_new ();
#line 241 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp122_);
#line 241 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->main_calendar);
#line 241 "../src/Views/DateView.vala"
	self->priv->main_calendar = _tmp122_;
#line 242 "../src/Views/DateView.vala"
	_tmp123_ = self->priv->main_calendar;
#line 242 "../src/Views/DateView.vala"
	gtk_calendar_set_display_options (_tmp123_, GTK_CALENDAR_NO_MONTH_CHANGE);
#line 243 "../src/Views/DateView.vala"
	_tmp124_ = self->priv->main_calendar;
#line 243 "../src/Views/DateView.vala"
	g_object_set (_tmp124_, "show-day-names", TRUE, NULL);
#line 244 "../src/Views/DateView.vala"
	_tmp125_ = self->priv->main_calendar;
#line 244 "../src/Views/DateView.vala"
	g_object_set ((GtkWidget*) _tmp125_, "width-request", 210, NULL);
#line 245 "../src/Views/DateView.vala"
	_tmp126_ = self->priv->main_calendar;
#line 245 "../src/Views/DateView.vala"
	gtk_grid_attach (add_grid, (GtkWidget*) _tmp126_, 1, 0, 1, 3);
#line 247 "../src/Views/DateView.vala"
	_tmp127_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_VERTICAL);
#line 247 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp127_);
#line 247 "../src/Views/DateView.vala"
	separator_add = _tmp127_;
#line 248 "../src/Views/DateView.vala"
	gtk_widget_set_margin_start ((GtkWidget*) separator_add, 8);
#line 249 "../src/Views/DateView.vala"
	gtk_widget_set_margin_end ((GtkWidget*) separator_add, 8);
#line 251 "../src/Views/DateView.vala"
	_tmp128_ = self->priv->date_add_view;
#line 251 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp128_, (GtkWidget*) separator_add, 1, 0, 1, 4);
#line 252 "../src/Views/DateView.vala"
	_tmp129_ = self->priv->date_add_view;
#line 252 "../src/Views/DateView.vala"
	gtk_grid_attach (_tmp129_, (GtkWidget*) add_grid, 2, 0, 1, 4);
#line 254 "../src/Views/DateView.vala"
	_tmp130_ = (GtkStack*) gtk_stack_new ();
#line 254 "../src/Views/DateView.vala"
	g_object_ref_sink (_tmp130_);
#line 254 "../src/Views/DateView.vala"
	_data2_->date_calc_holder = _tmp130_;
#line 255 "../src/Views/DateView.vala"
	_tmp131_ = self->priv->date_difference_view;
#line 255 "../src/Views/DateView.vala"
	gtk_stack_add_named (_data2_->date_calc_holder, (GtkWidget*) _tmp131_, _ ("Difference Between Dates"));
#line 256 "../src/Views/DateView.vala"
	_tmp132_ = self->priv->date_add_view;
#line 256 "../src/Views/DateView.vala"
	gtk_stack_add_named (_data2_->date_calc_holder, (GtkWidget*) _tmp132_, _ ("Add or Subtract Dates"));
#line 257 "../src/Views/DateView.vala"
	gtk_stack_set_transition_type (_data2_->date_calc_holder, GTK_STACK_TRANSITION_TYPE_SLIDE_LEFT_RIGHT);
#line 260 "../src/Views/DateView.vala"
	_tmp133_ = self->priv->date_mode;
#line 260 "../src/Views/DateView.vala"
	granite_widgets_mode_button_set_active (_tmp133_, 0);
#line 261 "../src/Views/DateView.vala"
	_tmp134_ = self->priv->date_mode;
#line 261 "../src/Views/DateView.vala"
	g_signal_connect_data (_tmp134_, "mode-changed", (GCallback) ___lambda208__granite_widgets_mode_button_mode_changed, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 273 "../src/Views/DateView.vala"
	_tmp135_ = pebbles_date_calculator_new ();
#line 273 "../src/Views/DateView.vala"
	_pebbles_date_calculator_unref0 (self->priv->date_calculator_object);
#line 273 "../src/Views/DateView.vala"
	self->priv->date_calculator_object = _tmp135_;
#line 275 "../src/Views/DateView.vala"
	_tmp136_ = self->priv->datepicker_diff_from;
#line 275 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp136_, "changed", (GCallback) ___lambda209__gtk_editable_changed, self, 0);
#line 279 "../src/Views/DateView.vala"
	_tmp137_ = self->priv->datepicker_diff_to;
#line 279 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp137_, "changed", (GCallback) ___lambda210__gtk_editable_changed, self, 0);
#line 283 "../src/Views/DateView.vala"
	_tmp138_ = self->priv->datepicker_add_sub;
#line 283 "../src/Views/DateView.vala"
	g_signal_connect_object ((GtkEditable*) _tmp138_, "changed", (GCallback) ___lambda211__gtk_editable_changed, self, 0);
#line 288 "../src/Views/DateView.vala"
	_tmp139_ = self->priv->date_mode;
#line 288 "../src/Views/DateView.vala"
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _tmp139_, 0, 0, 2, 1);
#line 289 "../src/Views/DateView.vala"
	gtk_grid_attach ((GtkGrid*) self, (GtkWidget*) _data2_->date_calc_holder, 0, 1, 1, 1);
#line 290 "../src/Views/DateView.vala"
	gtk_grid_set_row_spacing ((GtkGrid*) self, 54);
#line 291 "../src/Views/DateView.vala"
	gtk_widget_set_halign ((GtkWidget*) self, GTK_ALIGN_CENTER);
#line 292 "../src/Views/DateView.vala"
	gtk_widget_set_valign ((GtkWidget*) self, GTK_ALIGN_CENTER);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (separator_add);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (add_grid);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (add_header);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (date_input_grid);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (start_label);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (separator_diff);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (diff_grid);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (diff_header);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (to_label);
#line 85 "../src/Views/DateView.vala"
	_g_object_unref0 (from_label);
#line 85 "../src/Views/DateView.vala"
	block2_data_unref (_data2_);
#line 85 "../src/Views/DateView.vala"
	_data2_ = NULL;
#line 1761 "DateView.c"
}

static gpointer
_g_date_time_ref0 (gpointer self)
{
#line 296 "../src/Views/DateView.vala"
	return self ? g_date_time_ref (self) : NULL;
#line 1769 "DateView.c"
}

static void
pebbles_date_view_do_calculations (PebblesDateView* self)
{
	GraniteWidgetsDatePicker* _tmp0_;
	GDateTime* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
	GraniteWidgetsDatePicker* _tmp4_;
	GDateTime* _tmp5_;
	GDateTime* _tmp6_;
	GDateTime* _tmp7_;
	gint order = 0;
	GDateTime* _tmp8_;
	GDateTime* _tmp9_;
	GtkSwitch* _tmp16_;
	gchar* result_days = NULL;
	PebblesDateCalculator* _tmp19_;
	GDateTime* _tmp20_;
	GDateTime* _tmp21_;
	gchar* _tmp22_;
	gchar* _tmp23_ = NULL;
	const gchar* _tmp24_;
	const gchar* _tmp27_;
	gchar* _tmp28_;
	GtkLabel* _tmp29_;
	const gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	PebblesDateFormatted* formatted_date_difference = NULL;
	PebblesDateCalculator* _tmp33_;
	GDateTime* _tmp34_;
	GDateTime* _tmp35_;
	PebblesDateFormatted* _tmp36_;
	gchar* res_day = NULL;
	PebblesDateFormatted* _tmp37_;
	gchar* _tmp38_;
	gchar* res_wek = NULL;
	PebblesDateFormatted* _tmp39_;
	gchar* _tmp40_;
	gchar* res_mon = NULL;
	PebblesDateFormatted* _tmp41_;
	gchar* _tmp42_;
	gchar* res_yar = NULL;
	PebblesDateFormatted* _tmp43_;
	gchar* _tmp44_;
	gchar* result_date = NULL;
	gchar* _tmp45_;
	gint part = 0;
	gboolean _tmp46_ = FALSE;
	gboolean _tmp47_ = FALSE;
	gboolean _tmp48_ = FALSE;
	const gchar* _tmp49_;
	GtkLabel* _tmp136_;
	const gchar* _tmp137_;
#line 295 "../src/Views/DateView.vala"
	g_return_if_fail (self != NULL);
#line 296 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->datepicker_diff_from;
#line 296 "../src/Views/DateView.vala"
	_tmp1_ = granite_widgets_date_picker_get_date (_tmp0_);
#line 296 "../src/Views/DateView.vala"
	_tmp2_ = _tmp1_;
#line 296 "../src/Views/DateView.vala"
	_tmp3_ = _g_date_time_ref0 (_tmp2_);
#line 296 "../src/Views/DateView.vala"
	_g_date_time_unref0 (self->priv->datetime_diff_from);
#line 296 "../src/Views/DateView.vala"
	self->priv->datetime_diff_from = _tmp3_;
#line 297 "../src/Views/DateView.vala"
	_tmp4_ = self->priv->datepicker_diff_to;
#line 297 "../src/Views/DateView.vala"
	_tmp5_ = granite_widgets_date_picker_get_date (_tmp4_);
#line 297 "../src/Views/DateView.vala"
	_tmp6_ = _tmp5_;
#line 297 "../src/Views/DateView.vala"
	_tmp7_ = _g_date_time_ref0 (_tmp6_);
#line 297 "../src/Views/DateView.vala"
	_g_date_time_unref0 (self->priv->datetime_diff_to);
#line 297 "../src/Views/DateView.vala"
	self->priv->datetime_diff_to = _tmp7_;
#line 299 "../src/Views/DateView.vala"
	_tmp8_ = self->priv->datetime_diff_from;
#line 299 "../src/Views/DateView.vala"
	_tmp9_ = self->priv->datetime_diff_to;
#line 299 "../src/Views/DateView.vala"
	order = g_date_time_compare (_tmp8_, _tmp9_);
#line 300 "../src/Views/DateView.vala"
	if (order >= 1) {
#line 1860 "DateView.c"
		GDateTime* temp = NULL;
		GDateTime* _tmp10_;
		GDateTime* _tmp11_;
		GDateTime* _tmp12_;
		GDateTime* _tmp13_;
		GDateTime* _tmp14_;
		GDateTime* _tmp15_;
#line 301 "../src/Views/DateView.vala"
		_tmp10_ = self->priv->datetime_diff_from;
#line 301 "../src/Views/DateView.vala"
		_tmp11_ = _g_date_time_ref0 (_tmp10_);
#line 301 "../src/Views/DateView.vala"
		temp = _tmp11_;
#line 302 "../src/Views/DateView.vala"
		_tmp12_ = self->priv->datetime_diff_to;
#line 302 "../src/Views/DateView.vala"
		_tmp13_ = _g_date_time_ref0 (_tmp12_);
#line 302 "../src/Views/DateView.vala"
		_g_date_time_unref0 (self->priv->datetime_diff_from);
#line 302 "../src/Views/DateView.vala"
		self->priv->datetime_diff_from = _tmp13_;
#line 303 "../src/Views/DateView.vala"
		_tmp14_ = temp;
#line 303 "../src/Views/DateView.vala"
		_tmp15_ = _g_date_time_ref0 (_tmp14_);
#line 303 "../src/Views/DateView.vala"
		_g_date_time_unref0 (self->priv->datetime_diff_to);
#line 303 "../src/Views/DateView.vala"
		self->priv->datetime_diff_to = _tmp15_;
#line 300 "../src/Views/DateView.vala"
		_g_date_time_unref0 (temp);
#line 1892 "DateView.c"
	}
#line 306 "../src/Views/DateView.vala"
	_tmp16_ = self->priv->diff_mode_switch;
#line 306 "../src/Views/DateView.vala"
	if (gtk_switch_get_active (_tmp16_)) {
#line 1898 "DateView.c"
		GDateTime* _tmp17_;
		GDateTime* _tmp18_;
#line 307 "../src/Views/DateView.vala"
		_tmp17_ = self->priv->datetime_diff_to;
#line 307 "../src/Views/DateView.vala"
		_tmp18_ = g_date_time_add_days (_tmp17_, 1);
#line 307 "../src/Views/DateView.vala"
		_g_date_time_unref0 (self->priv->datetime_diff_to);
#line 307 "../src/Views/DateView.vala"
		self->priv->datetime_diff_to = _tmp18_;
#line 1909 "DateView.c"
	}
#line 309 "../src/Views/DateView.vala"
	_tmp19_ = self->priv->date_calculator_object;
#line 309 "../src/Views/DateView.vala"
	_tmp20_ = self->priv->datetime_diff_from;
#line 309 "../src/Views/DateView.vala"
	_tmp21_ = self->priv->datetime_diff_to;
#line 309 "../src/Views/DateView.vala"
	_tmp22_ = pebbles_date_calculator_date_difference (_tmp19_, _tmp20_, _tmp21_);
#line 309 "../src/Views/DateView.vala"
	result_days = _tmp22_;
#line 310 "../src/Views/DateView.vala"
	_tmp24_ = result_days;
#line 310 "../src/Views/DateView.vala"
	if (g_strcmp0 (_tmp24_, "1") == 0) {
#line 1925 "DateView.c"
		gchar* _tmp25_;
#line 310 "../src/Views/DateView.vala"
		_tmp25_ = g_strconcat (" ", _ ("day"), NULL);
#line 310 "../src/Views/DateView.vala"
		_g_free0 (_tmp23_);
#line 310 "../src/Views/DateView.vala"
		_tmp23_ = _tmp25_;
#line 1933 "DateView.c"
	} else {
		gchar* _tmp26_;
#line 310 "../src/Views/DateView.vala"
		_tmp26_ = g_strconcat (" ", _ ("days"), NULL);
#line 310 "../src/Views/DateView.vala"
		_g_free0 (_tmp23_);
#line 310 "../src/Views/DateView.vala"
		_tmp23_ = _tmp26_;
#line 1942 "DateView.c"
	}
#line 310 "../src/Views/DateView.vala"
	_tmp27_ = result_days;
#line 310 "../src/Views/DateView.vala"
	_tmp28_ = g_strconcat (_tmp27_, _tmp23_, NULL);
#line 310 "../src/Views/DateView.vala"
	_g_free0 (result_days);
#line 310 "../src/Views/DateView.vala"
	result_days = _tmp28_;
#line 311 "../src/Views/DateView.vala"
	_tmp29_ = self->priv->days_diff_label;
#line 311 "../src/Views/DateView.vala"
	_tmp30_ = result_days;
#line 311 "../src/Views/DateView.vala"
	_tmp31_ = g_strdup_printf (_ ("A total of %s"), _tmp30_);
#line 311 "../src/Views/DateView.vala"
	_tmp32_ = _tmp31_;
#line 311 "../src/Views/DateView.vala"
	gtk_label_set_text (_tmp29_, _tmp32_);
#line 311 "../src/Views/DateView.vala"
	_g_free0 (_tmp32_);
#line 313 "../src/Views/DateView.vala"
	_tmp33_ = self->priv->date_calculator_object;
#line 313 "../src/Views/DateView.vala"
	_tmp34_ = self->priv->datetime_diff_from;
#line 313 "../src/Views/DateView.vala"
	_tmp35_ = self->priv->datetime_diff_to;
#line 313 "../src/Views/DateView.vala"
	_tmp36_ = pebbles_date_calculator_difference_formatter (_tmp33_, _tmp34_, _tmp35_);
#line 313 "../src/Views/DateView.vala"
	formatted_date_difference = _tmp36_;
#line 314 "../src/Views/DateView.vala"
	_tmp37_ = formatted_date_difference;
#line 314 "../src/Views/DateView.vala"
	_tmp38_ = g_strdup_printf ("%i", _tmp37_->day);
#line 314 "../src/Views/DateView.vala"
	res_day = _tmp38_;
#line 315 "../src/Views/DateView.vala"
	_tmp39_ = formatted_date_difference;
#line 315 "../src/Views/DateView.vala"
	_tmp40_ = g_strdup_printf ("%i", _tmp39_->week);
#line 315 "../src/Views/DateView.vala"
	res_wek = _tmp40_;
#line 316 "../src/Views/DateView.vala"
	_tmp41_ = formatted_date_difference;
#line 316 "../src/Views/DateView.vala"
	_tmp42_ = g_strdup_printf ("%i", _tmp41_->month);
#line 316 "../src/Views/DateView.vala"
	res_mon = _tmp42_;
#line 317 "../src/Views/DateView.vala"
	_tmp43_ = formatted_date_difference;
#line 317 "../src/Views/DateView.vala"
	_tmp44_ = g_strdup_printf ("%i", _tmp43_->year);
#line 317 "../src/Views/DateView.vala"
	res_yar = _tmp44_;
#line 320 "../src/Views/DateView.vala"
	_tmp45_ = g_strdup ("");
#line 320 "../src/Views/DateView.vala"
	result_date = _tmp45_;
#line 321 "../src/Views/DateView.vala"
	part = 0;
#line 322 "../src/Views/DateView.vala"
	_tmp49_ = res_yar;
#line 322 "../src/Views/DateView.vala"
	if (g_strcmp0 (_tmp49_, "0") == 0) {
#line 2008 "DateView.c"
		const gchar* _tmp50_;
#line 322 "../src/Views/DateView.vala"
		_tmp50_ = res_mon;
#line 322 "../src/Views/DateView.vala"
		_tmp48_ = g_strcmp0 (_tmp50_, "0") == 0;
#line 2014 "DateView.c"
	} else {
#line 322 "../src/Views/DateView.vala"
		_tmp48_ = FALSE;
#line 2018 "DateView.c"
	}
#line 322 "../src/Views/DateView.vala"
	if (_tmp48_) {
#line 2022 "DateView.c"
		const gchar* _tmp51_;
#line 322 "../src/Views/DateView.vala"
		_tmp51_ = res_wek;
#line 322 "../src/Views/DateView.vala"
		_tmp47_ = g_strcmp0 (_tmp51_, "0") == 0;
#line 2028 "DateView.c"
	} else {
#line 322 "../src/Views/DateView.vala"
		_tmp47_ = FALSE;
#line 2032 "DateView.c"
	}
#line 322 "../src/Views/DateView.vala"
	if (_tmp47_) {
#line 2036 "DateView.c"
		const gchar* _tmp52_;
#line 322 "../src/Views/DateView.vala"
		_tmp52_ = res_day;
#line 322 "../src/Views/DateView.vala"
		_tmp46_ = g_strcmp0 (_tmp52_, "0") == 0;
#line 2042 "DateView.c"
	} else {
#line 322 "../src/Views/DateView.vala"
		_tmp46_ = FALSE;
#line 2046 "DateView.c"
	}
#line 322 "../src/Views/DateView.vala"
	if (_tmp46_) {
#line 2050 "DateView.c"
		gchar* _tmp53_;
		GtkLabel* _tmp54_;
#line 323 "../src/Views/DateView.vala"
		_tmp53_ = g_strconcat (_ ("Hey, it's the same date"), "\n", NULL);
#line 323 "../src/Views/DateView.vala"
		_g_free0 (result_date);
#line 323 "../src/Views/DateView.vala"
		result_date = _tmp53_;
#line 324 "../src/Views/DateView.vala"
		_tmp54_ = self->priv->days_diff_label;
#line 324 "../src/Views/DateView.vala"
		gtk_label_set_text (_tmp54_, "");
#line 2063 "DateView.c"
	} else {
		const gchar* _tmp55_;
		const gchar* _tmp66_;
		const gchar* _tmp89_;
		const gchar* _tmp110_;
#line 326 "../src/Views/DateView.vala"
		_tmp55_ = res_yar;
#line 326 "../src/Views/DateView.vala"
		if (g_strcmp0 (_tmp55_, "0") != 0) {
#line 2073 "DateView.c"
			const gchar* _tmp56_ = NULL;
			const gchar* _tmp57_;
			const gchar* _tmp58_;
			const gchar* _tmp59_;
			gchar* _tmp60_;
			gchar* _tmp61_;
			gchar* _tmp62_;
			gchar* _tmp63_;
			gchar* _tmp64_;
			gint _tmp65_;
#line 327 "../src/Views/DateView.vala"
			_tmp57_ = res_yar;
#line 327 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp57_, "1") == 0) {
#line 327 "../src/Views/DateView.vala"
				_tmp56_ = _ ("year");
#line 2090 "DateView.c"
			} else {
#line 327 "../src/Views/DateView.vala"
				_tmp56_ = _ ("years");
#line 2094 "DateView.c"
			}
#line 327 "../src/Views/DateView.vala"
			_tmp58_ = result_date;
#line 327 "../src/Views/DateView.vala"
			_tmp59_ = res_yar;
#line 327 "../src/Views/DateView.vala"
			_tmp60_ = g_strconcat (_tmp59_, " ", NULL);
#line 327 "../src/Views/DateView.vala"
			_tmp61_ = _tmp60_;
#line 327 "../src/Views/DateView.vala"
			_tmp62_ = g_strconcat (_tmp61_, _tmp56_, NULL);
#line 327 "../src/Views/DateView.vala"
			_tmp63_ = _tmp62_;
#line 327 "../src/Views/DateView.vala"
			_tmp64_ = g_strconcat (_tmp58_, _tmp63_, NULL);
#line 327 "../src/Views/DateView.vala"
			_g_free0 (result_date);
#line 327 "../src/Views/DateView.vala"
			result_date = _tmp64_;
#line 327 "../src/Views/DateView.vala"
			_g_free0 (_tmp63_);
#line 327 "../src/Views/DateView.vala"
			_g_free0 (_tmp61_);
#line 328 "../src/Views/DateView.vala"
			_tmp65_ = part;
#line 328 "../src/Views/DateView.vala"
			part = _tmp65_ + 1;
#line 2122 "DateView.c"
		}
#line 330 "../src/Views/DateView.vala"
		_tmp66_ = res_mon;
#line 330 "../src/Views/DateView.vala"
		if (g_strcmp0 (_tmp66_, "0") != 0) {
#line 2128 "DateView.c"
			gboolean _tmp67_ = FALSE;
			gboolean _tmp68_ = FALSE;
			const gchar* _tmp69_;
			const gchar* _tmp79_ = NULL;
			const gchar* _tmp80_;
			const gchar* _tmp81_;
			const gchar* _tmp82_;
			gchar* _tmp83_;
			gchar* _tmp84_;
			gchar* _tmp85_;
			gchar* _tmp86_;
			gchar* _tmp87_;
			gint _tmp88_;
#line 331 "../src/Views/DateView.vala"
			_tmp69_ = res_day;
#line 331 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp69_, "0") == 0) {
#line 2146 "DateView.c"
				const gchar* _tmp70_;
#line 331 "../src/Views/DateView.vala"
				_tmp70_ = res_wek;
#line 331 "../src/Views/DateView.vala"
				_tmp68_ = g_strcmp0 (_tmp70_, "0") == 0;
#line 2152 "DateView.c"
			} else {
#line 331 "../src/Views/DateView.vala"
				_tmp68_ = FALSE;
#line 2156 "DateView.c"
			}
#line 331 "../src/Views/DateView.vala"
			if (_tmp68_) {
#line 331 "../src/Views/DateView.vala"
				_tmp67_ = part > 0;
#line 2162 "DateView.c"
			} else {
#line 331 "../src/Views/DateView.vala"
				_tmp67_ = FALSE;
#line 2166 "DateView.c"
			}
#line 331 "../src/Views/DateView.vala"
			if (_tmp67_) {
#line 2170 "DateView.c"
				const gchar* _tmp71_;
				gchar* _tmp72_;
				gchar* _tmp73_;
				gchar* _tmp74_;
				gchar* _tmp75_;
				gchar* _tmp76_;
#line 332 "../src/Views/DateView.vala"
				_tmp71_ = result_date;
#line 332 "../src/Views/DateView.vala"
				_tmp72_ = g_strconcat (" ", _ ("and"), NULL);
#line 332 "../src/Views/DateView.vala"
				_tmp73_ = _tmp72_;
#line 332 "../src/Views/DateView.vala"
				_tmp74_ = g_strconcat (_tmp73_, " ", NULL);
#line 332 "../src/Views/DateView.vala"
				_tmp75_ = _tmp74_;
#line 332 "../src/Views/DateView.vala"
				_tmp76_ = g_strconcat (_tmp71_, _tmp75_, NULL);
#line 332 "../src/Views/DateView.vala"
				_g_free0 (result_date);
#line 332 "../src/Views/DateView.vala"
				result_date = _tmp76_;
#line 332 "../src/Views/DateView.vala"
				_g_free0 (_tmp75_);
#line 332 "../src/Views/DateView.vala"
				_g_free0 (_tmp73_);
#line 2197 "DateView.c"
			} else {
#line 333 "../src/Views/DateView.vala"
				if (part > 0) {
#line 2201 "DateView.c"
					const gchar* _tmp77_;
					gchar* _tmp78_;
#line 334 "../src/Views/DateView.vala"
					_tmp77_ = result_date;
#line 334 "../src/Views/DateView.vala"
					_tmp78_ = g_strconcat (_tmp77_, ", ", NULL);
#line 334 "../src/Views/DateView.vala"
					_g_free0 (result_date);
#line 334 "../src/Views/DateView.vala"
					result_date = _tmp78_;
#line 2212 "DateView.c"
				}
			}
#line 335 "../src/Views/DateView.vala"
			_tmp80_ = res_mon;
#line 335 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp80_, "1") == 0) {
#line 335 "../src/Views/DateView.vala"
				_tmp79_ = _ ("month");
#line 2221 "DateView.c"
			} else {
#line 335 "../src/Views/DateView.vala"
				_tmp79_ = _ ("months");
#line 2225 "DateView.c"
			}
#line 335 "../src/Views/DateView.vala"
			_tmp81_ = result_date;
#line 335 "../src/Views/DateView.vala"
			_tmp82_ = res_mon;
#line 335 "../src/Views/DateView.vala"
			_tmp83_ = g_strconcat (_tmp82_, " ", NULL);
#line 335 "../src/Views/DateView.vala"
			_tmp84_ = _tmp83_;
#line 335 "../src/Views/DateView.vala"
			_tmp85_ = g_strconcat (_tmp84_, _tmp79_, NULL);
#line 335 "../src/Views/DateView.vala"
			_tmp86_ = _tmp85_;
#line 335 "../src/Views/DateView.vala"
			_tmp87_ = g_strconcat (_tmp81_, _tmp86_, NULL);
#line 335 "../src/Views/DateView.vala"
			_g_free0 (result_date);
#line 335 "../src/Views/DateView.vala"
			result_date = _tmp87_;
#line 335 "../src/Views/DateView.vala"
			_g_free0 (_tmp86_);
#line 335 "../src/Views/DateView.vala"
			_g_free0 (_tmp84_);
#line 336 "../src/Views/DateView.vala"
			_tmp88_ = part;
#line 336 "../src/Views/DateView.vala"
			part = _tmp88_ + 1;
#line 2253 "DateView.c"
		}
#line 338 "../src/Views/DateView.vala"
		_tmp89_ = res_wek;
#line 338 "../src/Views/DateView.vala"
		if (g_strcmp0 (_tmp89_, "0") != 0) {
#line 2259 "DateView.c"
			gboolean _tmp90_ = FALSE;
			const gchar* _tmp91_;
			const gchar* _tmp100_ = NULL;
			const gchar* _tmp101_;
			const gchar* _tmp102_;
			const gchar* _tmp103_;
			gchar* _tmp104_;
			gchar* _tmp105_;
			gchar* _tmp106_;
			gchar* _tmp107_;
			gchar* _tmp108_;
			gint _tmp109_;
#line 339 "../src/Views/DateView.vala"
			_tmp91_ = res_day;
#line 339 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp91_, "0") == 0) {
#line 339 "../src/Views/DateView.vala"
				_tmp90_ = part > 0;
#line 2278 "DateView.c"
			} else {
#line 339 "../src/Views/DateView.vala"
				_tmp90_ = FALSE;
#line 2282 "DateView.c"
			}
#line 339 "../src/Views/DateView.vala"
			if (_tmp90_) {
#line 2286 "DateView.c"
				const gchar* _tmp92_;
				gchar* _tmp93_;
				gchar* _tmp94_;
				gchar* _tmp95_;
				gchar* _tmp96_;
				gchar* _tmp97_;
#line 340 "../src/Views/DateView.vala"
				_tmp92_ = result_date;
#line 340 "../src/Views/DateView.vala"
				_tmp93_ = g_strconcat (" ", _ ("and"), NULL);
#line 340 "../src/Views/DateView.vala"
				_tmp94_ = _tmp93_;
#line 340 "../src/Views/DateView.vala"
				_tmp95_ = g_strconcat (_tmp94_, " ", NULL);
#line 340 "../src/Views/DateView.vala"
				_tmp96_ = _tmp95_;
#line 340 "../src/Views/DateView.vala"
				_tmp97_ = g_strconcat (_tmp92_, _tmp96_, NULL);
#line 340 "../src/Views/DateView.vala"
				_g_free0 (result_date);
#line 340 "../src/Views/DateView.vala"
				result_date = _tmp97_;
#line 340 "../src/Views/DateView.vala"
				_g_free0 (_tmp96_);
#line 340 "../src/Views/DateView.vala"
				_g_free0 (_tmp94_);
#line 2313 "DateView.c"
			} else {
#line 341 "../src/Views/DateView.vala"
				if (part > 0) {
#line 2317 "DateView.c"
					const gchar* _tmp98_;
					gchar* _tmp99_;
#line 342 "../src/Views/DateView.vala"
					_tmp98_ = result_date;
#line 342 "../src/Views/DateView.vala"
					_tmp99_ = g_strconcat (_tmp98_, ", ", NULL);
#line 342 "../src/Views/DateView.vala"
					_g_free0 (result_date);
#line 342 "../src/Views/DateView.vala"
					result_date = _tmp99_;
#line 2328 "DateView.c"
				}
			}
#line 343 "../src/Views/DateView.vala"
			_tmp101_ = res_wek;
#line 343 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp101_, "1") == 0) {
#line 343 "../src/Views/DateView.vala"
				_tmp100_ = _ ("week");
#line 2337 "DateView.c"
			} else {
#line 343 "../src/Views/DateView.vala"
				_tmp100_ = _ ("weeks");
#line 2341 "DateView.c"
			}
#line 343 "../src/Views/DateView.vala"
			_tmp102_ = result_date;
#line 343 "../src/Views/DateView.vala"
			_tmp103_ = res_wek;
#line 343 "../src/Views/DateView.vala"
			_tmp104_ = g_strconcat (_tmp103_, " ", NULL);
#line 343 "../src/Views/DateView.vala"
			_tmp105_ = _tmp104_;
#line 343 "../src/Views/DateView.vala"
			_tmp106_ = g_strconcat (_tmp105_, _tmp100_, NULL);
#line 343 "../src/Views/DateView.vala"
			_tmp107_ = _tmp106_;
#line 343 "../src/Views/DateView.vala"
			_tmp108_ = g_strconcat (_tmp102_, _tmp107_, NULL);
#line 343 "../src/Views/DateView.vala"
			_g_free0 (result_date);
#line 343 "../src/Views/DateView.vala"
			result_date = _tmp108_;
#line 343 "../src/Views/DateView.vala"
			_g_free0 (_tmp107_);
#line 343 "../src/Views/DateView.vala"
			_g_free0 (_tmp105_);
#line 344 "../src/Views/DateView.vala"
			_tmp109_ = part;
#line 344 "../src/Views/DateView.vala"
			part = _tmp109_ + 1;
#line 2369 "DateView.c"
		}
#line 346 "../src/Views/DateView.vala"
		_tmp110_ = res_day;
#line 346 "../src/Views/DateView.vala"
		if (g_strcmp0 (_tmp110_, "0") != 0) {
#line 2375 "DateView.c"
			const gchar* _tmp120_ = NULL;
			const gchar* _tmp121_;
			const gchar* _tmp122_;
			const gchar* _tmp123_;
			gchar* _tmp124_;
			gchar* _tmp125_;
			gchar* _tmp126_;
			gchar* _tmp127_;
			gchar* _tmp128_;
#line 347 "../src/Views/DateView.vala"
			if (part > 2) {
#line 2387 "DateView.c"
				const gchar* _tmp111_;
				gchar* _tmp112_;
#line 348 "../src/Views/DateView.vala"
				_tmp111_ = result_date;
#line 348 "../src/Views/DateView.vala"
				_tmp112_ = g_strconcat (_tmp111_, "\n", NULL);
#line 348 "../src/Views/DateView.vala"
				_g_free0 (result_date);
#line 348 "../src/Views/DateView.vala"
				result_date = _tmp112_;
#line 2398 "DateView.c"
			} else {
#line 349 "../src/Views/DateView.vala"
				if (part != 0) {
#line 2402 "DateView.c"
					const gchar* _tmp113_;
					gchar* _tmp114_;
#line 350 "../src/Views/DateView.vala"
					_tmp113_ = result_date;
#line 350 "../src/Views/DateView.vala"
					_tmp114_ = g_strconcat (_tmp113_, " ", NULL);
#line 350 "../src/Views/DateView.vala"
					_g_free0 (result_date);
#line 350 "../src/Views/DateView.vala"
					result_date = _tmp114_;
#line 2413 "DateView.c"
				}
			}
#line 351 "../src/Views/DateView.vala"
			if (part > 0) {
#line 2418 "DateView.c"
				const gchar* _tmp115_;
				gchar* _tmp116_;
				gchar* _tmp117_;
				gchar* _tmp118_;
#line 352 "../src/Views/DateView.vala"
				_tmp115_ = result_date;
#line 352 "../src/Views/DateView.vala"
				_tmp116_ = g_strconcat (_ ("and"), " ", NULL);
#line 352 "../src/Views/DateView.vala"
				_tmp117_ = _tmp116_;
#line 352 "../src/Views/DateView.vala"
				_tmp118_ = g_strconcat (_tmp115_, _tmp117_, NULL);
#line 352 "../src/Views/DateView.vala"
				_g_free0 (result_date);
#line 352 "../src/Views/DateView.vala"
				result_date = _tmp118_;
#line 352 "../src/Views/DateView.vala"
				_g_free0 (_tmp117_);
#line 2437 "DateView.c"
			} else {
				GtkLabel* _tmp119_;
#line 354 "../src/Views/DateView.vala"
				_tmp119_ = self->priv->days_diff_label;
#line 354 "../src/Views/DateView.vala"
				gtk_label_set_text (_tmp119_, "");
#line 2444 "DateView.c"
			}
#line 355 "../src/Views/DateView.vala"
			_tmp121_ = res_day;
#line 355 "../src/Views/DateView.vala"
			if (g_strcmp0 (_tmp121_, "1") == 0) {
#line 355 "../src/Views/DateView.vala"
				_tmp120_ = _ ("day");
#line 2452 "DateView.c"
			} else {
#line 355 "../src/Views/DateView.vala"
				_tmp120_ = _ ("days");
#line 2456 "DateView.c"
			}
#line 355 "../src/Views/DateView.vala"
			_tmp122_ = result_date;
#line 355 "../src/Views/DateView.vala"
			_tmp123_ = res_day;
#line 355 "../src/Views/DateView.vala"
			_tmp124_ = g_strconcat (_tmp123_, " ", NULL);
#line 355 "../src/Views/DateView.vala"
			_tmp125_ = _tmp124_;
#line 355 "../src/Views/DateView.vala"
			_tmp126_ = g_strconcat (_tmp125_, _tmp120_, NULL);
#line 355 "../src/Views/DateView.vala"
			_tmp127_ = _tmp126_;
#line 355 "../src/Views/DateView.vala"
			_tmp128_ = g_strconcat (_tmp122_, _tmp127_, NULL);
#line 355 "../src/Views/DateView.vala"
			_g_free0 (result_date);
#line 355 "../src/Views/DateView.vala"
			result_date = _tmp128_;
#line 355 "../src/Views/DateView.vala"
			_g_free0 (_tmp127_);
#line 355 "../src/Views/DateView.vala"
			_g_free0 (_tmp125_);
#line 2480 "DateView.c"
		}
	}
#line 358 "../src/Views/DateView.vala"
	if (order >= 1) {
#line 2485 "DateView.c"
		GtkLabel* _tmp129_;
		GtkLabel* _tmp130_;
		const gchar* _tmp131_;
		gchar* _tmp132_;
		gchar* _tmp133_;
		gchar* _tmp134_;
		gchar* _tmp135_;
#line 359 "../src/Views/DateView.vala"
		_tmp129_ = self->priv->days_diff_label;
#line 359 "../src/Views/DateView.vala"
		_tmp130_ = self->priv->days_diff_label;
#line 359 "../src/Views/DateView.vala"
		_tmp131_ = gtk_label_get_text (_tmp130_);
#line 359 "../src/Views/DateView.vala"
		_tmp132_ = g_strconcat (_tmp131_, ", ", NULL);
#line 359 "../src/Views/DateView.vala"
		_tmp133_ = _tmp132_;
#line 359 "../src/Views/DateView.vala"
		_tmp134_ = g_strconcat (_tmp133_, _ ("counting backwards"), NULL);
#line 359 "../src/Views/DateView.vala"
		_tmp135_ = _tmp134_;
#line 359 "../src/Views/DateView.vala"
		gtk_label_set_text (_tmp129_, _tmp135_);
#line 359 "../src/Views/DateView.vala"
		_g_free0 (_tmp135_);
#line 359 "../src/Views/DateView.vala"
		_g_free0 (_tmp133_);
#line 2513 "DateView.c"
	}
#line 361 "../src/Views/DateView.vala"
	_tmp136_ = self->priv->date_diff_label;
#line 361 "../src/Views/DateView.vala"
	_tmp137_ = result_date;
#line 361 "../src/Views/DateView.vala"
	gtk_label_set_text (_tmp136_, _tmp137_);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (result_date);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (res_yar);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (res_mon);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (res_wek);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (res_day);
#line 295 "../src/Views/DateView.vala"
	_pebbles_date_formatted_unref0 (formatted_date_difference);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (_tmp23_);
#line 295 "../src/Views/DateView.vala"
	_g_free0 (result_days);
#line 2537 "DateView.c"
}

static gchar*
string_replace (const gchar* self,
                const gchar* old,
                const gchar* replacement)
{
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError* _inner_error0_ = NULL;
	gchar* result = NULL;
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1534 "glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1535 "glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 2559 "DateView.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp1_ = (*((gchar*) old)) == '\0';
#line 2563 "DateView.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp1_) {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 2569 "DateView.c"
	} else {
#line 1535 "glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (old, replacement) == 0;
#line 2573 "DateView.c"
	}
#line 1535 "glib-2.0.vapi"
	if (_tmp0_) {
#line 2577 "DateView.c"
		gchar* _tmp2_;
#line 1536 "glib-2.0.vapi"
		_tmp2_ = g_strdup (self);
#line 1536 "glib-2.0.vapi"
		result = _tmp2_;
#line 1536 "glib-2.0.vapi"
		return result;
#line 2585 "DateView.c"
	}
	{
		GRegex* regex = NULL;
		gchar* _tmp3_;
		gchar* _tmp4_;
		GRegex* _tmp5_;
		GRegex* _tmp6_;
		gchar* _tmp7_ = NULL;
		GRegex* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
#line 1539 "glib-2.0.vapi"
		_tmp3_ = g_regex_escape_string (old, -1);
#line 1539 "glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1539 "glib-2.0.vapi"
		_tmp5_ = g_regex_new (_tmp4_, 0, 0, &_inner_error0_);
#line 1539 "glib-2.0.vapi"
		_tmp6_ = _tmp5_;
#line 1539 "glib-2.0.vapi"
		_g_free0 (_tmp4_);
#line 1539 "glib-2.0.vapi"
		regex = _tmp6_;
#line 1539 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1539 "glib-2.0.vapi"
			_g_free0 (_tmp7_);
#line 1539 "glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1539 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 2617 "DateView.c"
				goto __catch0_g_regex_error;
			}
#line 1539 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1539 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1539 "glib-2.0.vapi"
			return NULL;
#line 2626 "DateView.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp8_ = regex;
#line 1540 "glib-2.0.vapi"
		_tmp9_ = g_regex_replace_literal (_tmp8_, self, (gssize) -1, 0, replacement, 0, &_inner_error0_);
#line 1540 "glib-2.0.vapi"
		_tmp7_ = _tmp9_;
#line 1540 "glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 1540 "glib-2.0.vapi"
			_g_free0 (_tmp7_);
#line 1540 "glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
			if (_inner_error0_->domain == G_REGEX_ERROR) {
#line 2642 "DateView.c"
				goto __catch0_g_regex_error;
			}
#line 1540 "glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1540 "glib-2.0.vapi"
			g_clear_error (&_inner_error0_);
#line 1540 "glib-2.0.vapi"
			return NULL;
#line 2651 "DateView.c"
		}
#line 1540 "glib-2.0.vapi"
		_tmp10_ = _tmp7_;
#line 1540 "glib-2.0.vapi"
		_tmp7_ = NULL;
#line 1540 "glib-2.0.vapi"
		result = _tmp10_;
#line 1540 "glib-2.0.vapi"
		_g_free0 (_tmp7_);
#line 1540 "glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1540 "glib-2.0.vapi"
		return result;
#line 2665 "DateView.c"
	}
	goto __finally0;
	__catch0_g_regex_error:
	{
#line 1538 "glib-2.0.vapi"
		g_clear_error (&_inner_error0_);
#line 1542 "glib-2.0.vapi"
		g_assert_not_reached ();
#line 2674 "DateView.c"
	}
	__finally0:
#line 1538 "glib-2.0.vapi"
	g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 1538 "glib-2.0.vapi"
	g_clear_error (&_inner_error0_);
#line 1538 "glib-2.0.vapi"
	return NULL;
#line 2683 "DateView.c"
}

static void
pebbles_date_view_find_date (PebblesDateView* self,
                             gboolean mode)
{
	GDateTime* given_date = NULL;
	GraniteWidgetsDatePicker* _tmp0_;
	GDateTime* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
	gchar* formatted_date = NULL;
	GDateTime* _tmp28_;
	gchar* _tmp29_;
	gchar** week_day = NULL;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	gchar* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
	gchar* _tmp36_;
	gchar** _tmp37_;
	gint week_day_length1;
	gint _week_day_size_;
	GDateTime* _tmp38_;
	GtkCalendar* _tmp103_;
	GDateTime* _tmp104_;
	GDateTime* _tmp105_;
	GtkCalendar* _tmp106_;
	GDateTime* _tmp107_;
	GtkLabel* _tmp108_;
	const gchar* _tmp109_;
#line 363 "../src/Views/DateView.vala"
	g_return_if_fail (self != NULL);
#line 364 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->datepicker_add_sub;
#line 364 "../src/Views/DateView.vala"
	_tmp1_ = granite_widgets_date_picker_get_date (_tmp0_);
#line 364 "../src/Views/DateView.vala"
	_tmp2_ = _tmp1_;
#line 364 "../src/Views/DateView.vala"
	_tmp3_ = _g_date_time_ref0 (_tmp2_);
#line 364 "../src/Views/DateView.vala"
	given_date = _tmp3_;
#line 365 "../src/Views/DateView.vala"
	if (!mode) {
#line 2731 "DateView.c"
		GDateTime* _tmp4_;
		GtkEntry* _tmp5_;
		const gchar* _tmp6_;
		GDateTime* _tmp7_;
		GDateTime* _tmp8_;
		GtkEntry* _tmp9_;
		const gchar* _tmp10_;
		GDateTime* _tmp11_;
		GDateTime* _tmp12_;
		GtkEntry* _tmp13_;
		const gchar* _tmp14_;
		GDateTime* _tmp15_;
#line 366 "../src/Views/DateView.vala"
		_tmp4_ = given_date;
#line 366 "../src/Views/DateView.vala"
		_tmp5_ = self->priv->add_entry_day;
#line 366 "../src/Views/DateView.vala"
		_tmp6_ = gtk_entry_get_text (_tmp5_);
#line 366 "../src/Views/DateView.vala"
		_tmp7_ = g_date_time_add_days (_tmp4_, atoi (_tmp6_));
#line 366 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 366 "../src/Views/DateView.vala"
		given_date = _tmp7_;
#line 367 "../src/Views/DateView.vala"
		_tmp8_ = given_date;
#line 367 "../src/Views/DateView.vala"
		_tmp9_ = self->priv->add_entry_month;
#line 367 "../src/Views/DateView.vala"
		_tmp10_ = gtk_entry_get_text (_tmp9_);
#line 367 "../src/Views/DateView.vala"
		_tmp11_ = g_date_time_add_months (_tmp8_, atoi (_tmp10_));
#line 367 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 367 "../src/Views/DateView.vala"
		given_date = _tmp11_;
#line 368 "../src/Views/DateView.vala"
		_tmp12_ = given_date;
#line 368 "../src/Views/DateView.vala"
		_tmp13_ = self->priv->add_entry_year;
#line 368 "../src/Views/DateView.vala"
		_tmp14_ = gtk_entry_get_text (_tmp13_);
#line 368 "../src/Views/DateView.vala"
		_tmp15_ = g_date_time_add_years (_tmp12_, atoi (_tmp14_));
#line 368 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 368 "../src/Views/DateView.vala"
		given_date = _tmp15_;
#line 2780 "DateView.c"
	} else {
		GDateTime* _tmp16_;
		GtkEntry* _tmp17_;
		const gchar* _tmp18_;
		GDateTime* _tmp19_;
		GDateTime* _tmp20_;
		GtkEntry* _tmp21_;
		const gchar* _tmp22_;
		GDateTime* _tmp23_;
		GDateTime* _tmp24_;
		GtkEntry* _tmp25_;
		const gchar* _tmp26_;
		GDateTime* _tmp27_;
#line 371 "../src/Views/DateView.vala"
		_tmp16_ = given_date;
#line 371 "../src/Views/DateView.vala"
		_tmp17_ = self->priv->add_entry_day;
#line 371 "../src/Views/DateView.vala"
		_tmp18_ = gtk_entry_get_text (_tmp17_);
#line 371 "../src/Views/DateView.vala"
		_tmp19_ = g_date_time_add_days (_tmp16_, 0 - atoi (_tmp18_));
#line 371 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 371 "../src/Views/DateView.vala"
		given_date = _tmp19_;
#line 372 "../src/Views/DateView.vala"
		_tmp20_ = given_date;
#line 372 "../src/Views/DateView.vala"
		_tmp21_ = self->priv->add_entry_month;
#line 372 "../src/Views/DateView.vala"
		_tmp22_ = gtk_entry_get_text (_tmp21_);
#line 372 "../src/Views/DateView.vala"
		_tmp23_ = g_date_time_add_months (_tmp20_, 0 - atoi (_tmp22_));
#line 372 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 372 "../src/Views/DateView.vala"
		given_date = _tmp23_;
#line 373 "../src/Views/DateView.vala"
		_tmp24_ = given_date;
#line 373 "../src/Views/DateView.vala"
		_tmp25_ = self->priv->add_entry_year;
#line 373 "../src/Views/DateView.vala"
		_tmp26_ = gtk_entry_get_text (_tmp25_);
#line 373 "../src/Views/DateView.vala"
		_tmp27_ = g_date_time_add_years (_tmp24_, 0 - atoi (_tmp26_));
#line 373 "../src/Views/DateView.vala"
		_g_date_time_unref0 (given_date);
#line 373 "../src/Views/DateView.vala"
		given_date = _tmp27_;
#line 2830 "DateView.c"
	}
#line 375 "../src/Views/DateView.vala"
	_tmp28_ = given_date;
#line 375 "../src/Views/DateView.vala"
	_tmp29_ = g_date_time_format (_tmp28_, "%x");
#line 375 "../src/Views/DateView.vala"
	formatted_date = _tmp29_;
#line 376 "../src/Views/DateView.vala"
	_tmp30_ = g_strdup (_ ("Monday"));
#line 376 "../src/Views/DateView.vala"
	_tmp31_ = g_strdup (_ ("Tuesday"));
#line 376 "../src/Views/DateView.vala"
	_tmp32_ = g_strdup (_ ("Wednesday"));
#line 376 "../src/Views/DateView.vala"
	_tmp33_ = g_strdup (_ ("Thursday"));
#line 376 "../src/Views/DateView.vala"
	_tmp34_ = g_strdup (_ ("Friday"));
#line 376 "../src/Views/DateView.vala"
	_tmp35_ = g_strdup (_ ("Saturday"));
#line 376 "../src/Views/DateView.vala"
	_tmp36_ = g_strdup (_ ("Sunday"));
#line 376 "../src/Views/DateView.vala"
	_tmp37_ = g_new0 (gchar*, 7 + 1);
#line 376 "../src/Views/DateView.vala"
	_tmp37_[0] = _tmp30_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[1] = _tmp31_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[2] = _tmp32_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[3] = _tmp33_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[4] = _tmp34_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[5] = _tmp35_;
#line 376 "../src/Views/DateView.vala"
	_tmp37_[6] = _tmp36_;
#line 376 "../src/Views/DateView.vala"
	week_day = _tmp37_;
#line 376 "../src/Views/DateView.vala"
	week_day_length1 = 7;
#line 376 "../src/Views/DateView.vala"
	_week_day_size_ = week_day_length1;
#line 385 "../src/Views/DateView.vala"
	_tmp38_ = given_date;
#line 385 "../src/Views/DateView.vala"
	switch (g_date_time_get_day_of_week (_tmp38_)) {
#line 385 "../src/Views/DateView.vala"
		case 1:
#line 2880 "DateView.c"
		{
			GtkLabel* _tmp39_;
			gchar** _tmp40_;
			gint _tmp40__length1;
			const gchar* _tmp41_;
			const gchar* _tmp42_;
			gchar** _tmp43_;
			gint _tmp43__length1;
			const gchar* _tmp44_;
			gchar* _tmp45_;
			gchar* _tmp46_;
			gchar* _tmp47_;
#line 387 "../src/Views/DateView.vala"
			_tmp39_ = self->priv->week_day_label;
#line 387 "../src/Views/DateView.vala"
			_tmp40_ = week_day;
#line 387 "../src/Views/DateView.vala"
			_tmp40__length1 = week_day_length1;
#line 387 "../src/Views/DateView.vala"
			_tmp41_ = _tmp40_[0];
#line 387 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp39_, _tmp41_);
#line 388 "../src/Views/DateView.vala"
			_tmp42_ = formatted_date;
#line 388 "../src/Views/DateView.vala"
			_tmp43_ = week_day;
#line 388 "../src/Views/DateView.vala"
			_tmp43__length1 = week_day_length1;
#line 388 "../src/Views/DateView.vala"
			_tmp44_ = _tmp43_[0];
#line 388 "../src/Views/DateView.vala"
			_tmp45_ = g_strconcat (_tmp44_, " ", NULL);
#line 388 "../src/Views/DateView.vala"
			_tmp46_ = _tmp45_;
#line 388 "../src/Views/DateView.vala"
			_tmp47_ = string_replace (_tmp42_, _tmp46_, "");
#line 388 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 388 "../src/Views/DateView.vala"
			formatted_date = _tmp47_;
#line 388 "../src/Views/DateView.vala"
			_g_free0 (_tmp46_);
#line 389 "../src/Views/DateView.vala"
			break;
#line 2925 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 2:
#line 2929 "DateView.c"
		{
			GtkLabel* _tmp48_;
			gchar** _tmp49_;
			gint _tmp49__length1;
			const gchar* _tmp50_;
			const gchar* _tmp51_;
			gchar** _tmp52_;
			gint _tmp52__length1;
			const gchar* _tmp53_;
			gchar* _tmp54_;
			gchar* _tmp55_;
			gchar* _tmp56_;
#line 391 "../src/Views/DateView.vala"
			_tmp48_ = self->priv->week_day_label;
#line 391 "../src/Views/DateView.vala"
			_tmp49_ = week_day;
#line 391 "../src/Views/DateView.vala"
			_tmp49__length1 = week_day_length1;
#line 391 "../src/Views/DateView.vala"
			_tmp50_ = _tmp49_[1];
#line 391 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp48_, _tmp50_);
#line 392 "../src/Views/DateView.vala"
			_tmp51_ = formatted_date;
#line 392 "../src/Views/DateView.vala"
			_tmp52_ = week_day;
#line 392 "../src/Views/DateView.vala"
			_tmp52__length1 = week_day_length1;
#line 392 "../src/Views/DateView.vala"
			_tmp53_ = _tmp52_[1];
#line 392 "../src/Views/DateView.vala"
			_tmp54_ = g_strconcat (_tmp53_, " ", NULL);
#line 392 "../src/Views/DateView.vala"
			_tmp55_ = _tmp54_;
#line 392 "../src/Views/DateView.vala"
			_tmp56_ = string_replace (_tmp51_, _tmp55_, "");
#line 392 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 392 "../src/Views/DateView.vala"
			formatted_date = _tmp56_;
#line 392 "../src/Views/DateView.vala"
			_g_free0 (_tmp55_);
#line 393 "../src/Views/DateView.vala"
			break;
#line 2974 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 3:
#line 2978 "DateView.c"
		{
			GtkLabel* _tmp57_;
			gchar** _tmp58_;
			gint _tmp58__length1;
			const gchar* _tmp59_;
			const gchar* _tmp60_;
			gchar** _tmp61_;
			gint _tmp61__length1;
			const gchar* _tmp62_;
			gchar* _tmp63_;
			gchar* _tmp64_;
			gchar* _tmp65_;
#line 395 "../src/Views/DateView.vala"
			_tmp57_ = self->priv->week_day_label;
#line 395 "../src/Views/DateView.vala"
			_tmp58_ = week_day;
#line 395 "../src/Views/DateView.vala"
			_tmp58__length1 = week_day_length1;
#line 395 "../src/Views/DateView.vala"
			_tmp59_ = _tmp58_[2];
#line 395 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp57_, _tmp59_);
#line 396 "../src/Views/DateView.vala"
			_tmp60_ = formatted_date;
#line 396 "../src/Views/DateView.vala"
			_tmp61_ = week_day;
#line 396 "../src/Views/DateView.vala"
			_tmp61__length1 = week_day_length1;
#line 396 "../src/Views/DateView.vala"
			_tmp62_ = _tmp61_[2];
#line 396 "../src/Views/DateView.vala"
			_tmp63_ = g_strconcat (_tmp62_, " ", NULL);
#line 396 "../src/Views/DateView.vala"
			_tmp64_ = _tmp63_;
#line 396 "../src/Views/DateView.vala"
			_tmp65_ = string_replace (_tmp60_, _tmp64_, "");
#line 396 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 396 "../src/Views/DateView.vala"
			formatted_date = _tmp65_;
#line 396 "../src/Views/DateView.vala"
			_g_free0 (_tmp64_);
#line 397 "../src/Views/DateView.vala"
			break;
#line 3023 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 4:
#line 3027 "DateView.c"
		{
			GtkLabel* _tmp66_;
			gchar** _tmp67_;
			gint _tmp67__length1;
			const gchar* _tmp68_;
			const gchar* _tmp69_;
			gchar** _tmp70_;
			gint _tmp70__length1;
			const gchar* _tmp71_;
			gchar* _tmp72_;
			gchar* _tmp73_;
			gchar* _tmp74_;
#line 399 "../src/Views/DateView.vala"
			_tmp66_ = self->priv->week_day_label;
#line 399 "../src/Views/DateView.vala"
			_tmp67_ = week_day;
#line 399 "../src/Views/DateView.vala"
			_tmp67__length1 = week_day_length1;
#line 399 "../src/Views/DateView.vala"
			_tmp68_ = _tmp67_[3];
#line 399 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp66_, _tmp68_);
#line 400 "../src/Views/DateView.vala"
			_tmp69_ = formatted_date;
#line 400 "../src/Views/DateView.vala"
			_tmp70_ = week_day;
#line 400 "../src/Views/DateView.vala"
			_tmp70__length1 = week_day_length1;
#line 400 "../src/Views/DateView.vala"
			_tmp71_ = _tmp70_[3];
#line 400 "../src/Views/DateView.vala"
			_tmp72_ = g_strconcat (_tmp71_, " ", NULL);
#line 400 "../src/Views/DateView.vala"
			_tmp73_ = _tmp72_;
#line 400 "../src/Views/DateView.vala"
			_tmp74_ = string_replace (_tmp69_, _tmp73_, "");
#line 400 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 400 "../src/Views/DateView.vala"
			formatted_date = _tmp74_;
#line 400 "../src/Views/DateView.vala"
			_g_free0 (_tmp73_);
#line 401 "../src/Views/DateView.vala"
			break;
#line 3072 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 5:
#line 3076 "DateView.c"
		{
			GtkLabel* _tmp75_;
			gchar** _tmp76_;
			gint _tmp76__length1;
			const gchar* _tmp77_;
			const gchar* _tmp78_;
			gchar** _tmp79_;
			gint _tmp79__length1;
			const gchar* _tmp80_;
			gchar* _tmp81_;
			gchar* _tmp82_;
			gchar* _tmp83_;
#line 403 "../src/Views/DateView.vala"
			_tmp75_ = self->priv->week_day_label;
#line 403 "../src/Views/DateView.vala"
			_tmp76_ = week_day;
#line 403 "../src/Views/DateView.vala"
			_tmp76__length1 = week_day_length1;
#line 403 "../src/Views/DateView.vala"
			_tmp77_ = _tmp76_[4];
#line 403 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp75_, _tmp77_);
#line 404 "../src/Views/DateView.vala"
			_tmp78_ = formatted_date;
#line 404 "../src/Views/DateView.vala"
			_tmp79_ = week_day;
#line 404 "../src/Views/DateView.vala"
			_tmp79__length1 = week_day_length1;
#line 404 "../src/Views/DateView.vala"
			_tmp80_ = _tmp79_[4];
#line 404 "../src/Views/DateView.vala"
			_tmp81_ = g_strconcat (_tmp80_, " ", NULL);
#line 404 "../src/Views/DateView.vala"
			_tmp82_ = _tmp81_;
#line 404 "../src/Views/DateView.vala"
			_tmp83_ = string_replace (_tmp78_, _tmp82_, "");
#line 404 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 404 "../src/Views/DateView.vala"
			formatted_date = _tmp83_;
#line 404 "../src/Views/DateView.vala"
			_g_free0 (_tmp82_);
#line 405 "../src/Views/DateView.vala"
			break;
#line 3121 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 6:
#line 3125 "DateView.c"
		{
			GtkLabel* _tmp84_;
			gchar** _tmp85_;
			gint _tmp85__length1;
			const gchar* _tmp86_;
			const gchar* _tmp87_;
			gchar** _tmp88_;
			gint _tmp88__length1;
			const gchar* _tmp89_;
			gchar* _tmp90_;
			gchar* _tmp91_;
			gchar* _tmp92_;
#line 407 "../src/Views/DateView.vala"
			_tmp84_ = self->priv->week_day_label;
#line 407 "../src/Views/DateView.vala"
			_tmp85_ = week_day;
#line 407 "../src/Views/DateView.vala"
			_tmp85__length1 = week_day_length1;
#line 407 "../src/Views/DateView.vala"
			_tmp86_ = _tmp85_[5];
#line 407 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp84_, _tmp86_);
#line 408 "../src/Views/DateView.vala"
			_tmp87_ = formatted_date;
#line 408 "../src/Views/DateView.vala"
			_tmp88_ = week_day;
#line 408 "../src/Views/DateView.vala"
			_tmp88__length1 = week_day_length1;
#line 408 "../src/Views/DateView.vala"
			_tmp89_ = _tmp88_[5];
#line 408 "../src/Views/DateView.vala"
			_tmp90_ = g_strconcat (_tmp89_, " ", NULL);
#line 408 "../src/Views/DateView.vala"
			_tmp91_ = _tmp90_;
#line 408 "../src/Views/DateView.vala"
			_tmp92_ = string_replace (_tmp87_, _tmp91_, "");
#line 408 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 408 "../src/Views/DateView.vala"
			formatted_date = _tmp92_;
#line 408 "../src/Views/DateView.vala"
			_g_free0 (_tmp91_);
#line 409 "../src/Views/DateView.vala"
			break;
#line 3170 "DateView.c"
		}
#line 385 "../src/Views/DateView.vala"
		case 7:
#line 3174 "DateView.c"
		{
			GtkLabel* _tmp93_;
			gchar** _tmp94_;
			gint _tmp94__length1;
			const gchar* _tmp95_;
			const gchar* _tmp96_;
			gchar** _tmp97_;
			gint _tmp97__length1;
			const gchar* _tmp98_;
			gchar* _tmp99_;
			gchar* _tmp100_;
			gchar* _tmp101_;
#line 411 "../src/Views/DateView.vala"
			_tmp93_ = self->priv->week_day_label;
#line 411 "../src/Views/DateView.vala"
			_tmp94_ = week_day;
#line 411 "../src/Views/DateView.vala"
			_tmp94__length1 = week_day_length1;
#line 411 "../src/Views/DateView.vala"
			_tmp95_ = _tmp94_[6];
#line 411 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp93_, _tmp95_);
#line 412 "../src/Views/DateView.vala"
			_tmp96_ = formatted_date;
#line 412 "../src/Views/DateView.vala"
			_tmp97_ = week_day;
#line 412 "../src/Views/DateView.vala"
			_tmp97__length1 = week_day_length1;
#line 412 "../src/Views/DateView.vala"
			_tmp98_ = _tmp97_[6];
#line 412 "../src/Views/DateView.vala"
			_tmp99_ = g_strconcat (_tmp98_, " ", NULL);
#line 412 "../src/Views/DateView.vala"
			_tmp100_ = _tmp99_;
#line 412 "../src/Views/DateView.vala"
			_tmp101_ = string_replace (_tmp96_, _tmp100_, "");
#line 412 "../src/Views/DateView.vala"
			_g_free0 (formatted_date);
#line 412 "../src/Views/DateView.vala"
			formatted_date = _tmp101_;
#line 412 "../src/Views/DateView.vala"
			_g_free0 (_tmp100_);
#line 413 "../src/Views/DateView.vala"
			break;
#line 3219 "DateView.c"
		}
		default:
		{
			GtkLabel* _tmp102_;
#line 415 "../src/Views/DateView.vala"
			_tmp102_ = self->priv->week_day_label;
#line 415 "../src/Views/DateView.vala"
			gtk_label_set_text (_tmp102_, "");
#line 416 "../src/Views/DateView.vala"
			break;
#line 3230 "DateView.c"
		}
	}
#line 418 "../src/Views/DateView.vala"
	_tmp103_ = self->priv->main_calendar;
#line 418 "../src/Views/DateView.vala"
	_tmp104_ = given_date;
#line 418 "../src/Views/DateView.vala"
	_tmp105_ = given_date;
#line 418 "../src/Views/DateView.vala"
	gtk_calendar_select_month (_tmp103_, (guint) (g_date_time_get_month (_tmp104_) - 1), (guint) g_date_time_get_year (_tmp105_));
#line 419 "../src/Views/DateView.vala"
	_tmp106_ = self->priv->main_calendar;
#line 419 "../src/Views/DateView.vala"
	_tmp107_ = given_date;
#line 419 "../src/Views/DateView.vala"
	gtk_calendar_select_day (_tmp106_, (guint) g_date_time_get_day_of_month (_tmp107_));
#line 420 "../src/Views/DateView.vala"
	_tmp108_ = self->priv->date_dmy_label;
#line 420 "../src/Views/DateView.vala"
	_tmp109_ = formatted_date;
#line 420 "../src/Views/DateView.vala"
	gtk_label_set_text (_tmp108_, _tmp109_);
#line 363 "../src/Views/DateView.vala"
	week_day = (_vala_array_free (week_day, week_day_length1, (GDestroyNotify) g_free), NULL);
#line 363 "../src/Views/DateView.vala"
	_g_free0 (formatted_date);
#line 363 "../src/Views/DateView.vala"
	_g_date_time_unref0 (given_date);
#line 3259 "DateView.c"
}

static GDateTime*
pebbles_date_view_get_date_from_string (PebblesDateView* self,
                                        const gchar* date_string)
{
	GDateTime* date = NULL;
	GDateTime* result = NULL;
#line 423 "../src/Views/DateView.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 423 "../src/Views/DateView.vala"
	g_return_val_if_fail (date_string != NULL, NULL);
#line 425 "../src/Views/DateView.vala"
	if (g_strcmp0 (date_string, "") != 0) {
#line 3274 "DateView.c"
		GTimeZone* _tmp0_;
		GTimeZone* _tmp1_;
		GDateTime* _tmp2_;
#line 426 "../src/Views/DateView.vala"
		_tmp0_ = g_time_zone_new_local ();
#line 426 "../src/Views/DateView.vala"
		_tmp1_ = _tmp0_;
#line 426 "../src/Views/DateView.vala"
		_tmp2_ = g_date_time_new_from_iso8601 (date_string, _tmp1_);
#line 426 "../src/Views/DateView.vala"
		_g_date_time_unref0 (date);
#line 426 "../src/Views/DateView.vala"
		date = _tmp2_;
#line 426 "../src/Views/DateView.vala"
		_g_time_zone_unref0 (_tmp1_);
#line 3290 "DateView.c"
	} else {
		GDateTime* _tmp3_;
#line 428 "../src/Views/DateView.vala"
		_tmp3_ = g_date_time_new_now_local ();
#line 428 "../src/Views/DateView.vala"
		_g_date_time_unref0 (date);
#line 428 "../src/Views/DateView.vala"
		date = _tmp3_;
#line 3299 "DateView.c"
	}
#line 431 "../src/Views/DateView.vala"
	result = date;
#line 431 "../src/Views/DateView.vala"
	return result;
#line 3305 "DateView.c"
}

static void
pebbles_date_view_load_date (PebblesDateView* self)
{
	GraniteWidgetsDatePicker* _tmp0_;
	PebblesSettings* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp3_;
	GDateTime* _tmp4_;
	GDateTime* _tmp5_;
	GraniteWidgetsDatePicker* _tmp6_;
	PebblesSettings* _tmp7_;
	const gchar* _tmp8_;
	const gchar* _tmp9_;
	GDateTime* _tmp10_;
	GDateTime* _tmp11_;
	GraniteWidgetsDatePicker* _tmp12_;
	PebblesSettings* _tmp13_;
	const gchar* _tmp14_;
	const gchar* _tmp15_;
	GDateTime* _tmp16_;
	GDateTime* _tmp17_;
#line 434 "../src/Views/DateView.vala"
	g_return_if_fail (self != NULL);
#line 435 "../src/Views/DateView.vala"
	_tmp0_ = self->priv->datepicker_diff_from;
#line 435 "../src/Views/DateView.vala"
	_tmp1_ = self->priv->settings;
#line 435 "../src/Views/DateView.vala"
	_tmp2_ = pebbles_settings_get_date_diff_from (_tmp1_);
#line 435 "../src/Views/DateView.vala"
	_tmp3_ = _tmp2_;
#line 435 "../src/Views/DateView.vala"
	_tmp4_ = pebbles_date_view_get_date_from_string (self, _tmp3_);
#line 435 "../src/Views/DateView.vala"
	_tmp5_ = _tmp4_;
#line 435 "../src/Views/DateView.vala"
	granite_widgets_date_picker_set_date (_tmp0_, _tmp5_);
#line 435 "../src/Views/DateView.vala"
	_g_date_time_unref0 (_tmp5_);
#line 436 "../src/Views/DateView.vala"
	_tmp6_ = self->priv->datepicker_diff_to;
#line 436 "../src/Views/DateView.vala"
	_tmp7_ = self->priv->settings;
#line 436 "../src/Views/DateView.vala"
	_tmp8_ = pebbles_settings_get_date_diff_to (_tmp7_);
#line 436 "../src/Views/DateView.vala"
	_tmp9_ = _tmp8_;
#line 436 "../src/Views/DateView.vala"
	_tmp10_ = pebbles_date_view_get_date_from_string (self, _tmp9_);
#line 436 "../src/Views/DateView.vala"
	_tmp11_ = _tmp10_;
#line 436 "../src/Views/DateView.vala"
	granite_widgets_date_picker_set_date (_tmp6_, _tmp11_);
#line 436 "../src/Views/DateView.vala"
	_g_date_time_unref0 (_tmp11_);
#line 437 "../src/Views/DateView.vala"
	_tmp12_ = self->priv->datepicker_add_sub;
#line 437 "../src/Views/DateView.vala"
	_tmp13_ = self->priv->settings;
#line 437 "../src/Views/DateView.vala"
	_tmp14_ = pebbles_settings_get_date_add_sub (_tmp13_);
#line 437 "../src/Views/DateView.vala"
	_tmp15_ = _tmp14_;
#line 437 "../src/Views/DateView.vala"
	_tmp16_ = pebbles_date_view_get_date_from_string (self, _tmp15_);
#line 437 "../src/Views/DateView.vala"
	_tmp17_ = _tmp16_;
#line 437 "../src/Views/DateView.vala"
	granite_widgets_date_picker_set_date (_tmp12_, _tmp17_);
#line 437 "../src/Views/DateView.vala"
	_g_date_time_unref0 (_tmp17_);
#line 3379 "DateView.c"
}

static void
pebbles_date_view_class_init (PebblesDateViewClass * klass,
                              gpointer klass_data)
{
#line 23 "../src/Views/DateView.vala"
	pebbles_date_view_parent_class = g_type_class_peek_parent (klass);
#line 23 "../src/Views/DateView.vala"
	g_type_class_adjust_private_offset (klass, &PebblesDateView_private_offset);
#line 23 "../src/Views/DateView.vala"
	G_OBJECT_CLASS (klass)->finalize = pebbles_date_view_finalize;
#line 3392 "DateView.c"
}

static void
pebbles_date_view_instance_init (PebblesDateView * self,
                                 gpointer klass)
{
#line 23 "../src/Views/DateView.vala"
	self->priv = pebbles_date_view_get_instance_private (self);
#line 3401 "DateView.c"
}

static void
pebbles_date_view_finalize (GObject * obj)
{
	PebblesDateView * self;
#line 23 "../src/Views/DateView.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, PEBBLES_TYPE_DATE_VIEW, PebblesDateView);
#line 25 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_mode);
#line 28 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_difference_view);
#line 29 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_diff_from);
#line 30 "../src/Views/DateView.vala"
	_g_date_time_unref0 (self->priv->datetime_diff_from);
#line 31 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_diff_to);
#line 32 "../src/Views/DateView.vala"
	_g_date_time_unref0 (self->priv->datetime_diff_to);
#line 33 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_diff_label);
#line 34 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->days_diff_label);
#line 37 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_add_view);
#line 38 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->datepicker_add_sub);
#line 39 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->week_day_label);
#line 40 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_dmy_label);
#line 41 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_label);
#line 42 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_day);
#line 43 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_month);
#line 44 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_entry_year);
#line 45 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->main_calendar);
#line 48 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_mode_stack);
#line 49 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->diff_mode_switch);
#line 50 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->add_mode_switch);
#line 52 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_diff_grid);
#line 53 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->date_add_grid);
#line 55 "../src/Views/DateView.vala"
	_g_object_unref0 (self->priv->settings);
#line 57 "../src/Views/DateView.vala"
	_pebbles_date_calculator_unref0 (self->priv->date_calculator_object);
#line 23 "../src/Views/DateView.vala"
	G_OBJECT_CLASS (pebbles_date_view_parent_class)->finalize (obj);
#line 3460 "DateView.c"
}

static GType
pebbles_date_view_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (PebblesDateViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) pebbles_date_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (PebblesDateView), 0, (GInstanceInitFunc) pebbles_date_view_instance_init, NULL };
	GType pebbles_date_view_type_id;
	pebbles_date_view_type_id = g_type_register_static (gtk_grid_get_type (), "PebblesDateView", &g_define_type_info, 0);
	PebblesDateView_private_offset = g_type_add_instance_private (pebbles_date_view_type_id, sizeof (PebblesDateViewPrivate));
	return pebbles_date_view_type_id;
}

GType
pebbles_date_view_get_type (void)
{
	static volatile gsize pebbles_date_view_type_id__volatile = 0;
	if (g_once_init_enter (&pebbles_date_view_type_id__volatile)) {
		GType pebbles_date_view_type_id;
		pebbles_date_view_type_id = pebbles_date_view_get_type_once ();
		g_once_init_leave (&pebbles_date_view_type_id__volatile, pebbles_date_view_type_id);
	}
	return pebbles_date_view_type_id__volatile;
}

static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gint i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

