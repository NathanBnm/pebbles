/* StorageBar.c generated by valac 0.48.14, the Vala compiler
 * generated from StorageBar.vala, do not modify */

/*
 *  Copyright (C) 2011-2017 Granite Developers (https://launchpad.net/granite)
 *
 *  This program or library is free software; you can redistribute it
 *  and/or modify it under the terms of the GNU Lesser General Public
 *  License as published by the Free Software Foundation; either
 *  version 3 of the License, or (at your option) any later version.
 *
 *  This library is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 *  Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General
 *  Public License along with this library; if not, write to the
 *  Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
 *  Boston, MA 02110-1301 USA.
 *
 *  Authored by: Corentin NoÃ«l <corentin@elementary.io>
 */

#include <gtk/gtk.h>
#include <glib-object.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <glib/gi18n-lib.h>
#include <cairo-gobject.h>
#include <float.h>
#include <math.h>

#define GRANITE_WIDGETS_TYPE_STORAGE_BAR (granite_widgets_storage_bar_get_type ())
#define GRANITE_WIDGETS_STORAGE_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBar))
#define GRANITE_WIDGETS_STORAGE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBarClass))
#define GRANITE_WIDGETS_IS_STORAGE_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_TYPE_STORAGE_BAR))
#define GRANITE_WIDGETS_IS_STORAGE_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_TYPE_STORAGE_BAR))
#define GRANITE_WIDGETS_STORAGE_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBarClass))

typedef struct _GraniteWidgetsStorageBar GraniteWidgetsStorageBar;
typedef struct _GraniteWidgetsStorageBarClass GraniteWidgetsStorageBarClass;
typedef struct _GraniteWidgetsStorageBarPrivate GraniteWidgetsStorageBarPrivate;

#define GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND (granite_widgets_storage_bar_fill_round_get_type ())
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND, GraniteWidgetsStorageBarFillRound))
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND, GraniteWidgetsStorageBarFillRoundClass))
#define GRANITE_WIDGETS_STORAGE_BAR_IS_FILL_ROUND(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND))
#define GRANITE_WIDGETS_STORAGE_BAR_IS_FILL_ROUND_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND))
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND, GraniteWidgetsStorageBarFillRoundClass))

typedef struct _GraniteWidgetsStorageBarFillRound GraniteWidgetsStorageBarFillRound;
typedef struct _GraniteWidgetsStorageBarFillRoundClass GraniteWidgetsStorageBarFillRoundClass;

#define GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK (granite_widgets_storage_bar_fill_block_get_type ())
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlock))
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlockClass))
#define GRANITE_WIDGETS_STORAGE_BAR_IS_FILL_BLOCK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK))
#define GRANITE_WIDGETS_STORAGE_BAR_IS_FILL_BLOCK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK))
#define GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlockClass))

typedef struct _GraniteWidgetsStorageBarFillBlock GraniteWidgetsStorageBarFillBlock;
typedef struct _GraniteWidgetsStorageBarFillBlockClass GraniteWidgetsStorageBarFillBlockClass;
enum  {
	GRANITE_WIDGETS_STORAGE_BAR_0_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_NUM_PROPERTIES
};
static GParamSpec* granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_NUM_PROPERTIES];
typedef enum  {
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_OTHER,
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO,
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO,
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO,
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP,
	GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES = GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_OTHER
} GraniteWidgetsStorageBarItemDescription;

#define GRANITE_WIDGETS_STORAGE_BAR_TYPE_ITEM_DESCRIPTION (granite_widgets_storage_bar_item_description_get_type ())
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_sequence_free0(var) ((var == NULL) ? NULL : (var = (g_sequence_free (var), NULL)))
typedef struct _GraniteWidgetsStorageBarFillRoundPrivate GraniteWidgetsStorageBarFillRoundPrivate;
typedef struct _GraniteWidgetsStorageBarFillBlockPrivate GraniteWidgetsStorageBarFillBlockPrivate;
enum  {
	GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_0_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_NUM_PROPERTIES
};
static GParamSpec* granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_NUM_PROPERTIES];
enum  {
	GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND_0_PROPERTY,
	GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND_NUM_PROPERTIES
};
static GParamSpec* granite_widgets_storage_bar_fill_round_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_ROUND_NUM_PROPERTIES];

struct _GraniteWidgetsStorageBar {
	GtkBox parent_instance;
	GraniteWidgetsStorageBarPrivate * priv;
};

struct _GraniteWidgetsStorageBarClass {
	GtkBoxClass parent_class;
};

struct _GraniteWidgetsStorageBarPrivate {
	guint64 _storage;
	guint64 _total_usage;
	GtkLabel* description_label;
	GHashTable* blocks;
	gint index;
	GtkBox* fillblock_box;
	GtkBox* legend_box;
	GraniteWidgetsStorageBarFillBlock* free_space;
	GraniteWidgetsStorageBarFillBlock* used_space;
};

struct _GraniteWidgetsStorageBarFillRound {
	GtkWidget parent_instance;
	GraniteWidgetsStorageBarFillRoundPrivate * priv;
};

struct _GraniteWidgetsStorageBarFillRoundClass {
	GtkWidgetClass parent_class;
};

struct _GraniteWidgetsStorageBarFillBlock {
	GraniteWidgetsStorageBarFillRound parent_instance;
	GraniteWidgetsStorageBarFillBlockPrivate * priv;
};

struct _GraniteWidgetsStorageBarFillBlockClass {
	GraniteWidgetsStorageBarFillRoundClass parent_class;
};

struct _GraniteWidgetsStorageBarFillBlockPrivate {
	guint64 _size;
	GraniteWidgetsStorageBarItemDescription _description;
	GtkGrid* _legend_item;
	GtkLabel* name_label;
	GtkLabel* size_label;
	GraniteWidgetsStorageBarFillRound* legend_fill;
};

static gint GraniteWidgetsStorageBar_private_offset;
static gpointer granite_widgets_storage_bar_parent_class = NULL;
static gint GraniteWidgetsStorageBarFillBlock_private_offset;
static gpointer granite_widgets_storage_bar_fill_block_parent_class = NULL;
static gpointer granite_widgets_storage_bar_fill_round_parent_class = NULL;

GType granite_widgets_storage_bar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GraniteWidgetsStorageBar, g_object_unref)
G_GNUC_INTERNAL GType granite_widgets_storage_bar_fill_round_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GraniteWidgetsStorageBarFillRound, g_object_unref)
G_GNUC_INTERNAL GType granite_widgets_storage_bar_fill_block_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (GraniteWidgetsStorageBarFillBlock, g_object_unref)
GType granite_widgets_storage_bar_item_description_get_type (void) G_GNUC_CONST;
gchar* granite_widgets_storage_bar_item_description_get_class (GraniteWidgetsStorageBarItemDescription description);
gchar* granite_widgets_storage_bar_item_description_get_name (GraniteWidgetsStorageBarItemDescription description);
guint64 granite_widgets_storage_bar_get_storage (GraniteWidgetsStorageBar* self);
void granite_widgets_storage_bar_set_storage (GraniteWidgetsStorageBar* self,
                                              guint64 value);
static void granite_widgets_storage_bar_update_size_description (GraniteWidgetsStorageBar* self);
guint64 granite_widgets_storage_bar_get_total_usage (GraniteWidgetsStorageBar* self);
void granite_widgets_storage_bar_set_total_usage (GraniteWidgetsStorageBar* self,
                                                  guint64 value);
gint granite_widgets_storage_bar_get_inner_margin_sides (GraniteWidgetsStorageBar* self);
void granite_widgets_storage_bar_set_inner_margin_sides (GraniteWidgetsStorageBar* self,
                                                         gint value);
GraniteWidgetsStorageBar* granite_widgets_storage_bar_new (guint64 storage);
GraniteWidgetsStorageBar* granite_widgets_storage_bar_construct (GType object_type,
                                                                 guint64 storage);
GraniteWidgetsStorageBar* granite_widgets_storage_bar_new_with_total_usage (guint64 storage,
                                                                            guint64 total_usage);
GraniteWidgetsStorageBar* granite_widgets_storage_bar_construct_with_total_usage (GType object_type,
                                                                                  guint64 storage,
                                                                                  guint64 total_usage);
static void granite_widgets_storage_bar_create_default_blocks (GraniteWidgetsStorageBar* self);
static gint __lambda79_ (GraniteWidgetsStorageBar* self,
                  GraniteWidgetsStorageBarItemDescription a,
                  GraniteWidgetsStorageBarItemDescription b);
static gint ___lambda79__gcompare_data_func (gconstpointer a,
                                      gconstpointer b,
                                      gpointer self);
static void __lambda80_ (GraniteWidgetsStorageBar* self,
                  GraniteWidgetsStorageBarItemDescription description);
G_GNUC_INTERNAL GraniteWidgetsStorageBarFillBlock* granite_widgets_storage_bar_fill_block_new (GraniteWidgetsStorageBarItemDescription description,
                                                                               guint64 size);
G_GNUC_INTERNAL GraniteWidgetsStorageBarFillBlock* granite_widgets_storage_bar_fill_block_construct (GType object_type,
                                                                                     GraniteWidgetsStorageBarItemDescription description,
                                                                                     guint64 size);
G_GNUC_INTERNAL GtkGrid* granite_widgets_storage_bar_fill_block_get_legend_item (GraniteWidgetsStorageBarFillBlock* self);
static void ___lambda80__gfunc (gconstpointer data,
                         gpointer self);
G_GNUC_INTERNAL guint64 granite_widgets_storage_bar_fill_block_get_size (GraniteWidgetsStorageBarFillBlock* self);
G_GNUC_INTERNAL void granite_widgets_storage_bar_fill_block_set_size (GraniteWidgetsStorageBarFillBlock* self,
                                                      guint64 value);
void granite_widgets_storage_bar_update_block_size (GraniteWidgetsStorageBar* self,
                                                    GraniteWidgetsStorageBarItemDescription description,
                                                    guint64 size);
G_GNUC_INTERNAL GraniteWidgetsStorageBarItemDescription granite_widgets_storage_bar_fill_block_get_description (GraniteWidgetsStorageBarFillBlock* self);
G_GNUC_INTERNAL void granite_widgets_storage_bar_fill_block_set_description (GraniteWidgetsStorageBarFillBlock* self,
                                                             GraniteWidgetsStorageBarItemDescription value);
static void granite_widgets_storage_bar_fill_block_set_legend_item (GraniteWidgetsStorageBarFillBlock* self,
                                                             GtkGrid* value);
static GObject * granite_widgets_storage_bar_fill_block_constructor (GType type,
                                                              guint n_construct_properties,
                                                              GObjectConstructParam * construct_properties);
G_GNUC_INTERNAL GraniteWidgetsStorageBarFillRound* granite_widgets_storage_bar_fill_round_new (void);
G_GNUC_INTERNAL GraniteWidgetsStorageBarFillRound* granite_widgets_storage_bar_fill_round_construct (GType object_type);
static void granite_widgets_storage_bar_fill_block_finalize (GObject * obj);
static GType granite_widgets_storage_bar_fill_block_get_type_once (void);
static void _vala_granite_widgets_storage_bar_fill_block_get_property (GObject * object,
                                                                guint property_id,
                                                                GValue * value,
                                                                GParamSpec * pspec);
static void _vala_granite_widgets_storage_bar_fill_block_set_property (GObject * object,
                                                                guint property_id,
                                                                const GValue * value,
                                                                GParamSpec * pspec);
static gboolean granite_widgets_storage_bar_fill_round_real_draw (GtkWidget* base,
                                                           cairo_t* cr);
static void granite_widgets_storage_bar_fill_round_real_get_preferred_width (GtkWidget* base,
                                                                      gint* minimum_width,
                                                                      gint* natural_width);
static void granite_widgets_storage_bar_fill_round_real_get_preferred_height (GtkWidget* base,
                                                                       gint* minimum_height,
                                                                       gint* natural_height);
static GObject * granite_widgets_storage_bar_fill_round_constructor (GType type,
                                                              guint n_construct_properties,
                                                              GObjectConstructParam * construct_properties);
static GType granite_widgets_storage_bar_fill_round_get_type_once (void);
static GObject * granite_widgets_storage_bar_constructor (GType type,
                                                   guint n_construct_properties,
                                                   GObjectConstructParam * construct_properties);
#define GRANITE_STYLE_CLASS_STORAGEBAR "storage-bar"
static void _g_object_unref0_ (gpointer var);
static void _granite_widgets_storage_bar___lambda81_ (GraniteWidgetsStorageBar* self,
                                               GtkAllocation* allocation);
static void __granite_widgets_storage_bar___lambda81__gtk_widget_size_allocate (GtkWidget* _sender,
                                                                         GtkAllocation* allocation,
                                                                         gpointer self);
static void granite_widgets_storage_bar_finalize (GObject * obj);
static GType granite_widgets_storage_bar_get_type_once (void);
static void _vala_granite_widgets_storage_bar_get_property (GObject * object,
                                                     guint property_id,
                                                     GValue * value,
                                                     GParamSpec * pspec);
static void _vala_granite_widgets_storage_bar_set_property (GObject * object,
                                                     guint property_id,
                                                     const GValue * value,
                                                     GParamSpec * pspec);

static inline gpointer
granite_widgets_storage_bar_get_instance_private (GraniteWidgetsStorageBar* self)
{
	return G_STRUCT_MEMBER_P (self, GraniteWidgetsStorageBar_private_offset);
}

gchar*
granite_widgets_storage_bar_item_description_get_class (GraniteWidgetsStorageBarItemDescription description)
{
	gchar* result = NULL;
#line 63 "../lib/Widgets/StorageBar.vala"
	switch (description) {
#line 63 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES:
#line 275 "StorageBar.c"
		{
			gchar* _tmp0_;
#line 65 "../lib/Widgets/StorageBar.vala"
			_tmp0_ = g_strdup ("files");
#line 65 "../lib/Widgets/StorageBar.vala"
			result = _tmp0_;
#line 65 "../lib/Widgets/StorageBar.vala"
			return result;
#line 284 "StorageBar.c"
		}
#line 63 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO:
#line 288 "StorageBar.c"
		{
			gchar* _tmp1_;
#line 67 "../lib/Widgets/StorageBar.vala"
			_tmp1_ = g_strdup ("audio");
#line 67 "../lib/Widgets/StorageBar.vala"
			result = _tmp1_;
#line 67 "../lib/Widgets/StorageBar.vala"
			return result;
#line 297 "StorageBar.c"
		}
#line 63 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO:
#line 301 "StorageBar.c"
		{
			gchar* _tmp2_;
#line 69 "../lib/Widgets/StorageBar.vala"
			_tmp2_ = g_strdup ("video");
#line 69 "../lib/Widgets/StorageBar.vala"
			result = _tmp2_;
#line 69 "../lib/Widgets/StorageBar.vala"
			return result;
#line 310 "StorageBar.c"
		}
#line 63 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO:
#line 314 "StorageBar.c"
		{
			gchar* _tmp3_;
#line 71 "../lib/Widgets/StorageBar.vala"
			_tmp3_ = g_strdup ("photo");
#line 71 "../lib/Widgets/StorageBar.vala"
			result = _tmp3_;
#line 71 "../lib/Widgets/StorageBar.vala"
			return result;
#line 323 "StorageBar.c"
		}
#line 63 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP:
#line 327 "StorageBar.c"
		{
			gchar* _tmp4_;
#line 73 "../lib/Widgets/StorageBar.vala"
			_tmp4_ = g_strdup ("app");
#line 73 "../lib/Widgets/StorageBar.vala"
			result = _tmp4_;
#line 73 "../lib/Widgets/StorageBar.vala"
			return result;
#line 336 "StorageBar.c"
		}
		default:
		{
#line 75 "../lib/Widgets/StorageBar.vala"
			result = NULL;
#line 75 "../lib/Widgets/StorageBar.vala"
			return result;
#line 344 "StorageBar.c"
		}
	}
}

gchar*
granite_widgets_storage_bar_item_description_get_name (GraniteWidgetsStorageBarItemDescription description)
{
	gchar* result = NULL;
#line 80 "../lib/Widgets/StorageBar.vala"
	switch (description) {
#line 80 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO:
#line 357 "StorageBar.c"
		{
			gchar* _tmp0_;
#line 82 "../lib/Widgets/StorageBar.vala"
			_tmp0_ = g_strdup (_ ("Audio"));
#line 82 "../lib/Widgets/StorageBar.vala"
			result = _tmp0_;
#line 82 "../lib/Widgets/StorageBar.vala"
			return result;
#line 366 "StorageBar.c"
		}
#line 80 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO:
#line 370 "StorageBar.c"
		{
			gchar* _tmp1_;
#line 85 "../lib/Widgets/StorageBar.vala"
			_tmp1_ = g_strdup (_ ("Videos"));
#line 85 "../lib/Widgets/StorageBar.vala"
			result = _tmp1_;
#line 85 "../lib/Widgets/StorageBar.vala"
			return result;
#line 379 "StorageBar.c"
		}
#line 80 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO:
#line 383 "StorageBar.c"
		{
			gchar* _tmp2_;
#line 88 "../lib/Widgets/StorageBar.vala"
			_tmp2_ = g_strdup (_ ("Photos"));
#line 88 "../lib/Widgets/StorageBar.vala"
			result = _tmp2_;
#line 88 "../lib/Widgets/StorageBar.vala"
			return result;
#line 392 "StorageBar.c"
		}
#line 80 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP:
#line 396 "StorageBar.c"
		{
			gchar* _tmp3_;
#line 90 "../lib/Widgets/StorageBar.vala"
			_tmp3_ = g_strdup (_ ("Apps"));
#line 90 "../lib/Widgets/StorageBar.vala"
			result = _tmp3_;
#line 90 "../lib/Widgets/StorageBar.vala"
			return result;
#line 405 "StorageBar.c"
		}
#line 80 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES:
#line 409 "StorageBar.c"
		{
			gchar* _tmp4_;
#line 93 "../lib/Widgets/StorageBar.vala"
			_tmp4_ = g_strdup (_ ("Files"));
#line 93 "../lib/Widgets/StorageBar.vala"
			result = _tmp4_;
#line 93 "../lib/Widgets/StorageBar.vala"
			return result;
#line 418 "StorageBar.c"
		}
		default:
		{
			gchar* _tmp5_;
#line 95 "../lib/Widgets/StorageBar.vala"
			_tmp5_ = g_strdup (_ ("Other"));
#line 95 "../lib/Widgets/StorageBar.vala"
			result = _tmp5_;
#line 95 "../lib/Widgets/StorageBar.vala"
			return result;
#line 429 "StorageBar.c"
		}
	}
}

static GType
granite_widgets_storage_bar_item_description_get_type_once (void)
{
	static const GEnumValue values[] = {{GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_OTHER, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_OTHER", "other"}, {GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO", "audio"}, {GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO", "video"}, {GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO", "photo"}, {GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP", "app"}, {GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES, "GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES", "files"}, {0, NULL, NULL}};
	GType granite_widgets_storage_bar_item_description_type_id;
	granite_widgets_storage_bar_item_description_type_id = g_enum_register_static ("GraniteWidgetsStorageBarItemDescription", values);
	return granite_widgets_storage_bar_item_description_type_id;
}

GType
granite_widgets_storage_bar_item_description_get_type (void)
{
	static volatile gsize granite_widgets_storage_bar_item_description_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_storage_bar_item_description_type_id__volatile)) {
		GType granite_widgets_storage_bar_item_description_type_id;
		granite_widgets_storage_bar_item_description_type_id = granite_widgets_storage_bar_item_description_get_type_once ();
		g_once_init_leave (&granite_widgets_storage_bar_item_description_type_id__volatile, granite_widgets_storage_bar_item_description_type_id);
	}
	return granite_widgets_storage_bar_item_description_type_id__volatile;
}

guint64
granite_widgets_storage_bar_get_storage (GraniteWidgetsStorageBar* self)
{
	guint64 result;
#line 102 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, 0ULL);
#line 103 "../lib/Widgets/StorageBar.vala"
	result = self->priv->_storage;
#line 103 "../lib/Widgets/StorageBar.vala"
	return result;
#line 465 "StorageBar.c"
}

void
granite_widgets_storage_bar_set_storage (GraniteWidgetsStorageBar* self,
                                         guint64 value)
{
#line 106 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 107 "../lib/Widgets/StorageBar.vala"
	self->priv->_storage = value;
#line 108 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_update_size_description (self);
#line 106 "../lib/Widgets/StorageBar.vala"
	g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY]);
#line 480 "StorageBar.c"
}

guint64
granite_widgets_storage_bar_get_total_usage (GraniteWidgetsStorageBar* self)
{
	guint64 result;
#line 115 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, 0ULL);
#line 116 "../lib/Widgets/StorageBar.vala"
	result = self->priv->_total_usage;
#line 116 "../lib/Widgets/StorageBar.vala"
	return result;
#line 493 "StorageBar.c"
}

void
granite_widgets_storage_bar_set_total_usage (GraniteWidgetsStorageBar* self,
                                             guint64 value)
{
	guint64 _tmp0_;
	guint64 _tmp1_;
#line 119 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 120 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = granite_widgets_storage_bar_get_storage (self);
#line 120 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = _tmp0_;
#line 120 "../lib/Widgets/StorageBar.vala"
	self->priv->_total_usage = MIN (value, _tmp1_);
#line 121 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_update_size_description (self);
#line 119 "../lib/Widgets/StorageBar.vala"
	g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY]);
#line 514 "StorageBar.c"
}

gint
granite_widgets_storage_bar_get_inner_margin_sides (GraniteWidgetsStorageBar* self)
{
	gint result;
	GtkBox* _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
#line 126 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 127 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->fillblock_box;
#line 127 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = gtk_widget_get_margin_start ((GtkWidget*) _tmp0_);
#line 127 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = _tmp1_;
#line 127 "../lib/Widgets/StorageBar.vala"
	result = _tmp2_;
#line 127 "../lib/Widgets/StorageBar.vala"
	return result;
#line 536 "StorageBar.c"
}

void
granite_widgets_storage_bar_set_inner_margin_sides (GraniteWidgetsStorageBar* self,
                                                    gint value)
{
	GtkBox* _tmp0_;
	GtkBox* _tmp1_;
#line 129 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 130 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->fillblock_box;
#line 130 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = self->priv->fillblock_box;
#line 130 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_margin_start ((GtkWidget*) _tmp1_, value);
#line 130 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_margin_end ((GtkWidget*) _tmp0_, value);
#line 129 "../lib/Widgets/StorageBar.vala"
	g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY]);
#line 557 "StorageBar.c"
}

/**
     * Creates a new StorageBar widget with the given amount of space.
     *
     * @param storage the total amount of space.
     */
GraniteWidgetsStorageBar*
granite_widgets_storage_bar_construct (GType object_type,
                                       guint64 storage)
{
	GraniteWidgetsStorageBar * self = NULL;
#line 148 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBar*) g_object_new (object_type, "storage", storage, NULL);
#line 147 "../lib/Widgets/StorageBar.vala"
	return self;
#line 574 "StorageBar.c"
}

GraniteWidgetsStorageBar*
granite_widgets_storage_bar_new (guint64 storage)
{
#line 147 "../lib/Widgets/StorageBar.vala"
	return granite_widgets_storage_bar_construct (GRANITE_WIDGETS_TYPE_STORAGE_BAR, storage);
#line 582 "StorageBar.c"
}

/**
     * Creates a new StorageBar widget with the given amount of space.an a larger total usage block
     *
     * @param storage the total amount of space.
     * @param usage the amount of space used.
     */
GraniteWidgetsStorageBar*
granite_widgets_storage_bar_construct_with_total_usage (GType object_type,
                                                        guint64 storage,
                                                        guint64 total_usage)
{
	GraniteWidgetsStorageBar * self = NULL;
#line 158 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBar*) g_object_new (object_type, "storage", storage, "total-usage", total_usage, NULL);
#line 157 "../lib/Widgets/StorageBar.vala"
	return self;
#line 601 "StorageBar.c"
}

GraniteWidgetsStorageBar*
granite_widgets_storage_bar_new_with_total_usage (guint64 storage,
                                                  guint64 total_usage)
{
#line 157 "../lib/Widgets/StorageBar.vala"
	return granite_widgets_storage_bar_construct_with_total_usage (GRANITE_WIDGETS_TYPE_STORAGE_BAR, storage, total_usage);
#line 610 "StorageBar.c"
}

static gint
__lambda79_ (GraniteWidgetsStorageBar* self,
             GraniteWidgetsStorageBarItemDescription a,
             GraniteWidgetsStorageBarItemDescription b)
{
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gint _tmp4_;
	gint result = 0;
#line 220 "../lib/Widgets/StorageBar.vala"
	if (a == GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES) {
#line 221 "../lib/Widgets/StorageBar.vala"
		result = 1;
#line 221 "../lib/Widgets/StorageBar.vala"
		return result;
#line 630 "StorageBar.c"
	}
#line 222 "../lib/Widgets/StorageBar.vala"
	if (b == GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES) {
#line 223 "../lib/Widgets/StorageBar.vala"
		result = -1;
#line 223 "../lib/Widgets/StorageBar.vala"
		return result;
#line 638 "StorageBar.c"
	}
#line 225 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = granite_widgets_storage_bar_item_description_get_name (a);
#line 225 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = _tmp0_;
#line 225 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = granite_widgets_storage_bar_item_description_get_name (b);
#line 225 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = _tmp2_;
#line 225 "../lib/Widgets/StorageBar.vala"
	_tmp4_ = g_utf8_collate (_tmp1_, _tmp3_);
#line 225 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp3_);
#line 225 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp1_);
#line 225 "../lib/Widgets/StorageBar.vala"
	result = _tmp4_;
#line 225 "../lib/Widgets/StorageBar.vala"
	return result;
#line 658 "StorageBar.c"
}

static gint
___lambda79__gcompare_data_func (gconstpointer a,
                                 gconstpointer b,
                                 gpointer self)
{
	gint result;
	result = __lambda79_ ((GraniteWidgetsStorageBar*) self, (GraniteWidgetsStorageBarItemDescription) ((gintptr) a), (GraniteWidgetsStorageBarItemDescription) ((gintptr) b));
#line 219 "../lib/Widgets/StorageBar.vala"
	return result;
#line 670 "StorageBar.c"
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 232 "../lib/Widgets/StorageBar.vala"
	return self ? g_object_ref (self) : NULL;
#line 678 "StorageBar.c"
}

static void
__lambda80_ (GraniteWidgetsStorageBar* self,
             GraniteWidgetsStorageBarItemDescription description)
{
	GraniteWidgetsStorageBarFillBlock* fill_block = NULL;
	GraniteWidgetsStorageBarFillBlock* _tmp0_;
	GtkBox* _tmp1_;
	GtkBox* _tmp2_;
	GtkGrid* _tmp3_;
	GtkGrid* _tmp4_;
	GHashTable* _tmp5_;
	GraniteWidgetsStorageBarFillBlock* _tmp6_;
	gint _tmp7_;
#line 229 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = granite_widgets_storage_bar_fill_block_new (description, (guint64) 0);
#line 229 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp0_);
#line 229 "../lib/Widgets/StorageBar.vala"
	fill_block = _tmp0_;
#line 230 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = self->priv->fillblock_box;
#line 230 "../lib/Widgets/StorageBar.vala"
	gtk_container_add ((GtkContainer*) _tmp1_, (GtkWidget*) fill_block);
#line 231 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = self->priv->legend_box;
#line 231 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = granite_widgets_storage_bar_fill_block_get_legend_item (fill_block);
#line 231 "../lib/Widgets/StorageBar.vala"
	_tmp4_ = _tmp3_;
#line 231 "../lib/Widgets/StorageBar.vala"
	gtk_container_add ((GtkContainer*) _tmp2_, (GtkWidget*) _tmp4_);
#line 232 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = self->priv->blocks;
#line 232 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = _g_object_ref0 (fill_block);
#line 232 "../lib/Widgets/StorageBar.vala"
	g_hash_table_insert (_tmp5_, (gpointer) ((gintptr) self->priv->index), _tmp6_);
#line 233 "../lib/Widgets/StorageBar.vala"
	_tmp7_ = self->priv->index;
#line 233 "../lib/Widgets/StorageBar.vala"
	self->priv->index = _tmp7_ + 1;
#line 228 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (fill_block);
#line 724 "StorageBar.c"
}

static void
___lambda80__gfunc (gconstpointer data,
                    gpointer self)
{
#line 228 "../lib/Widgets/StorageBar.vala"
	__lambda80_ ((GraniteWidgetsStorageBar*) self, (GraniteWidgetsStorageBarItemDescription) ((gintptr) data));
#line 733 "StorageBar.c"
}

static void
granite_widgets_storage_bar_create_default_blocks (GraniteWidgetsStorageBar* self)
{
	GSequence* seq = NULL;
	GSequence* _tmp0_;
	GSequenceIter* _tmp1_;
	GSequenceIter* _tmp2_;
	GSequenceIter* _tmp3_;
	GSequenceIter* _tmp4_;
	GSequenceIter* _tmp5_;
	guint64 _tmp6_;
	guint64 _tmp7_;
	GraniteWidgetsStorageBarFillBlock* _tmp8_;
	guint64 _tmp9_;
	guint64 _tmp10_;
	GraniteWidgetsStorageBarFillBlock* _tmp11_;
	GraniteWidgetsStorageBarFillBlock* _tmp12_;
	GtkStyleContext* _tmp13_;
	GraniteWidgetsStorageBarFillBlock* _tmp14_;
	GtkStyleContext* _tmp15_;
	GraniteWidgetsStorageBarFillBlock* _tmp16_;
	GtkStyleContext* _tmp17_;
	GHashTable* _tmp18_;
	gint _tmp19_;
	GraniteWidgetsStorageBarFillBlock* _tmp20_;
	GraniteWidgetsStorageBarFillBlock* _tmp21_;
	GHashTable* _tmp22_;
	gint _tmp23_;
	GraniteWidgetsStorageBarFillBlock* _tmp24_;
	GraniteWidgetsStorageBarFillBlock* _tmp25_;
	GtkBox* _tmp26_;
	GraniteWidgetsStorageBarFillBlock* _tmp27_;
	GtkBox* _tmp28_;
	GraniteWidgetsStorageBarFillBlock* _tmp29_;
#line 212 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 213 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = g_sequence_new (NULL);
#line 213 "../lib/Widgets/StorageBar.vala"
	seq = _tmp0_;
#line 214 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = g_sequence_append (seq, (gpointer) ((gintptr) GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES));
#line 215 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = g_sequence_append (seq, (gpointer) ((gintptr) GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_AUDIO));
#line 216 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = g_sequence_append (seq, (gpointer) ((gintptr) GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_VIDEO));
#line 217 "../lib/Widgets/StorageBar.vala"
	_tmp4_ = g_sequence_append (seq, (gpointer) ((gintptr) GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_PHOTO));
#line 218 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = g_sequence_append (seq, (gpointer) ((gintptr) GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_APP));
#line 219 "../lib/Widgets/StorageBar.vala"
	g_sequence_sort (seq, ___lambda79__gcompare_data_func, self);
#line 228 "../lib/Widgets/StorageBar.vala"
	g_sequence_foreach (seq, ___lambda80__gfunc, self);
#line 236 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = granite_widgets_storage_bar_get_storage (self);
#line 236 "../lib/Widgets/StorageBar.vala"
	_tmp7_ = _tmp6_;
#line 236 "../lib/Widgets/StorageBar.vala"
	_tmp8_ = granite_widgets_storage_bar_fill_block_new (GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES, _tmp7_);
#line 236 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp8_);
#line 236 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->free_space);
#line 236 "../lib/Widgets/StorageBar.vala"
	self->priv->free_space = _tmp8_;
#line 237 "../lib/Widgets/StorageBar.vala"
	_tmp9_ = granite_widgets_storage_bar_get_total_usage (self);
#line 237 "../lib/Widgets/StorageBar.vala"
	_tmp10_ = _tmp9_;
#line 237 "../lib/Widgets/StorageBar.vala"
	_tmp11_ = granite_widgets_storage_bar_fill_block_new (GRANITE_WIDGETS_STORAGE_BAR_ITEM_DESCRIPTION_FILES, _tmp10_);
#line 237 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp11_);
#line 237 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->used_space);
#line 237 "../lib/Widgets/StorageBar.vala"
	self->priv->used_space = _tmp11_;
#line 238 "../lib/Widgets/StorageBar.vala"
	_tmp12_ = self->priv->free_space;
#line 238 "../lib/Widgets/StorageBar.vala"
	_tmp13_ = gtk_widget_get_style_context ((GtkWidget*) _tmp12_);
#line 238 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_add_class (_tmp13_, "empty-block");
#line 239 "../lib/Widgets/StorageBar.vala"
	_tmp14_ = self->priv->free_space;
#line 239 "../lib/Widgets/StorageBar.vala"
	_tmp15_ = gtk_widget_get_style_context ((GtkWidget*) _tmp14_);
#line 239 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_remove_class (_tmp15_, "files");
#line 240 "../lib/Widgets/StorageBar.vala"
	_tmp16_ = self->priv->used_space;
#line 240 "../lib/Widgets/StorageBar.vala"
	_tmp17_ = gtk_widget_get_style_context ((GtkWidget*) _tmp16_);
#line 240 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_remove_class (_tmp17_, "files");
#line 241 "../lib/Widgets/StorageBar.vala"
	_tmp18_ = self->priv->blocks;
#line 241 "../lib/Widgets/StorageBar.vala"
	_tmp19_ = self->priv->index;
#line 241 "../lib/Widgets/StorageBar.vala"
	self->priv->index = _tmp19_ + 1;
#line 241 "../lib/Widgets/StorageBar.vala"
	_tmp20_ = self->priv->used_space;
#line 241 "../lib/Widgets/StorageBar.vala"
	_tmp21_ = _g_object_ref0 (_tmp20_);
#line 241 "../lib/Widgets/StorageBar.vala"
	g_hash_table_insert (_tmp18_, (gpointer) ((gintptr) _tmp19_), _tmp21_);
#line 242 "../lib/Widgets/StorageBar.vala"
	_tmp22_ = self->priv->blocks;
#line 242 "../lib/Widgets/StorageBar.vala"
	_tmp23_ = self->priv->index;
#line 242 "../lib/Widgets/StorageBar.vala"
	self->priv->index = _tmp23_ + 1;
#line 242 "../lib/Widgets/StorageBar.vala"
	_tmp24_ = self->priv->free_space;
#line 242 "../lib/Widgets/StorageBar.vala"
	_tmp25_ = _g_object_ref0 (_tmp24_);
#line 242 "../lib/Widgets/StorageBar.vala"
	g_hash_table_insert (_tmp22_, (gpointer) ((gintptr) _tmp23_), _tmp25_);
#line 243 "../lib/Widgets/StorageBar.vala"
	_tmp26_ = self->priv->fillblock_box;
#line 243 "../lib/Widgets/StorageBar.vala"
	_tmp27_ = self->priv->used_space;
#line 243 "../lib/Widgets/StorageBar.vala"
	gtk_container_add ((GtkContainer*) _tmp26_, (GtkWidget*) _tmp27_);
#line 244 "../lib/Widgets/StorageBar.vala"
	_tmp28_ = self->priv->fillblock_box;
#line 244 "../lib/Widgets/StorageBar.vala"
	_tmp29_ = self->priv->free_space;
#line 244 "../lib/Widgets/StorageBar.vala"
	gtk_container_add ((GtkContainer*) _tmp28_, (GtkWidget*) _tmp29_);
#line 246 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_update_size_description (self);
#line 212 "../lib/Widgets/StorageBar.vala"
	_g_sequence_free0 (seq);
#line 872 "StorageBar.c"
}

static void
granite_widgets_storage_bar_update_size_description (GraniteWidgetsStorageBar* self)
{
	guint64 user_size = 0ULL;
	GHashTable* _tmp0_;
	GList* _tmp1_;
	guint64 free = 0ULL;
	guint64 _tmp14_;
	guint64 _tmp15_;
	GraniteWidgetsStorageBarFillBlock* _tmp26_;
	GtkLabel* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	guint64 _tmp30_;
	guint64 _tmp31_;
	gchar* _tmp32_;
	gchar* _tmp33_;
	gchar* _tmp34_;
	gchar* _tmp35_;
#line 249 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 250 "../lib/Widgets/StorageBar.vala"
	user_size = (guint64) 0;
#line 251 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->blocks;
#line 251 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = g_hash_table_get_values (_tmp0_);
#line 902 "StorageBar.c"
	{
		GList* block_collection = NULL;
		GList* block_it = NULL;
#line 251 "../lib/Widgets/StorageBar.vala"
		block_collection = _tmp1_;
#line 251 "../lib/Widgets/StorageBar.vala"
		for (block_it = block_collection; block_it != NULL; block_it = block_it->next) {
#line 910 "StorageBar.c"
			GraniteWidgetsStorageBarFillBlock* block = NULL;
#line 251 "../lib/Widgets/StorageBar.vala"
			block = (GraniteWidgetsStorageBarFillBlock*) block_it->data;
#line 914 "StorageBar.c"
			{
				gboolean _tmp2_ = FALSE;
				gboolean _tmp3_ = FALSE;
				GraniteWidgetsStorageBarFillBlock* _tmp4_;
				gboolean _tmp5_;
				gboolean _tmp6_;
				GraniteWidgetsStorageBarFillBlock* _tmp11_;
				guint64 _tmp12_;
				guint64 _tmp13_;
#line 252 "../lib/Widgets/StorageBar.vala"
				_tmp4_ = block;
#line 252 "../lib/Widgets/StorageBar.vala"
				_tmp5_ = gtk_widget_get_visible ((GtkWidget*) _tmp4_);
#line 252 "../lib/Widgets/StorageBar.vala"
				_tmp6_ = _tmp5_;
#line 252 "../lib/Widgets/StorageBar.vala"
				if (_tmp6_ == FALSE) {
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp3_ = TRUE;
#line 934 "StorageBar.c"
				} else {
					GraniteWidgetsStorageBarFillBlock* _tmp7_;
					GraniteWidgetsStorageBarFillBlock* _tmp8_;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp7_ = block;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp8_ = self->priv->free_space;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp3_ = _tmp7_ == _tmp8_;
#line 944 "StorageBar.c"
				}
#line 252 "../lib/Widgets/StorageBar.vala"
				if (_tmp3_) {
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp2_ = TRUE;
#line 950 "StorageBar.c"
				} else {
					GraniteWidgetsStorageBarFillBlock* _tmp9_;
					GraniteWidgetsStorageBarFillBlock* _tmp10_;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp9_ = block;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp10_ = self->priv->used_space;
#line 252 "../lib/Widgets/StorageBar.vala"
					_tmp2_ = _tmp9_ == _tmp10_;
#line 960 "StorageBar.c"
				}
#line 252 "../lib/Widgets/StorageBar.vala"
				if (_tmp2_) {
#line 253 "../lib/Widgets/StorageBar.vala"
					continue;
#line 966 "StorageBar.c"
				}
#line 254 "../lib/Widgets/StorageBar.vala"
				_tmp11_ = block;
#line 254 "../lib/Widgets/StorageBar.vala"
				_tmp12_ = granite_widgets_storage_bar_fill_block_get_size (_tmp11_);
#line 254 "../lib/Widgets/StorageBar.vala"
				_tmp13_ = _tmp12_;
#line 254 "../lib/Widgets/StorageBar.vala"
				user_size += _tmp13_;
#line 976 "StorageBar.c"
			}
		}
#line 251 "../lib/Widgets/StorageBar.vala"
		(block_collection == NULL) ? NULL : (block_collection = (g_list_free (block_collection), NULL));
#line 981 "StorageBar.c"
	}
#line 258 "../lib/Widgets/StorageBar.vala"
	_tmp14_ = granite_widgets_storage_bar_get_total_usage (self);
#line 258 "../lib/Widgets/StorageBar.vala"
	_tmp15_ = _tmp14_;
#line 258 "../lib/Widgets/StorageBar.vala"
	if (user_size > _tmp15_) {
#line 989 "StorageBar.c"
		guint64 _tmp16_;
		guint64 _tmp17_;
		GraniteWidgetsStorageBarFillBlock* _tmp18_;
#line 259 "../lib/Widgets/StorageBar.vala"
		_tmp16_ = granite_widgets_storage_bar_get_storage (self);
#line 259 "../lib/Widgets/StorageBar.vala"
		_tmp17_ = _tmp16_;
#line 259 "../lib/Widgets/StorageBar.vala"
		free = _tmp17_ - user_size;
#line 260 "../lib/Widgets/StorageBar.vala"
		_tmp18_ = self->priv->used_space;
#line 260 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_fill_block_set_size (_tmp18_, (guint64) 0);
#line 1003 "StorageBar.c"
	} else {
		guint64 _tmp19_;
		guint64 _tmp20_;
		guint64 _tmp21_;
		guint64 _tmp22_;
		GraniteWidgetsStorageBarFillBlock* _tmp23_;
		guint64 _tmp24_;
		guint64 _tmp25_;
#line 262 "../lib/Widgets/StorageBar.vala"
		_tmp19_ = granite_widgets_storage_bar_get_storage (self);
#line 262 "../lib/Widgets/StorageBar.vala"
		_tmp20_ = _tmp19_;
#line 262 "../lib/Widgets/StorageBar.vala"
		_tmp21_ = granite_widgets_storage_bar_get_total_usage (self);
#line 262 "../lib/Widgets/StorageBar.vala"
		_tmp22_ = _tmp21_;
#line 262 "../lib/Widgets/StorageBar.vala"
		free = _tmp20_ - _tmp22_;
#line 263 "../lib/Widgets/StorageBar.vala"
		_tmp23_ = self->priv->used_space;
#line 263 "../lib/Widgets/StorageBar.vala"
		_tmp24_ = granite_widgets_storage_bar_get_total_usage (self);
#line 263 "../lib/Widgets/StorageBar.vala"
		_tmp25_ = _tmp24_;
#line 263 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_fill_block_set_size (_tmp23_, _tmp25_ - user_size);
#line 1030 "StorageBar.c"
	}
#line 266 "../lib/Widgets/StorageBar.vala"
	_tmp26_ = self->priv->free_space;
#line 266 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_fill_block_set_size (_tmp26_, free);
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp27_ = self->priv->description_label;
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp28_ = g_format_size_full (free, G_FORMAT_SIZE_DEFAULT);
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp29_ = _tmp28_;
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp30_ = granite_widgets_storage_bar_get_storage (self);
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp31_ = _tmp30_;
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp32_ = g_format_size_full (_tmp31_, G_FORMAT_SIZE_DEFAULT);
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp33_ = _tmp32_;
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp34_ = g_strdup_printf (_ ("%s free out of %s"), _tmp29_, _tmp33_);
#line 267 "../lib/Widgets/StorageBar.vala"
	_tmp35_ = _tmp34_;
#line 267 "../lib/Widgets/StorageBar.vala"
	gtk_label_set_label (_tmp27_, _tmp35_);
#line 267 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp35_);
#line 267 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp33_);
#line 267 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp29_);
#line 1062 "StorageBar.c"
}

/**
     * Update the specified block with a given amount of space.
     *
     * @param description the category to update.
     * @param size the size of the category or 0 to hide.
     */
void
granite_widgets_storage_bar_update_block_size (GraniteWidgetsStorageBar* self,
                                               GraniteWidgetsStorageBarItemDescription description,
                                               guint64 size)
{
	GHashTable* _tmp0_;
	GList* _tmp1_;
#line 276 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 277 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->blocks;
#line 277 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = g_hash_table_get_values (_tmp0_);
#line 1084 "StorageBar.c"
	{
		GList* block_collection = NULL;
		GList* block_it = NULL;
#line 277 "../lib/Widgets/StorageBar.vala"
		block_collection = _tmp1_;
#line 277 "../lib/Widgets/StorageBar.vala"
		for (block_it = block_collection; block_it != NULL; block_it = block_it->next) {
#line 1092 "StorageBar.c"
			GraniteWidgetsStorageBarFillBlock* block = NULL;
#line 277 "../lib/Widgets/StorageBar.vala"
			block = (GraniteWidgetsStorageBarFillBlock*) block_it->data;
#line 1096 "StorageBar.c"
			{
				GraniteWidgetsStorageBarFillBlock* _tmp2_;
				GraniteWidgetsStorageBarItemDescription _tmp3_;
				GraniteWidgetsStorageBarItemDescription _tmp4_;
#line 278 "../lib/Widgets/StorageBar.vala"
				_tmp2_ = block;
#line 278 "../lib/Widgets/StorageBar.vala"
				_tmp3_ = granite_widgets_storage_bar_fill_block_get_description (_tmp2_);
#line 278 "../lib/Widgets/StorageBar.vala"
				_tmp4_ = _tmp3_;
#line 278 "../lib/Widgets/StorageBar.vala"
				if (_tmp4_ == description) {
#line 1109 "StorageBar.c"
					GraniteWidgetsStorageBarFillBlock* _tmp5_;
#line 279 "../lib/Widgets/StorageBar.vala"
					_tmp5_ = block;
#line 279 "../lib/Widgets/StorageBar.vala"
					granite_widgets_storage_bar_fill_block_set_size (_tmp5_, size);
#line 280 "../lib/Widgets/StorageBar.vala"
					granite_widgets_storage_bar_update_size_description (self);
#line 281 "../lib/Widgets/StorageBar.vala"
					(block_collection == NULL) ? NULL : (block_collection = (g_list_free (block_collection), NULL));
#line 281 "../lib/Widgets/StorageBar.vala"
					return;
#line 1121 "StorageBar.c"
				}
			}
		}
#line 277 "../lib/Widgets/StorageBar.vala"
		(block_collection == NULL) ? NULL : (block_collection = (g_list_free (block_collection), NULL));
#line 1127 "StorageBar.c"
	}
}

static inline gpointer
granite_widgets_storage_bar_fill_block_get_instance_private (GraniteWidgetsStorageBarFillBlock* self)
{
	return G_STRUCT_MEMBER_P (self, GraniteWidgetsStorageBarFillBlock_private_offset);
}

G_GNUC_INTERNAL guint64
granite_widgets_storage_bar_fill_block_get_size (GraniteWidgetsStorageBarFillBlock* self)
{
	guint64 result;
#line 289 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, 0ULL);
#line 290 "../lib/Widgets/StorageBar.vala"
	result = self->priv->_size;
#line 290 "../lib/Widgets/StorageBar.vala"
	return result;
#line 1147 "StorageBar.c"
}

G_GNUC_INTERNAL void
granite_widgets_storage_bar_fill_block_set_size (GraniteWidgetsStorageBarFillBlock* self,
                                                 guint64 value)
{
#line 292 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 293 "../lib/Widgets/StorageBar.vala"
	self->priv->_size = value;
#line 294 "../lib/Widgets/StorageBar.vala"
	if (self->priv->_size == ((guint64) 0)) {
#line 1160 "StorageBar.c"
		GtkGrid* _tmp0_;
		GtkGrid* _tmp1_;
#line 295 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_no_show_all ((GtkWidget*) self, TRUE);
#line 296 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_visible ((GtkWidget*) self, FALSE);
#line 297 "../lib/Widgets/StorageBar.vala"
		_tmp0_ = self->priv->_legend_item;
#line 297 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_no_show_all ((GtkWidget*) _tmp0_, TRUE);
#line 298 "../lib/Widgets/StorageBar.vala"
		_tmp1_ = self->priv->_legend_item;
#line 298 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_visible ((GtkWidget*) _tmp1_, FALSE);
#line 1175 "StorageBar.c"
	} else {
		GtkGrid* _tmp2_;
		GtkGrid* _tmp3_;
		GtkLabel* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
#line 300 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_no_show_all ((GtkWidget*) self, FALSE);
#line 301 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_visible ((GtkWidget*) self, TRUE);
#line 302 "../lib/Widgets/StorageBar.vala"
		_tmp2_ = self->priv->_legend_item;
#line 302 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_no_show_all ((GtkWidget*) _tmp2_, FALSE);
#line 303 "../lib/Widgets/StorageBar.vala"
		_tmp3_ = self->priv->_legend_item;
#line 303 "../lib/Widgets/StorageBar.vala"
		gtk_widget_set_visible ((GtkWidget*) _tmp3_, TRUE);
#line 304 "../lib/Widgets/StorageBar.vala"
		_tmp4_ = self->priv->size_label;
#line 304 "../lib/Widgets/StorageBar.vala"
		_tmp5_ = g_format_size_full (self->priv->_size, G_FORMAT_SIZE_DEFAULT);
#line 304 "../lib/Widgets/StorageBar.vala"
		_tmp6_ = _tmp5_;
#line 304 "../lib/Widgets/StorageBar.vala"
		gtk_label_set_label (_tmp4_, _tmp6_);
#line 304 "../lib/Widgets/StorageBar.vala"
		_g_free0 (_tmp6_);
#line 305 "../lib/Widgets/StorageBar.vala"
		gtk_widget_queue_resize ((GtkWidget*) self);
#line 1206 "StorageBar.c"
	}
#line 292 "../lib/Widgets/StorageBar.vala"
	g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY]);
#line 1210 "StorageBar.c"
}

G_GNUC_INTERNAL GraniteWidgetsStorageBarItemDescription
granite_widgets_storage_bar_fill_block_get_description (GraniteWidgetsStorageBarFillBlock* self)
{
	GraniteWidgetsStorageBarItemDescription result;
	GraniteWidgetsStorageBarItemDescription _tmp0_;
#line 310 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 310 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->_description;
#line 310 "../lib/Widgets/StorageBar.vala"
	result = _tmp0_;
#line 310 "../lib/Widgets/StorageBar.vala"
	return result;
#line 1226 "StorageBar.c"
}

G_GNUC_INTERNAL void
granite_widgets_storage_bar_fill_block_set_description (GraniteWidgetsStorageBarFillBlock* self,
                                                        GraniteWidgetsStorageBarItemDescription value)
{
	GraniteWidgetsStorageBarItemDescription old_value;
#line 310 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 310 "../lib/Widgets/StorageBar.vala"
	old_value = granite_widgets_storage_bar_fill_block_get_description (self);
#line 310 "../lib/Widgets/StorageBar.vala"
	if (old_value != value) {
#line 310 "../lib/Widgets/StorageBar.vala"
		self->priv->_description = value;
#line 310 "../lib/Widgets/StorageBar.vala"
		g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY]);
#line 1244 "StorageBar.c"
	}
}

G_GNUC_INTERNAL GtkGrid*
granite_widgets_storage_bar_fill_block_get_legend_item (GraniteWidgetsStorageBarFillBlock* self)
{
	GtkGrid* result;
	GtkGrid* _tmp0_;
#line 311 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 311 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = self->priv->_legend_item;
#line 311 "../lib/Widgets/StorageBar.vala"
	result = _tmp0_;
#line 311 "../lib/Widgets/StorageBar.vala"
	return result;
#line 1261 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_block_set_legend_item (GraniteWidgetsStorageBarFillBlock* self,
                                                        GtkGrid* value)
{
	GtkGrid* old_value;
#line 311 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (self != NULL);
#line 311 "../lib/Widgets/StorageBar.vala"
	old_value = granite_widgets_storage_bar_fill_block_get_legend_item (self);
#line 311 "../lib/Widgets/StorageBar.vala"
	if (old_value != value) {
#line 1275 "StorageBar.c"
		GtkGrid* _tmp0_;
#line 311 "../lib/Widgets/StorageBar.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 311 "../lib/Widgets/StorageBar.vala"
		_g_object_unref0 (self->priv->_legend_item);
#line 311 "../lib/Widgets/StorageBar.vala"
		self->priv->_legend_item = _tmp0_;
#line 311 "../lib/Widgets/StorageBar.vala"
		g_object_notify_by_pspec ((GObject *) self, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY]);
#line 1285 "StorageBar.c"
	}
}

G_GNUC_INTERNAL GraniteWidgetsStorageBarFillBlock*
granite_widgets_storage_bar_fill_block_construct (GType object_type,
                                                  GraniteWidgetsStorageBarItemDescription description,
                                                  guint64 size)
{
	GraniteWidgetsStorageBarFillBlock * self = NULL;
	gchar* clas = NULL;
	gchar* _tmp0_;
	const gchar* _tmp1_;
	GtkLabel* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
#line 317 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBarFillBlock*) g_object_new (object_type, "size", size, "description", description, NULL);
#line 318 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = granite_widgets_storage_bar_item_description_get_class (description);
#line 318 "../lib/Widgets/StorageBar.vala"
	clas = _tmp0_;
#line 319 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = clas;
#line 319 "../lib/Widgets/StorageBar.vala"
	if (_tmp1_ != NULL) {
#line 1315 "StorageBar.c"
		GtkStyleContext* _tmp2_;
		const gchar* _tmp3_;
		GraniteWidgetsStorageBarFillRound* _tmp4_;
		GtkStyleContext* _tmp5_;
		const gchar* _tmp6_;
#line 320 "../lib/Widgets/StorageBar.vala"
		_tmp2_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 320 "../lib/Widgets/StorageBar.vala"
		_tmp3_ = clas;
#line 320 "../lib/Widgets/StorageBar.vala"
		gtk_style_context_add_class (_tmp2_, _tmp3_);
#line 321 "../lib/Widgets/StorageBar.vala"
		_tmp4_ = self->priv->legend_fill;
#line 321 "../lib/Widgets/StorageBar.vala"
		_tmp5_ = gtk_widget_get_style_context ((GtkWidget*) _tmp4_);
#line 321 "../lib/Widgets/StorageBar.vala"
		_tmp6_ = clas;
#line 321 "../lib/Widgets/StorageBar.vala"
		gtk_style_context_add_class (_tmp5_, _tmp6_);
#line 1335 "StorageBar.c"
	}
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp7_ = self->priv->name_label;
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp8_ = granite_widgets_storage_bar_item_description_get_name (description);
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp9_ = _tmp8_;
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp10_ = g_markup_escape_text (_tmp9_, (gssize) -1);
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp11_ = _tmp10_;
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp12_ = g_strdup_printf ("<b>%s</b>", _tmp11_);
#line 324 "../lib/Widgets/StorageBar.vala"
	_tmp13_ = _tmp12_;
#line 324 "../lib/Widgets/StorageBar.vala"
	gtk_label_set_label (_tmp7_, _tmp13_);
#line 324 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp13_);
#line 324 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp11_);
#line 324 "../lib/Widgets/StorageBar.vala"
	_g_free0 (_tmp9_);
#line 316 "../lib/Widgets/StorageBar.vala"
	_g_free0 (clas);
#line 316 "../lib/Widgets/StorageBar.vala"
	return self;
#line 1363 "StorageBar.c"
}

G_GNUC_INTERNAL GraniteWidgetsStorageBarFillBlock*
granite_widgets_storage_bar_fill_block_new (GraniteWidgetsStorageBarItemDescription description,
                                            guint64 size)
{
#line 316 "../lib/Widgets/StorageBar.vala"
	return granite_widgets_storage_bar_fill_block_construct (GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, description, size);
#line 1372 "StorageBar.c"
}

static GObject *
granite_widgets_storage_bar_fill_block_constructor (GType type,
                                                    guint n_construct_properties,
                                                    GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GraniteWidgetsStorageBarFillBlock * self;
	GtkGrid* _tmp0_;
	GtkGrid* _tmp1_;
	GtkGrid* _tmp2_;
	GtkLabel* _tmp3_;
	GtkLabel* _tmp4_;
	GtkLabel* _tmp5_;
	GtkLabel* _tmp6_;
	GtkLabel* _tmp7_;
	GraniteWidgetsStorageBarFillRound* _tmp8_;
	GraniteWidgetsStorageBarFillRound* _tmp9_;
	GtkStyleContext* _tmp10_;
	GtkBox* legend_box = NULL;
	GtkBox* _tmp11_;
	GtkBox* _tmp12_;
	GraniteWidgetsStorageBarFillRound* _tmp13_;
	GtkGrid* _tmp14_;
	GtkBox* _tmp15_;
	GtkGrid* _tmp16_;
	GtkLabel* _tmp17_;
	GtkGrid* _tmp18_;
	GtkLabel* _tmp19_;
#line 327 "../lib/Widgets/StorageBar.vala"
	parent_class = G_OBJECT_CLASS (granite_widgets_storage_bar_fill_block_parent_class);
#line 327 "../lib/Widgets/StorageBar.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 327 "../lib/Widgets/StorageBar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlock);
#line 328 "../lib/Widgets/StorageBar.vala"
	gtk_widget_show_all ((GtkWidget*) self);
#line 329 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = (GtkGrid*) gtk_grid_new ();
#line 329 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp0_);
#line 329 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = _tmp0_;
#line 329 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_fill_block_set_legend_item (self, _tmp1_);
#line 329 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (_tmp1_);
#line 330 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = self->priv->_legend_item;
#line 330 "../lib/Widgets/StorageBar.vala"
	gtk_grid_set_column_spacing (_tmp2_, 6);
#line 331 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = (GtkLabel*) gtk_label_new (NULL);
#line 331 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp3_);
#line 331 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->name_label);
#line 331 "../lib/Widgets/StorageBar.vala"
	self->priv->name_label = _tmp3_;
#line 332 "../lib/Widgets/StorageBar.vala"
	_tmp4_ = self->priv->name_label;
#line 332 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp4_, GTK_ALIGN_START);
#line 333 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = self->priv->name_label;
#line 333 "../lib/Widgets/StorageBar.vala"
	gtk_label_set_use_markup (_tmp5_, TRUE);
#line 334 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = (GtkLabel*) gtk_label_new (NULL);
#line 334 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp6_);
#line 334 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->size_label);
#line 334 "../lib/Widgets/StorageBar.vala"
	self->priv->size_label = _tmp6_;
#line 335 "../lib/Widgets/StorageBar.vala"
	_tmp7_ = self->priv->size_label;
#line 335 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_halign ((GtkWidget*) _tmp7_, GTK_ALIGN_START);
#line 336 "../lib/Widgets/StorageBar.vala"
	_tmp8_ = granite_widgets_storage_bar_fill_round_new ();
#line 336 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp8_);
#line 336 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->legend_fill);
#line 336 "../lib/Widgets/StorageBar.vala"
	self->priv->legend_fill = _tmp8_;
#line 337 "../lib/Widgets/StorageBar.vala"
	_tmp9_ = self->priv->legend_fill;
#line 337 "../lib/Widgets/StorageBar.vala"
	_tmp10_ = gtk_widget_get_style_context ((GtkWidget*) _tmp9_);
#line 337 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_add_class (_tmp10_, "legend");
#line 338 "../lib/Widgets/StorageBar.vala"
	_tmp11_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
#line 338 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp11_);
#line 338 "../lib/Widgets/StorageBar.vala"
	legend_box = _tmp11_;
#line 339 "../lib/Widgets/StorageBar.vala"
	_tmp12_ = legend_box;
#line 339 "../lib/Widgets/StorageBar.vala"
	_tmp13_ = self->priv->legend_fill;
#line 339 "../lib/Widgets/StorageBar.vala"
	gtk_box_set_center_widget (_tmp12_, (GtkWidget*) _tmp13_);
#line 340 "../lib/Widgets/StorageBar.vala"
	_tmp14_ = self->priv->_legend_item;
#line 340 "../lib/Widgets/StorageBar.vala"
	_tmp15_ = legend_box;
#line 340 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp14_, (GtkWidget*) _tmp15_, 0, 0, 1, 2);
#line 341 "../lib/Widgets/StorageBar.vala"
	_tmp16_ = self->priv->_legend_item;
#line 341 "../lib/Widgets/StorageBar.vala"
	_tmp17_ = self->priv->name_label;
#line 341 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp16_, (GtkWidget*) _tmp17_, 1, 0, 1, 1);
#line 342 "../lib/Widgets/StorageBar.vala"
	_tmp18_ = self->priv->_legend_item;
#line 342 "../lib/Widgets/StorageBar.vala"
	_tmp19_ = self->priv->size_label;
#line 342 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp18_, (GtkWidget*) _tmp19_, 1, 1, 1, 1);
#line 327 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (legend_box);
#line 327 "../lib/Widgets/StorageBar.vala"
	return obj;
#line 1502 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_block_class_init (GraniteWidgetsStorageBarFillBlockClass * klass,
                                                   gpointer klass_data)
{
#line 286 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_fill_block_parent_class = g_type_class_peek_parent (klass);
#line 286 "../lib/Widgets/StorageBar.vala"
	g_type_class_adjust_private_offset (klass, &GraniteWidgetsStorageBarFillBlock_private_offset);
#line 286 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_storage_bar_fill_block_get_property;
#line 286 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_storage_bar_fill_block_set_property;
#line 286 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->constructor = granite_widgets_storage_bar_fill_block_constructor;
#line 286 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_storage_bar_fill_block_finalize;
#line 286 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY] = g_param_spec_uint64 ("size", "size", "size", 0, G_MAXUINT64, 0U, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 286 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY] = g_param_spec_enum ("description", "description", "description", GRANITE_WIDGETS_STORAGE_BAR_TYPE_ITEM_DESCRIPTION, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 286 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY, granite_widgets_storage_bar_fill_block_properties[GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY] = g_param_spec_object ("legend-item", "legend-item", "legend-item", gtk_grid_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 1527 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_block_instance_init (GraniteWidgetsStorageBarFillBlock * self,
                                                      gpointer klass)
{
#line 286 "../lib/Widgets/StorageBar.vala"
	self->priv = granite_widgets_storage_bar_fill_block_get_instance_private (self);
#line 287 "../lib/Widgets/StorageBar.vala"
	self->priv->_size = (guint64) 0;
#line 1538 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_block_finalize (GObject * obj)
{
	GraniteWidgetsStorageBarFillBlock * self;
#line 286 "../lib/Widgets/StorageBar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlock);
#line 311 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->_legend_item);
#line 312 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->name_label);
#line 313 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->size_label);
#line 314 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->legend_fill);
#line 286 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (granite_widgets_storage_bar_fill_block_parent_class)->finalize (obj);
#line 1557 "StorageBar.c"
}

static GType
granite_widgets_storage_bar_fill_block_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsStorageBarFillBlockClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_storage_bar_fill_block_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsStorageBarFillBlock), 0, (GInstanceInitFunc) granite_widgets_storage_bar_fill_block_instance_init, NULL };
	GType granite_widgets_storage_bar_fill_block_type_id;
	granite_widgets_storage_bar_fill_block_type_id = g_type_register_static (GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND, "GraniteWidgetsStorageBarFillBlock", &g_define_type_info, 0);
	GraniteWidgetsStorageBarFillBlock_private_offset = g_type_add_instance_private (granite_widgets_storage_bar_fill_block_type_id, sizeof (GraniteWidgetsStorageBarFillBlockPrivate));
	return granite_widgets_storage_bar_fill_block_type_id;
}

G_GNUC_INTERNAL GType
granite_widgets_storage_bar_fill_block_get_type (void)
{
	static volatile gsize granite_widgets_storage_bar_fill_block_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_storage_bar_fill_block_type_id__volatile)) {
		GType granite_widgets_storage_bar_fill_block_type_id;
		granite_widgets_storage_bar_fill_block_type_id = granite_widgets_storage_bar_fill_block_get_type_once ();
		g_once_init_leave (&granite_widgets_storage_bar_fill_block_type_id__volatile, granite_widgets_storage_bar_fill_block_type_id);
	}
	return granite_widgets_storage_bar_fill_block_type_id__volatile;
}

static void
_vala_granite_widgets_storage_bar_fill_block_get_property (GObject * object,
                                                           guint property_id,
                                                           GValue * value,
                                                           GParamSpec * pspec)
{
	GraniteWidgetsStorageBarFillBlock * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlock);
#line 286 "../lib/Widgets/StorageBar.vala"
	switch (property_id) {
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		g_value_set_uint64 (value, granite_widgets_storage_bar_fill_block_get_size (self));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		g_value_set_enum (value, granite_widgets_storage_bar_fill_block_get_description (self));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		g_value_set_object (value, granite_widgets_storage_bar_fill_block_get_legend_item (self));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 1610 "StorageBar.c"
		default:
#line 286 "../lib/Widgets/StorageBar.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 1616 "StorageBar.c"
	}
}

static void
_vala_granite_widgets_storage_bar_fill_block_set_property (GObject * object,
                                                           guint property_id,
                                                           const GValue * value,
                                                           GParamSpec * pspec)
{
	GraniteWidgetsStorageBarFillBlock * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_BLOCK, GraniteWidgetsStorageBarFillBlock);
#line 286 "../lib/Widgets/StorageBar.vala"
	switch (property_id) {
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_SIZE_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_fill_block_set_size (self, g_value_get_uint64 (value));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_DESCRIPTION_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_fill_block_set_description (self, g_value_get_enum (value));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 286 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_FILL_BLOCK_LEGEND_ITEM_PROPERTY:
#line 286 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_fill_block_set_legend_item (self, g_value_get_object (value));
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 1648 "StorageBar.c"
		default:
#line 286 "../lib/Widgets/StorageBar.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 286 "../lib/Widgets/StorageBar.vala"
		break;
#line 1654 "StorageBar.c"
	}
}

G_GNUC_INTERNAL GraniteWidgetsStorageBarFillRound*
granite_widgets_storage_bar_fill_round_construct (GType object_type)
{
	GraniteWidgetsStorageBarFillRound * self = NULL;
#line 347 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBarFillRound*) gtk_widget_new (object_type, NULL);
#line 347 "../lib/Widgets/StorageBar.vala"
	return self;
#line 1666 "StorageBar.c"
}

G_GNUC_INTERNAL GraniteWidgetsStorageBarFillRound*
granite_widgets_storage_bar_fill_round_new (void)
{
#line 347 "../lib/Widgets/StorageBar.vala"
	return granite_widgets_storage_bar_fill_round_construct (GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND);
#line 1674 "StorageBar.c"
}

static gboolean
granite_widgets_storage_bar_fill_round_real_draw (GtkWidget* base,
                                                  cairo_t* cr)
{
	GraniteWidgetsStorageBarFillRound * self;
	gint width = 0;
	gint height = 0;
	GtkStyleContext* context = NULL;
	GtkStyleContext* _tmp0_;
	GtkStyleContext* _tmp1_;
	gboolean result = FALSE;
#line 358 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBarFillRound*) base;
#line 358 "../lib/Widgets/StorageBar.vala"
	g_return_val_if_fail (cr != NULL, FALSE);
#line 359 "../lib/Widgets/StorageBar.vala"
	width = gtk_widget_get_allocated_width ((GtkWidget*) self);
#line 360 "../lib/Widgets/StorageBar.vala"
	height = gtk_widget_get_allocated_height ((GtkWidget*) self);
#line 361 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 361 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 361 "../lib/Widgets/StorageBar.vala"
	context = _tmp1_;
#line 362 "../lib/Widgets/StorageBar.vala"
	gtk_render_background (context, cr, (gdouble) 0, (gdouble) 0, (gdouble) width, (gdouble) height);
#line 363 "../lib/Widgets/StorageBar.vala"
	gtk_render_frame (context, cr, (gdouble) 0, (gdouble) 0, (gdouble) width, (gdouble) height);
#line 364 "../lib/Widgets/StorageBar.vala"
	result = TRUE;
#line 364 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (context);
#line 364 "../lib/Widgets/StorageBar.vala"
	return result;
#line 1712 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_round_real_get_preferred_width (GtkWidget* base,
                                                                 gint* minimum_width,
                                                                 gint* natural_width)
{
	GraniteWidgetsStorageBarFillRound * self;
	gint _vala_minimum_width = 0;
	gint _vala_natural_width = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	GtkStyleContext* context = NULL;
	GtkStyleContext* _tmp2_;
	GtkStyleContext* _tmp3_;
	GtkBorder padding = {0};
	GtkBorder _tmp4_ = {0};
	GtkBorder _tmp5_;
	GtkBorder _tmp6_;
#line 367 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBarFillRound*) base;
#line 368 "../lib/Widgets/StorageBar.vala"
	GTK_WIDGET_CLASS (granite_widgets_storage_bar_fill_round_parent_class)->get_preferred_width (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), &_tmp0_, &_tmp1_);
#line 368 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_width = _tmp0_;
#line 368 "../lib/Widgets/StorageBar.vala"
	_vala_natural_width = _tmp1_;
#line 369 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 369 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 369 "../lib/Widgets/StorageBar.vala"
	context = _tmp3_;
#line 370 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_get_padding (context, gtk_widget_get_state_flags ((GtkWidget*) self), &_tmp4_);
#line 370 "../lib/Widgets/StorageBar.vala"
	padding = _tmp4_;
#line 371 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = padding;
#line 371 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = padding;
#line 371 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_width = MAX ((gint) (_tmp5_.left + _tmp6_.right), _vala_minimum_width);
#line 372 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_width = MAX (1, _vala_minimum_width);
#line 373 "../lib/Widgets/StorageBar.vala"
	_vala_natural_width = MAX (_vala_minimum_width, _vala_natural_width);
#line 367 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (context);
#line 367 "../lib/Widgets/StorageBar.vala"
	if (minimum_width) {
#line 367 "../lib/Widgets/StorageBar.vala"
		*minimum_width = _vala_minimum_width;
#line 1766 "StorageBar.c"
	}
#line 367 "../lib/Widgets/StorageBar.vala"
	if (natural_width) {
#line 367 "../lib/Widgets/StorageBar.vala"
		*natural_width = _vala_natural_width;
#line 1772 "StorageBar.c"
	}
}

static void
granite_widgets_storage_bar_fill_round_real_get_preferred_height (GtkWidget* base,
                                                                  gint* minimum_height,
                                                                  gint* natural_height)
{
	GraniteWidgetsStorageBarFillRound * self;
	gint _vala_minimum_height = 0;
	gint _vala_natural_height = 0;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	GtkStyleContext* context = NULL;
	GtkStyleContext* _tmp2_;
	GtkStyleContext* _tmp3_;
	GtkBorder padding = {0};
	GtkBorder _tmp4_ = {0};
	GtkBorder _tmp5_;
	GtkBorder _tmp6_;
#line 376 "../lib/Widgets/StorageBar.vala"
	self = (GraniteWidgetsStorageBarFillRound*) base;
#line 377 "../lib/Widgets/StorageBar.vala"
	GTK_WIDGET_CLASS (granite_widgets_storage_bar_fill_round_parent_class)->get_preferred_height (G_TYPE_CHECK_INSTANCE_CAST (self, gtk_widget_get_type (), GtkWidget), &_tmp0_, &_tmp1_);
#line 377 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_height = _tmp0_;
#line 377 "../lib/Widgets/StorageBar.vala"
	_vala_natural_height = _tmp1_;
#line 378 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 378 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 378 "../lib/Widgets/StorageBar.vala"
	context = _tmp3_;
#line 379 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_get_padding (context, gtk_widget_get_state_flags ((GtkWidget*) self), &_tmp4_);
#line 379 "../lib/Widgets/StorageBar.vala"
	padding = _tmp4_;
#line 380 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = padding;
#line 380 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = padding;
#line 380 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_height = MAX ((gint) (_tmp5_.top + _tmp6_.bottom), _vala_minimum_height);
#line 381 "../lib/Widgets/StorageBar.vala"
	_vala_minimum_height = MAX (1, _vala_minimum_height);
#line 382 "../lib/Widgets/StorageBar.vala"
	_vala_natural_height = MAX (_vala_minimum_height, _vala_natural_height);
#line 376 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (context);
#line 376 "../lib/Widgets/StorageBar.vala"
	if (minimum_height) {
#line 376 "../lib/Widgets/StorageBar.vala"
		*minimum_height = _vala_minimum_height;
#line 1827 "StorageBar.c"
	}
#line 376 "../lib/Widgets/StorageBar.vala"
	if (natural_height) {
#line 376 "../lib/Widgets/StorageBar.vala"
		*natural_height = _vala_natural_height;
#line 1833 "StorageBar.c"
	}
}

static GObject *
granite_widgets_storage_bar_fill_round_constructor (GType type,
                                                    guint n_construct_properties,
                                                    GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GraniteWidgetsStorageBarFillRound * self;
	GtkStyleContext* style_context = NULL;
	GtkStyleContext* _tmp0_;
	GtkStyleContext* _tmp1_;
	GtkStyleContext* _tmp2_;
#line 351 "../lib/Widgets/StorageBar.vala"
	parent_class = G_OBJECT_CLASS (granite_widgets_storage_bar_fill_round_parent_class);
#line 351 "../lib/Widgets/StorageBar.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 351 "../lib/Widgets/StorageBar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_STORAGE_BAR_TYPE_FILL_ROUND, GraniteWidgetsStorageBarFillRound);
#line 352 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_has_window ((GtkWidget*) self, FALSE);
#line 353 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 353 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 353 "../lib/Widgets/StorageBar.vala"
	style_context = _tmp1_;
#line 354 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = style_context;
#line 354 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_add_class (_tmp2_, "fill-block");
#line 355 "../lib/Widgets/StorageBar.vala"
	g_object_set ((GtkWidget*) self, "expand", TRUE, NULL);
#line 351 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (style_context);
#line 351 "../lib/Widgets/StorageBar.vala"
	return obj;
#line 1873 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_round_class_init (GraniteWidgetsStorageBarFillRoundClass * klass,
                                                   gpointer klass_data)
{
#line 346 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_fill_round_parent_class = g_type_class_peek_parent (klass);
#line 346 "../lib/Widgets/StorageBar.vala"
	((GtkWidgetClass *) klass)->draw = (gboolean (*) (GtkWidget*, cairo_t*)) granite_widgets_storage_bar_fill_round_real_draw;
#line 346 "../lib/Widgets/StorageBar.vala"
	((GtkWidgetClass *) klass)->get_preferred_width = (void (*) (GtkWidget*, gint*, gint*)) granite_widgets_storage_bar_fill_round_real_get_preferred_width;
#line 346 "../lib/Widgets/StorageBar.vala"
	((GtkWidgetClass *) klass)->get_preferred_height = (void (*) (GtkWidget*, gint*, gint*)) granite_widgets_storage_bar_fill_round_real_get_preferred_height;
#line 346 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->constructor = granite_widgets_storage_bar_fill_round_constructor;
#line 1890 "StorageBar.c"
}

static void
granite_widgets_storage_bar_fill_round_instance_init (GraniteWidgetsStorageBarFillRound * self,
                                                      gpointer klass)
{
}

static GType
granite_widgets_storage_bar_fill_round_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsStorageBarFillRoundClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_storage_bar_fill_round_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsStorageBarFillRound), 0, (GInstanceInitFunc) granite_widgets_storage_bar_fill_round_instance_init, NULL };
	GType granite_widgets_storage_bar_fill_round_type_id;
	granite_widgets_storage_bar_fill_round_type_id = g_type_register_static (gtk_widget_get_type (), "GraniteWidgetsStorageBarFillRound", &g_define_type_info, 0);
	return granite_widgets_storage_bar_fill_round_type_id;
}

G_GNUC_INTERNAL GType
granite_widgets_storage_bar_fill_round_get_type (void)
{
	static volatile gsize granite_widgets_storage_bar_fill_round_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_storage_bar_fill_round_type_id__volatile)) {
		GType granite_widgets_storage_bar_fill_round_type_id;
		granite_widgets_storage_bar_fill_round_type_id = granite_widgets_storage_bar_fill_round_get_type_once ();
		g_once_init_leave (&granite_widgets_storage_bar_fill_round_type_id__volatile, granite_widgets_storage_bar_fill_round_type_id);
	}
	return granite_widgets_storage_bar_fill_round_type_id__volatile;
}

static void
_g_object_unref0_ (gpointer var)
{
#line 167 "../lib/Widgets/StorageBar.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 1925 "StorageBar.c"
}

static void
_granite_widgets_storage_bar___lambda81_ (GraniteWidgetsStorageBar* self,
                                          GtkAllocation* allocation)
{
	gdouble lost_size = 0.0;
	gint current_x = 0;
	GtkAllocation _tmp0_;
#line 186 "../lib/Widgets/StorageBar.vala"
	g_return_if_fail (allocation != NULL);
#line 188 "../lib/Widgets/StorageBar.vala"
	lost_size = (gdouble) 0;
#line 189 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = *allocation;
#line 189 "../lib/Widgets/StorageBar.vala"
	current_x = _tmp0_.x;
#line 1943 "StorageBar.c"
	{
		gint i = 0;
#line 190 "../lib/Widgets/StorageBar.vala"
		i = 0;
#line 1948 "StorageBar.c"
		{
			gboolean _tmp1_ = FALSE;
#line 190 "../lib/Widgets/StorageBar.vala"
			_tmp1_ = TRUE;
#line 190 "../lib/Widgets/StorageBar.vala"
			while (TRUE) {
#line 1955 "StorageBar.c"
				GHashTable* _tmp3_;
				guint _tmp4_;
				guint _tmp5_;
				GraniteWidgetsStorageBarFillBlock* block = NULL;
				GHashTable* _tmp6_;
				gconstpointer _tmp7_;
				gboolean _tmp8_ = FALSE;
				GraniteWidgetsStorageBarFillBlock* _tmp9_;
				GtkAllocation new_allocation = {0};
				GtkAllocation _tmp13_;
				gdouble width = 0.0;
				GtkAllocation _tmp14_;
				GraniteWidgetsStorageBarFillBlock* _tmp15_;
				guint64 _tmp16_;
				guint64 _tmp17_;
				guint64 _tmp18_;
				guint64 _tmp19_;
				GtkAllocation _tmp20_;
				GraniteWidgetsStorageBarFillBlock* _tmp21_;
				GtkAllocation _tmp22_;
				GraniteWidgetsStorageBarFillBlock* _tmp23_;
				GtkAllocation _tmp24_;
				GtkAllocation _tmp25_;
#line 190 "../lib/Widgets/StorageBar.vala"
				if (!_tmp1_) {
#line 1981 "StorageBar.c"
					gint _tmp2_;
#line 190 "../lib/Widgets/StorageBar.vala"
					_tmp2_ = i;
#line 190 "../lib/Widgets/StorageBar.vala"
					i = _tmp2_ + 1;
#line 1987 "StorageBar.c"
				}
#line 190 "../lib/Widgets/StorageBar.vala"
				_tmp1_ = FALSE;
#line 190 "../lib/Widgets/StorageBar.vala"
				_tmp3_ = self->priv->blocks;
#line 190 "../lib/Widgets/StorageBar.vala"
				_tmp4_ = g_hash_table_size (_tmp3_);
#line 190 "../lib/Widgets/StorageBar.vala"
				_tmp5_ = _tmp4_;
#line 190 "../lib/Widgets/StorageBar.vala"
				if (!(((guint) i) < _tmp5_)) {
#line 190 "../lib/Widgets/StorageBar.vala"
					break;
#line 2001 "StorageBar.c"
				}
#line 191 "../lib/Widgets/StorageBar.vala"
				_tmp6_ = self->priv->blocks;
#line 191 "../lib/Widgets/StorageBar.vala"
				_tmp7_ = g_hash_table_lookup (_tmp6_, (gpointer) ((gintptr) i));
#line 191 "../lib/Widgets/StorageBar.vala"
				block = (GraniteWidgetsStorageBarFillBlock*) _tmp7_;
#line 192 "../lib/Widgets/StorageBar.vala"
				_tmp9_ = block;
#line 192 "../lib/Widgets/StorageBar.vala"
				if (_tmp9_ == NULL) {
#line 192 "../lib/Widgets/StorageBar.vala"
					_tmp8_ = TRUE;
#line 2015 "StorageBar.c"
				} else {
					GraniteWidgetsStorageBarFillBlock* _tmp10_;
					gboolean _tmp11_;
					gboolean _tmp12_;
#line 192 "../lib/Widgets/StorageBar.vala"
					_tmp10_ = block;
#line 192 "../lib/Widgets/StorageBar.vala"
					_tmp11_ = gtk_widget_get_visible ((GtkWidget*) _tmp10_);
#line 192 "../lib/Widgets/StorageBar.vala"
					_tmp12_ = _tmp11_;
#line 192 "../lib/Widgets/StorageBar.vala"
					_tmp8_ = _tmp12_ == FALSE;
#line 2028 "StorageBar.c"
				}
#line 192 "../lib/Widgets/StorageBar.vala"
				if (_tmp8_) {
#line 193 "../lib/Widgets/StorageBar.vala"
					continue;
#line 2034 "StorageBar.c"
				}
#line 195 "../lib/Widgets/StorageBar.vala"
				memset (&new_allocation, 0, sizeof (GtkAllocation));
#line 196 "../lib/Widgets/StorageBar.vala"
				new_allocation.x = current_x;
#line 197 "../lib/Widgets/StorageBar.vala"
				_tmp13_ = *allocation;
#line 197 "../lib/Widgets/StorageBar.vala"
				new_allocation.y = _tmp13_.y;
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp14_ = *allocation;
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp15_ = block;
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp16_ = granite_widgets_storage_bar_fill_block_get_size (_tmp15_);
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp17_ = _tmp16_;
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp18_ = granite_widgets_storage_bar_get_storage (self);
#line 198 "../lib/Widgets/StorageBar.vala"
				_tmp19_ = _tmp18_;
#line 198 "../lib/Widgets/StorageBar.vala"
				width = ((((gdouble) _tmp14_.width) * ((gdouble) _tmp17_)) / ((gdouble) _tmp19_)) + lost_size;
#line 199 "../lib/Widgets/StorageBar.vala"
				lost_size -= trunc (lost_size);
#line 200 "../lib/Widgets/StorageBar.vala"
				new_allocation.width = (gint) trunc (width);
#line 201 "../lib/Widgets/StorageBar.vala"
				_tmp20_ = *allocation;
#line 201 "../lib/Widgets/StorageBar.vala"
				new_allocation.height = _tmp20_.height;
#line 202 "../lib/Widgets/StorageBar.vala"
				_tmp21_ = block;
#line 202 "../lib/Widgets/StorageBar.vala"
				_tmp22_ = new_allocation;
#line 202 "../lib/Widgets/StorageBar.vala"
				_tmp23_ = block;
#line 202 "../lib/Widgets/StorageBar.vala"
				gtk_widget_size_allocate_with_baseline ((GtkWidget*) _tmp21_, &_tmp22_, gtk_widget_get_allocated_baseline ((GtkWidget*) _tmp23_));
#line 204 "../lib/Widgets/StorageBar.vala"
				_tmp24_ = new_allocation;
#line 204 "../lib/Widgets/StorageBar.vala"
				lost_size = width - _tmp24_.width;
#line 205 "../lib/Widgets/StorageBar.vala"
				_tmp25_ = new_allocation;
#line 205 "../lib/Widgets/StorageBar.vala"
				current_x += _tmp25_.width;
#line 2082 "StorageBar.c"
			}
		}
	}
}

static void
__granite_widgets_storage_bar___lambda81__gtk_widget_size_allocate (GtkWidget* _sender,
                                                                    GtkAllocation* allocation,
                                                                    gpointer self)
{
#line 186 "../lib/Widgets/StorageBar.vala"
	_granite_widgets_storage_bar___lambda81_ ((GraniteWidgetsStorageBar*) self, allocation);
#line 2095 "StorageBar.c"
}

static GObject *
granite_widgets_storage_bar_constructor (GType type,
                                         guint n_construct_properties,
                                         GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	GraniteWidgetsStorageBar * self;
	GtkLabel* _tmp0_;
	GtkLabel* _tmp1_;
	GtkLabel* _tmp2_;
	GtkStyleContext* _tmp3_;
	GHashTable* _tmp4_;
	GtkBox* _tmp5_;
	GtkBox* _tmp6_;
	GtkStyleContext* _tmp7_;
	GtkBox* _tmp8_;
	GtkBox* _tmp9_;
	GtkBox* _tmp10_;
	GtkBox* legend_center_box = NULL;
	GtkBox* _tmp11_;
	GtkBox* _tmp12_;
	GtkBox* _tmp13_;
	GtkScrolledWindow* legend_scrolled = NULL;
	GtkScrolledWindow* _tmp14_;
	GtkScrolledWindow* _tmp15_;
	GtkScrolledWindow* _tmp16_;
	GtkScrolledWindow* _tmp17_;
	GtkBox* _tmp18_;
	GtkGrid* grid = NULL;
	GtkGrid* _tmp19_;
	GtkGrid* _tmp20_;
	GtkScrolledWindow* _tmp21_;
	GtkGrid* _tmp22_;
	GtkBox* _tmp23_;
	GtkGrid* _tmp24_;
	GtkLabel* _tmp25_;
	GtkGrid* _tmp26_;
	GtkBox* _tmp27_;
#line 161 "../lib/Widgets/StorageBar.vala"
	parent_class = G_OBJECT_CLASS (granite_widgets_storage_bar_parent_class);
#line 161 "../lib/Widgets/StorageBar.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 161 "../lib/Widgets/StorageBar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBar);
#line 162 "../lib/Widgets/StorageBar.vala"
	gtk_orientable_set_orientation ((GtkOrientable*) self, GTK_ORIENTATION_VERTICAL);
#line 163 "../lib/Widgets/StorageBar.vala"
	_tmp0_ = (GtkLabel*) gtk_label_new (NULL);
#line 163 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp0_);
#line 163 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->description_label);
#line 163 "../lib/Widgets/StorageBar.vala"
	self->priv->description_label = _tmp0_;
#line 164 "../lib/Widgets/StorageBar.vala"
	_tmp1_ = self->priv->description_label;
#line 164 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_hexpand ((GtkWidget*) _tmp1_, TRUE);
#line 165 "../lib/Widgets/StorageBar.vala"
	_tmp2_ = self->priv->description_label;
#line 165 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_margin_top ((GtkWidget*) _tmp2_, 6);
#line 166 "../lib/Widgets/StorageBar.vala"
	_tmp3_ = gtk_widget_get_style_context ((GtkWidget*) self);
#line 166 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_add_class (_tmp3_, GRANITE_STYLE_CLASS_STORAGEBAR);
#line 167 "../lib/Widgets/StorageBar.vala"
	_tmp4_ = g_hash_table_new_full (NULL, NULL, NULL, _g_object_unref0_);
#line 167 "../lib/Widgets/StorageBar.vala"
	_g_hash_table_unref0 (self->priv->blocks);
#line 167 "../lib/Widgets/StorageBar.vala"
	self->priv->blocks = _tmp4_;
#line 168 "../lib/Widgets/StorageBar.vala"
	_tmp5_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
#line 168 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp5_);
#line 168 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->fillblock_box);
#line 168 "../lib/Widgets/StorageBar.vala"
	self->priv->fillblock_box = _tmp5_;
#line 169 "../lib/Widgets/StorageBar.vala"
	_tmp6_ = self->priv->fillblock_box;
#line 169 "../lib/Widgets/StorageBar.vala"
	_tmp7_ = gtk_widget_get_style_context ((GtkWidget*) _tmp6_);
#line 169 "../lib/Widgets/StorageBar.vala"
	gtk_style_context_add_class (_tmp7_, GTK_STYLE_CLASS_TROUGH);
#line 170 "../lib/Widgets/StorageBar.vala"
	_tmp8_ = self->priv->fillblock_box;
#line 170 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_hexpand ((GtkWidget*) _tmp8_, TRUE);
#line 171 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_set_inner_margin_sides (self, 12);
#line 172 "../lib/Widgets/StorageBar.vala"
	_tmp9_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 12);
#line 172 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp9_);
#line 172 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->legend_box);
#line 172 "../lib/Widgets/StorageBar.vala"
	self->priv->legend_box = _tmp9_;
#line 173 "../lib/Widgets/StorageBar.vala"
	_tmp10_ = self->priv->legend_box;
#line 173 "../lib/Widgets/StorageBar.vala"
	g_object_set ((GtkWidget*) _tmp10_, "expand", TRUE, NULL);
#line 174 "../lib/Widgets/StorageBar.vala"
	_tmp11_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 0);
#line 174 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp11_);
#line 174 "../lib/Widgets/StorageBar.vala"
	legend_center_box = _tmp11_;
#line 175 "../lib/Widgets/StorageBar.vala"
	_tmp12_ = legend_center_box;
#line 175 "../lib/Widgets/StorageBar.vala"
	_tmp13_ = self->priv->legend_box;
#line 175 "../lib/Widgets/StorageBar.vala"
	gtk_box_set_center_widget (_tmp12_, (GtkWidget*) _tmp13_);
#line 176 "../lib/Widgets/StorageBar.vala"
	_tmp14_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 176 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp14_);
#line 176 "../lib/Widgets/StorageBar.vala"
	legend_scrolled = _tmp14_;
#line 177 "../lib/Widgets/StorageBar.vala"
	_tmp15_ = legend_scrolled;
#line 177 "../lib/Widgets/StorageBar.vala"
	g_object_set (_tmp15_, "vscrollbar-policy", GTK_POLICY_NEVER, NULL);
#line 178 "../lib/Widgets/StorageBar.vala"
	_tmp16_ = legend_scrolled;
#line 178 "../lib/Widgets/StorageBar.vala"
	gtk_widget_set_hexpand ((GtkWidget*) _tmp16_, TRUE);
#line 179 "../lib/Widgets/StorageBar.vala"
	_tmp17_ = legend_scrolled;
#line 179 "../lib/Widgets/StorageBar.vala"
	_tmp18_ = legend_center_box;
#line 179 "../lib/Widgets/StorageBar.vala"
	gtk_container_add ((GtkContainer*) _tmp17_, (GtkWidget*) _tmp18_);
#line 180 "../lib/Widgets/StorageBar.vala"
	_tmp19_ = (GtkGrid*) gtk_grid_new ();
#line 180 "../lib/Widgets/StorageBar.vala"
	g_object_ref_sink (_tmp19_);
#line 180 "../lib/Widgets/StorageBar.vala"
	grid = _tmp19_;
#line 181 "../lib/Widgets/StorageBar.vala"
	_tmp20_ = grid;
#line 181 "../lib/Widgets/StorageBar.vala"
	_tmp21_ = legend_scrolled;
#line 181 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp20_, (GtkWidget*) _tmp21_, 0, 0, 1, 1);
#line 182 "../lib/Widgets/StorageBar.vala"
	_tmp22_ = grid;
#line 182 "../lib/Widgets/StorageBar.vala"
	_tmp23_ = self->priv->fillblock_box;
#line 182 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp22_, (GtkWidget*) _tmp23_, 0, 1, 1, 1);
#line 183 "../lib/Widgets/StorageBar.vala"
	_tmp24_ = grid;
#line 183 "../lib/Widgets/StorageBar.vala"
	_tmp25_ = self->priv->description_label;
#line 183 "../lib/Widgets/StorageBar.vala"
	gtk_grid_attach (_tmp24_, (GtkWidget*) _tmp25_, 0, 2, 1, 1);
#line 184 "../lib/Widgets/StorageBar.vala"
	_tmp26_ = grid;
#line 184 "../lib/Widgets/StorageBar.vala"
	gtk_box_set_center_widget ((GtkBox*) self, (GtkWidget*) _tmp26_);
#line 186 "../lib/Widgets/StorageBar.vala"
	_tmp27_ = self->priv->fillblock_box;
#line 186 "../lib/Widgets/StorageBar.vala"
	g_signal_connect_object ((GtkWidget*) _tmp27_, "size-allocate", (GCallback) __granite_widgets_storage_bar___lambda81__gtk_widget_size_allocate, self, 0);
#line 209 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_create_default_blocks (self);
#line 161 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (grid);
#line 161 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (legend_scrolled);
#line 161 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (legend_center_box);
#line 161 "../lib/Widgets/StorageBar.vala"
	return obj;
#line 2277 "StorageBar.c"
}

static void
granite_widgets_storage_bar_class_init (GraniteWidgetsStorageBarClass * klass,
                                        gpointer klass_data)
{
#line 53 "../lib/Widgets/StorageBar.vala"
	granite_widgets_storage_bar_parent_class = g_type_class_peek_parent (klass);
#line 53 "../lib/Widgets/StorageBar.vala"
	g_type_class_adjust_private_offset (klass, &GraniteWidgetsStorageBar_private_offset);
#line 53 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_granite_widgets_storage_bar_get_property;
#line 53 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_granite_widgets_storage_bar_set_property;
#line 53 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->constructor = granite_widgets_storage_bar_constructor;
#line 53 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (klass)->finalize = granite_widgets_storage_bar_finalize;
#line 53 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY] = g_param_spec_uint64 ("storage", "storage", "storage", 0, G_MAXUINT64, 0U, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 53 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY] = g_param_spec_uint64 ("total-usage", "total-usage", "total-usage", 0, G_MAXUINT64, 0U, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 53 "../lib/Widgets/StorageBar.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY, granite_widgets_storage_bar_properties[GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY] = g_param_spec_int ("inner-margin-sides", "inner-margin-sides", "inner-margin-sides", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 2302 "StorageBar.c"
}

static void
granite_widgets_storage_bar_instance_init (GraniteWidgetsStorageBar * self,
                                           gpointer klass)
{
#line 53 "../lib/Widgets/StorageBar.vala"
	self->priv = granite_widgets_storage_bar_get_instance_private (self);
#line 100 "../lib/Widgets/StorageBar.vala"
	self->priv->_storage = (guint64) 0;
#line 112 "../lib/Widgets/StorageBar.vala"
	self->priv->_total_usage = (guint64) 0;
#line 136 "../lib/Widgets/StorageBar.vala"
	self->priv->index = 0;
#line 2317 "StorageBar.c"
}

static void
granite_widgets_storage_bar_finalize (GObject * obj)
{
	GraniteWidgetsStorageBar * self;
#line 53 "../lib/Widgets/StorageBar.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBar);
#line 134 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->description_label);
#line 135 "../lib/Widgets/StorageBar.vala"
	_g_hash_table_unref0 (self->priv->blocks);
#line 137 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->fillblock_box);
#line 138 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->legend_box);
#line 139 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->free_space);
#line 140 "../lib/Widgets/StorageBar.vala"
	_g_object_unref0 (self->priv->used_space);
#line 53 "../lib/Widgets/StorageBar.vala"
	G_OBJECT_CLASS (granite_widgets_storage_bar_parent_class)->finalize (obj);
#line 2340 "StorageBar.c"
}

/**
 * An horizontal bar showing the remaining amount of space.
 *
 * {{../doc/images/StorageBar.png}}
 *
 * ''Example''<<BR>>
 * {{{
 * public class StorageView : Gtk.Grid {
 *     construct {
 *         var file_root = GLib.File.new_for_path ("/");
 *
 *         try {
 *             var info = file_root.query_filesystem_info (GLib.FileAttribute.FILESYSTEM_SIZE, null);
 *
 *             var size = info.get_attribute_uint64 (GLib.FileAttribute.FILESYSTEM_SIZE);
 *
 *             var storage = new Granite.Widgets.StorageBar.with_total_usage (size, size/2);
 *             storage.update_block_size (Granite.Widgets.StorageBar.ItemDescription.AUDIO, size/40);
 *             storage.update_block_size (Granite.Widgets.StorageBar.ItemDescription.VIDEO, size/30);
 *             storage.update_block_size (Granite.Widgets.StorageBar.ItemDescription.APP, size/20);
 *             storage.update_block_size (Granite.Widgets.StorageBar.ItemDescription.PHOTO, size/10);
 *             storage.update_block_size (Granite.Widgets.StorageBar.ItemDescription.FILES, size/5);
 *
 *             add (storage);
 *         } catch (Error e) {
 *             critical (e.message);
 *         }
 *     }
 * }
 * }}}
 */
static GType
granite_widgets_storage_bar_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (GraniteWidgetsStorageBarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) granite_widgets_storage_bar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (GraniteWidgetsStorageBar), 0, (GInstanceInitFunc) granite_widgets_storage_bar_instance_init, NULL };
	GType granite_widgets_storage_bar_type_id;
	granite_widgets_storage_bar_type_id = g_type_register_static (gtk_box_get_type (), "GraniteWidgetsStorageBar", &g_define_type_info, 0);
	GraniteWidgetsStorageBar_private_offset = g_type_add_instance_private (granite_widgets_storage_bar_type_id, sizeof (GraniteWidgetsStorageBarPrivate));
	return granite_widgets_storage_bar_type_id;
}

GType
granite_widgets_storage_bar_get_type (void)
{
	static volatile gsize granite_widgets_storage_bar_type_id__volatile = 0;
	if (g_once_init_enter (&granite_widgets_storage_bar_type_id__volatile)) {
		GType granite_widgets_storage_bar_type_id;
		granite_widgets_storage_bar_type_id = granite_widgets_storage_bar_get_type_once ();
		g_once_init_leave (&granite_widgets_storage_bar_type_id__volatile, granite_widgets_storage_bar_type_id);
	}
	return granite_widgets_storage_bar_type_id__volatile;
}

static void
_vala_granite_widgets_storage_bar_get_property (GObject * object,
                                                guint property_id,
                                                GValue * value,
                                                GParamSpec * pspec)
{
	GraniteWidgetsStorageBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBar);
#line 53 "../lib/Widgets/StorageBar.vala"
	switch (property_id) {
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		g_value_set_uint64 (value, granite_widgets_storage_bar_get_storage (self));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		g_value_set_uint64 (value, granite_widgets_storage_bar_get_total_usage (self));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		g_value_set_int (value, granite_widgets_storage_bar_get_inner_margin_sides (self));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 2424 "StorageBar.c"
		default:
#line 53 "../lib/Widgets/StorageBar.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 2430 "StorageBar.c"
	}
}

static void
_vala_granite_widgets_storage_bar_set_property (GObject * object,
                                                guint property_id,
                                                const GValue * value,
                                                GParamSpec * pspec)
{
	GraniteWidgetsStorageBar * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, GRANITE_WIDGETS_TYPE_STORAGE_BAR, GraniteWidgetsStorageBar);
#line 53 "../lib/Widgets/StorageBar.vala"
	switch (property_id) {
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_STORAGE_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_set_storage (self, g_value_get_uint64 (value));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_TOTAL_USAGE_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_set_total_usage (self, g_value_get_uint64 (value));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 53 "../lib/Widgets/StorageBar.vala"
		case GRANITE_WIDGETS_STORAGE_BAR_INNER_MARGIN_SIDES_PROPERTY:
#line 53 "../lib/Widgets/StorageBar.vala"
		granite_widgets_storage_bar_set_inner_margin_sides (self, g_value_get_int (value));
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 2462 "StorageBar.c"
		default:
#line 53 "../lib/Widgets/StorageBar.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 53 "../lib/Widgets/StorageBar.vala"
		break;
#line 2468 "StorageBar.c"
	}
}

